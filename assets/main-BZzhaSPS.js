(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function r(l){if(l.ep)return;l.ep=!0;const c=i(l);fetch(l.href,c)}})();var _d={exports:{}},hl={};var m_;function iA(){if(m_)return hl;m_=1;var a=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(r,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var p in l)p!=="key"&&(c[p]=l[p])}else c=l;return l=c.ref,{$$typeof:a,type:r,key:d,ref:l!==void 0?l:null,props:c}}return hl.Fragment=t,hl.jsx=i,hl.jsxs=i,hl}var g_;function sA(){return g_||(g_=1,_d.exports=iA()),_d.exports}var B=sA(),vd={exports:{}},vt={};var p_;function rA(){if(p_)return vt;p_=1;var a=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),U=Symbol.iterator;function K(O){return O===null||typeof O!="object"?null:(O=U&&O[U]||O["@@iterator"],typeof O=="function"?O:null)}var W={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},nt=Object.assign,J={};function ht(O,Y,et){this.props=O,this.context=Y,this.refs=J,this.updater=et||W}ht.prototype.isReactComponent={},ht.prototype.setState=function(O,Y){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,Y,"setState")},ht.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function gt(){}gt.prototype=ht.prototype;function dt(O,Y,et){this.props=O,this.context=Y,this.refs=J,this.updater=et||W}var Bt=dt.prototype=new gt;Bt.constructor=dt,nt(Bt,ht.prototype),Bt.isPureReactComponent=!0;var Jt=Array.isArray;function Mt(){}var I={H:null,A:null,T:null,S:null},S=Object.prototype.hasOwnProperty;function w(O,Y,et){var st=et.ref;return{$$typeof:a,type:O,key:Y,ref:st!==void 0?st:null,props:et}}function M(O,Y){return w(O.type,Y,O.props)}function N(O){return typeof O=="object"&&O!==null&&O.$$typeof===a}function x(O){var Y={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(et){return Y[et]})}var R=/\/+/g;function ie(O,Y){return typeof O=="object"&&O!==null&&O.key!=null?x(""+O.key):Y.toString(36)}function Ce(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(Mt,Mt):(O.status="pending",O.then(function(Y){O.status==="pending"&&(O.status="fulfilled",O.value=Y)},function(Y){O.status==="pending"&&(O.status="rejected",O.reason=Y)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function G(O,Y,et,st,yt){var St=typeof O;(St==="undefined"||St==="boolean")&&(O=null);var xt=!1;if(O===null)xt=!0;else switch(St){case"bigint":case"string":case"number":xt=!0;break;case"object":switch(O.$$typeof){case a:case t:xt=!0;break;case A:return xt=O._init,G(xt(O._payload),Y,et,st,yt)}}if(xt)return yt=yt(O),xt=st===""?"."+ie(O,0):st,Jt(yt)?(et="",xt!=null&&(et=xt.replace(R,"$&/")+"/"),G(yt,Y,et,"",function(tr){return tr})):yt!=null&&(N(yt)&&(yt=M(yt,et+(yt.key==null||O&&O.key===yt.key?"":(""+yt.key).replace(R,"$&/")+"/")+xt)),Y.push(yt)),1;xt=0;var Ie=st===""?".":st+":";if(Jt(O))for(var se=0;se<O.length;se++)st=O[se],St=Ie+ie(st,se),xt+=G(st,Y,et,St,yt);else if(se=K(O),typeof se=="function")for(O=se.call(O),se=0;!(st=O.next()).done;)st=st.value,St=Ie+ie(st,se++),xt+=G(st,Y,et,St,yt);else if(St==="object"){if(typeof O.then=="function")return G(Ce(O),Y,et,st,yt);throw Y=String(O),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return xt}function tt(O,Y,et){if(O==null)return O;var st=[],yt=0;return G(O,st,"","",function(St){return Y.call(et,St,yt++)}),st}function ut(O){if(O._status===-1){var Y=O._result;Y=Y(),Y.then(function(et){(O._status===0||O._status===-1)&&(O._status=1,O._result=et)},function(et){(O._status===0||O._status===-1)&&(O._status=2,O._result=et)}),O._status===-1&&(O._status=0,O._result=Y)}if(O._status===1)return O._result.default;throw O._result}var Lt=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},Ht={map:tt,forEach:function(O,Y,et){tt(O,function(){Y.apply(this,arguments)},et)},count:function(O){var Y=0;return tt(O,function(){Y++}),Y},toArray:function(O){return tt(O,function(Y){return Y})||[]},only:function(O){if(!N(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return vt.Activity=b,vt.Children=Ht,vt.Component=ht,vt.Fragment=i,vt.Profiler=l,vt.PureComponent=dt,vt.StrictMode=r,vt.Suspense=_,vt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,vt.__COMPILER_RUNTIME={__proto__:null,c:function(O){return I.H.useMemoCache(O)}},vt.cache=function(O){return function(){return O.apply(null,arguments)}},vt.cacheSignal=function(){return null},vt.cloneElement=function(O,Y,et){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var st=nt({},O.props),yt=O.key;if(Y!=null)for(St in Y.key!==void 0&&(yt=""+Y.key),Y)!S.call(Y,St)||St==="key"||St==="__self"||St==="__source"||St==="ref"&&Y.ref===void 0||(st[St]=Y[St]);var St=arguments.length-2;if(St===1)st.children=et;else if(1<St){for(var xt=Array(St),Ie=0;Ie<St;Ie++)xt[Ie]=arguments[Ie+2];st.children=xt}return w(O.type,yt,st)},vt.createContext=function(O){return O={$$typeof:d,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:c,_context:O},O},vt.createElement=function(O,Y,et){var st,yt={},St=null;if(Y!=null)for(st in Y.key!==void 0&&(St=""+Y.key),Y)S.call(Y,st)&&st!=="key"&&st!=="__self"&&st!=="__source"&&(yt[st]=Y[st]);var xt=arguments.length-2;if(xt===1)yt.children=et;else if(1<xt){for(var Ie=Array(xt),se=0;se<xt;se++)Ie[se]=arguments[se+2];yt.children=Ie}if(O&&O.defaultProps)for(st in xt=O.defaultProps,xt)yt[st]===void 0&&(yt[st]=xt[st]);return w(O,St,yt)},vt.createRef=function(){return{current:null}},vt.forwardRef=function(O){return{$$typeof:p,render:O}},vt.isValidElement=N,vt.lazy=function(O){return{$$typeof:A,_payload:{_status:-1,_result:O},_init:ut}},vt.memo=function(O,Y){return{$$typeof:y,type:O,compare:Y===void 0?null:Y}},vt.startTransition=function(O){var Y=I.T,et={};I.T=et;try{var st=O(),yt=I.S;yt!==null&&yt(et,st),typeof st=="object"&&st!==null&&typeof st.then=="function"&&st.then(Mt,Lt)}catch(St){Lt(St)}finally{Y!==null&&et.types!==null&&(Y.types=et.types),I.T=Y}},vt.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},vt.use=function(O){return I.H.use(O)},vt.useActionState=function(O,Y,et){return I.H.useActionState(O,Y,et)},vt.useCallback=function(O,Y){return I.H.useCallback(O,Y)},vt.useContext=function(O){return I.H.useContext(O)},vt.useDebugValue=function(){},vt.useDeferredValue=function(O,Y){return I.H.useDeferredValue(O,Y)},vt.useEffect=function(O,Y){return I.H.useEffect(O,Y)},vt.useEffectEvent=function(O){return I.H.useEffectEvent(O)},vt.useId=function(){return I.H.useId()},vt.useImperativeHandle=function(O,Y,et){return I.H.useImperativeHandle(O,Y,et)},vt.useInsertionEffect=function(O,Y){return I.H.useInsertionEffect(O,Y)},vt.useLayoutEffect=function(O,Y){return I.H.useLayoutEffect(O,Y)},vt.useMemo=function(O,Y){return I.H.useMemo(O,Y)},vt.useOptimistic=function(O,Y){return I.H.useOptimistic(O,Y)},vt.useReducer=function(O,Y,et){return I.H.useReducer(O,Y,et)},vt.useRef=function(O){return I.H.useRef(O)},vt.useState=function(O){return I.H.useState(O)},vt.useSyncExternalStore=function(O,Y,et){return I.H.useSyncExternalStore(O,Y,et)},vt.useTransition=function(){return I.H.useTransition()},vt.version="19.2.3",vt}var y_;function om(){return y_||(y_=1,vd.exports=rA()),vd.exports}var oe=om(),Ed={exports:{}},fl={},Td={exports:{}},Ad={};var __;function aA(){return __||(__=1,(function(a){function t(G,tt){var ut=G.length;G.push(tt);t:for(;0<ut;){var Lt=ut-1>>>1,Ht=G[Lt];if(0<l(Ht,tt))G[Lt]=tt,G[ut]=Ht,ut=Lt;else break t}}function i(G){return G.length===0?null:G[0]}function r(G){if(G.length===0)return null;var tt=G[0],ut=G.pop();if(ut!==tt){G[0]=ut;t:for(var Lt=0,Ht=G.length,O=Ht>>>1;Lt<O;){var Y=2*(Lt+1)-1,et=G[Y],st=Y+1,yt=G[st];if(0>l(et,ut))st<Ht&&0>l(yt,et)?(G[Lt]=yt,G[st]=ut,Lt=st):(G[Lt]=et,G[Y]=ut,Lt=Y);else if(st<Ht&&0>l(yt,ut))G[Lt]=yt,G[st]=ut,Lt=st;else break t}}return tt}function l(G,tt){var ut=G.sortIndex-tt.sortIndex;return ut!==0?ut:G.id-tt.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;a.unstable_now=function(){return c.now()}}else{var d=Date,p=d.now();a.unstable_now=function(){return d.now()-p}}var _=[],y=[],A=1,b=null,U=3,K=!1,W=!1,nt=!1,J=!1,ht=typeof setTimeout=="function"?setTimeout:null,gt=typeof clearTimeout=="function"?clearTimeout:null,dt=typeof setImmediate<"u"?setImmediate:null;function Bt(G){for(var tt=i(y);tt!==null;){if(tt.callback===null)r(y);else if(tt.startTime<=G)r(y),tt.sortIndex=tt.expirationTime,t(_,tt);else break;tt=i(y)}}function Jt(G){if(nt=!1,Bt(G),!W)if(i(_)!==null)W=!0,Mt||(Mt=!0,x());else{var tt=i(y);tt!==null&&Ce(Jt,tt.startTime-G)}}var Mt=!1,I=-1,S=5,w=-1;function M(){return J?!0:!(a.unstable_now()-w<S)}function N(){if(J=!1,Mt){var G=a.unstable_now();w=G;var tt=!0;try{t:{W=!1,nt&&(nt=!1,gt(I),I=-1),K=!0;var ut=U;try{e:{for(Bt(G),b=i(_);b!==null&&!(b.expirationTime>G&&M());){var Lt=b.callback;if(typeof Lt=="function"){b.callback=null,U=b.priorityLevel;var Ht=Lt(b.expirationTime<=G);if(G=a.unstable_now(),typeof Ht=="function"){b.callback=Ht,Bt(G),tt=!0;break e}b===i(_)&&r(_),Bt(G)}else r(_);b=i(_)}if(b!==null)tt=!0;else{var O=i(y);O!==null&&Ce(Jt,O.startTime-G),tt=!1}}break t}finally{b=null,U=ut,K=!1}tt=void 0}}finally{tt?x():Mt=!1}}}var x;if(typeof dt=="function")x=function(){dt(N)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,ie=R.port2;R.port1.onmessage=N,x=function(){ie.postMessage(null)}}else x=function(){ht(N,0)};function Ce(G,tt){I=ht(function(){G(a.unstable_now())},tt)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(G){G.callback=null},a.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<G?Math.floor(1e3/G):5},a.unstable_getCurrentPriorityLevel=function(){return U},a.unstable_next=function(G){switch(U){case 1:case 2:case 3:var tt=3;break;default:tt=U}var ut=U;U=tt;try{return G()}finally{U=ut}},a.unstable_requestPaint=function(){J=!0},a.unstable_runWithPriority=function(G,tt){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var ut=U;U=G;try{return tt()}finally{U=ut}},a.unstable_scheduleCallback=function(G,tt,ut){var Lt=a.unstable_now();switch(typeof ut=="object"&&ut!==null?(ut=ut.delay,ut=typeof ut=="number"&&0<ut?Lt+ut:Lt):ut=Lt,G){case 1:var Ht=-1;break;case 2:Ht=250;break;case 5:Ht=1073741823;break;case 4:Ht=1e4;break;default:Ht=5e3}return Ht=ut+Ht,G={id:A++,callback:tt,priorityLevel:G,startTime:ut,expirationTime:Ht,sortIndex:-1},ut>Lt?(G.sortIndex=ut,t(y,G),i(_)===null&&G===i(y)&&(nt?(gt(I),I=-1):nt=!0,Ce(Jt,ut-Lt))):(G.sortIndex=Ht,t(_,G),W||K||(W=!0,Mt||(Mt=!0,x()))),G},a.unstable_shouldYield=M,a.unstable_wrapCallback=function(G){var tt=U;return function(){var ut=U;U=tt;try{return G.apply(this,arguments)}finally{U=ut}}}})(Ad)),Ad}var v_;function oA(){return v_||(v_=1,Td.exports=aA()),Td.exports}var Sd={exports:{}},Ke={};var E_;function lA(){if(E_)return Ke;E_=1;var a=om();function t(_){var y="https://react.dev/errors/"+_;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)y+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+_+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var r={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(_,y,A){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:b==null?null:""+b,children:_,containerInfo:y,implementation:A}}var d=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(_,y){if(_==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Ke.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Ke.createPortal=function(_,y){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(t(299));return c(_,y,null,A)},Ke.flushSync=function(_){var y=d.T,A=r.p;try{if(d.T=null,r.p=2,_)return _()}finally{d.T=y,r.p=A,r.d.f()}},Ke.preconnect=function(_,y){typeof _=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,r.d.C(_,y))},Ke.prefetchDNS=function(_){typeof _=="string"&&r.d.D(_)},Ke.preinit=function(_,y){if(typeof _=="string"&&y&&typeof y.as=="string"){var A=y.as,b=p(A,y.crossOrigin),U=typeof y.integrity=="string"?y.integrity:void 0,K=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;A==="style"?r.d.S(_,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:b,integrity:U,fetchPriority:K}):A==="script"&&r.d.X(_,{crossOrigin:b,integrity:U,fetchPriority:K,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Ke.preinitModule=function(_,y){if(typeof _=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var A=p(y.as,y.crossOrigin);r.d.M(_,{crossOrigin:A,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&r.d.M(_)},Ke.preload=function(_,y){if(typeof _=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var A=y.as,b=p(A,y.crossOrigin);r.d.L(_,A,{crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Ke.preloadModule=function(_,y){if(typeof _=="string")if(y){var A=p(y.as,y.crossOrigin);r.d.m(_,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:A,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else r.d.m(_)},Ke.requestFormReset=function(_){r.d.r(_)},Ke.unstable_batchedUpdates=function(_,y){return _(y)},Ke.useFormState=function(_,y,A){return d.H.useFormState(_,y,A)},Ke.useFormStatus=function(){return d.H.useHostTransitionStatus()},Ke.version="19.2.3",Ke}var T_;function uA(){if(T_)return Sd.exports;T_=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(t){console.error(t)}}return a(),Sd.exports=lA(),Sd.exports}var A_;function cA(){if(A_)return fl;A_=1;var a=oA(),t=om(),i=uA();function r(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var n=e,s=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(s=n.return),e=n.return;while(e)}return n.tag===3?s:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function p(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function _(e){if(c(e)!==e)throw Error(r(188))}function y(e){var n=e.alternate;if(!n){if(n=c(e),n===null)throw Error(r(188));return n!==e?null:e}for(var s=e,o=n;;){var h=s.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){s=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===s)return _(h),e;if(f===o)return _(h),n;f=f.sibling}throw Error(r(188))}if(s.return!==o.return)s=h,o=f;else{for(var g=!1,E=h.child;E;){if(E===s){g=!0,s=h,o=f;break}if(E===o){g=!0,o=h,s=f;break}E=E.sibling}if(!g){for(E=f.child;E;){if(E===s){g=!0,s=f,o=h;break}if(E===o){g=!0,o=f,s=h;break}E=E.sibling}if(!g)throw Error(r(189))}}if(s.alternate!==o)throw Error(r(190))}if(s.tag!==3)throw Error(r(188));return s.stateNode.current===s?e:n}function A(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=A(e),n!==null)return n;e=e.sibling}return null}var b=Object.assign,U=Symbol.for("react.element"),K=Symbol.for("react.transitional.element"),W=Symbol.for("react.portal"),nt=Symbol.for("react.fragment"),J=Symbol.for("react.strict_mode"),ht=Symbol.for("react.profiler"),gt=Symbol.for("react.consumer"),dt=Symbol.for("react.context"),Bt=Symbol.for("react.forward_ref"),Jt=Symbol.for("react.suspense"),Mt=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),N=Symbol.iterator;function x(e){return e===null||typeof e!="object"?null:(e=N&&e[N]||e["@@iterator"],typeof e=="function"?e:null)}var R=Symbol.for("react.client.reference");function ie(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===R?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case nt:return"Fragment";case ht:return"Profiler";case J:return"StrictMode";case Jt:return"Suspense";case Mt:return"SuspenseList";case w:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case W:return"Portal";case dt:return e.displayName||"Context";case gt:return(e._context.displayName||"Context")+".Consumer";case Bt:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case I:return n=e.displayName||null,n!==null?n:ie(e.type)||"Memo";case S:n=e._payload,e=e._init;try{return ie(e(n))}catch{}}return null}var Ce=Array.isArray,G=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,tt=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ut={pending:!1,data:null,method:null,action:null},Lt=[],Ht=-1;function O(e){return{current:e}}function Y(e){0>Ht||(e.current=Lt[Ht],Lt[Ht]=null,Ht--)}function et(e,n){Ht++,Lt[Ht]=e.current,e.current=n}var st=O(null),yt=O(null),St=O(null),xt=O(null);function Ie(e,n){switch(et(St,n),et(yt,e),et(st,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?ky(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=ky(n),e=Py(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Y(st),et(st,e)}function se(){Y(st),Y(yt),Y(St)}function tr(e){e.memoizedState!==null&&et(xt,e);var n=st.current,s=Py(n,e.type);n!==s&&(et(yt,e),et(st,s))}function Gr(e){yt.current===e&&(Y(st),Y(yt)),xt.current===e&&(Y(xt),ol._currentValue=ut)}var Fr,Qr;function Jn(e){if(Fr===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);Fr=n&&n[1]||"",Qr=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Fr+e+Qr}var ao=!1;function er(e,n){if(!e||ao)return"";ao=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var Q=function(){throw Error()};if(Object.defineProperty(Q.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Q,[])}catch(q){var z=q}Reflect.construct(e,[],Q)}else{try{Q.call()}catch(q){z=q}e.call(Q.prototype)}}else{try{throw Error()}catch(q){z=q}(Q=e())&&typeof Q.catch=="function"&&Q.catch(function(){})}}catch(q){if(q&&z&&typeof q.stack=="string")return[q.stack,z.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),g=f[0],E=f[1];if(g&&E){var C=g.split(`
`),P=E.split(`
`);for(h=o=0;o<C.length&&!C[o].includes("DetermineComponentFrameRoot");)o++;for(;h<P.length&&!P[h].includes("DetermineComponentFrameRoot");)h++;if(o===C.length||h===P.length)for(o=C.length-1,h=P.length-1;1<=o&&0<=h&&C[o]!==P[h];)h--;for(;1<=o&&0<=h;o--,h--)if(C[o]!==P[h]){if(o!==1||h!==1)do if(o--,h--,0>h||C[o]!==P[h]){var H=`
`+C[o].replace(" at new "," at ");return e.displayName&&H.includes("<anonymous>")&&(H=H.replace("<anonymous>",e.displayName)),H}while(1<=o&&0<=h);break}}}finally{ao=!1,Error.prepareStackTrace=s}return(s=e?e.displayName||e.name:"")?Jn(s):""}function oo(e,n){switch(e.tag){case 26:case 27:case 5:return Jn(e.type);case 16:return Jn("Lazy");case 13:return e.child!==n&&n!==null?Jn("Suspense Fallback"):Jn("Suspense");case 19:return Jn("SuspenseList");case 0:case 15:return er(e.type,!1);case 11:return er(e.type.render,!1);case 1:return er(e.type,!0);case 31:return Jn("Activity");default:return""}}function lo(e){try{var n="",s=null;do n+=oo(e,s),s=e,e=e.return;while(e);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var pe=Object.prototype.hasOwnProperty,Ne=a.unstable_scheduleCallback,ns=a.unstable_cancelCallback,vh=a.unstable_shouldYield,Hl=a.unstable_requestPaint,$e=a.unstable_now,nr=a.unstable_getCurrentPriorityLevel,uo=a.unstable_ImmediatePriority,co=a.unstable_UserBlockingPriority,is=a.unstable_NormalPriority,Eh=a.unstable_LowPriority,Gl=a.unstable_IdlePriority,Fl=a.log,Ql=a.unstable_setDisableYieldValue,Un=null,Pe=null;function En(e){if(typeof Fl=="function"&&Ql(e),Pe&&typeof Pe.setStrictMode=="function")try{Pe.setStrictMode(Un,e)}catch{}}var he=Math.clz32?Math.clz32:Yl,Kl=Math.log,Kr=Math.LN2;function Yl(e){return e>>>=0,e===0?32:31-(Kl(e)/Kr|0)|0}var $n=256,ir=262144,ye=4194304;function Wn(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ti(e,n,s){var o=e.pendingLanes;if(o===0)return 0;var h=0,f=e.suspendedLanes,g=e.pingedLanes;e=e.warmLanes;var E=o&134217727;return E!==0?(o=E&~f,o!==0?h=Wn(o):(g&=E,g!==0?h=Wn(g):s||(s=E&~e,s!==0&&(h=Wn(s))))):(E=o&~f,E!==0?h=Wn(E):g!==0?h=Wn(g):s||(s=o&~e,s!==0&&(h=Wn(s)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,s=n&-n,f>=s||f===32&&(s&4194048)!==0)?n:h}function Ln(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Th(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Xl(){var e=ye;return ye<<=1,(ye&62914560)===0&&(ye=4194304),e}function ei(e){for(var n=[],s=0;31>s;s++)n.push(e);return n}function sr(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Ah(e,n,s,o,h,f){var g=e.pendingLanes;e.pendingLanes=s,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=s,e.entangledLanes&=s,e.errorRecoveryDisabledLanes&=s,e.shellSuspendCounter=0;var E=e.entanglements,C=e.expirationTimes,P=e.hiddenUpdates;for(s=g&~s;0<s;){var H=31-he(s),Q=1<<H;E[H]=0,C[H]=-1;var z=P[H];if(z!==null)for(P[H]=null,H=0;H<z.length;H++){var q=z[H];q!==null&&(q.lane&=-536870913)}s&=~Q}o!==0&&rr(e,o,0),f!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=f&~(g&~n))}function rr(e,n,s){e.pendingLanes|=n,e.suspendedLanes&=~n;var o=31-he(n);e.entangledLanes|=n,e.entanglements[o]=e.entanglements[o]|1073741824|s&261930}function ho(e,n){var s=e.entangledLanes|=n;for(e=e.entanglements;s;){var o=31-he(s),h=1<<o;h&n|e[o]&n&&(e[o]|=n),s&=~h}}function fo(e,n){var s=n&-n;return s=(s&42)!==0?1:ar(s),(s&(e.suspendedLanes|n))!==0?0:s}function ar(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Ii(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Zl(){var e=tt.p;return e!==0?e:(e=window.event,e===void 0?32:o_(e.type))}function kn(e,n){var s=tt.p;try{return tt.p=e,n()}finally{tt.p=s}}var Pn=Math.random().toString(36).slice(2),_e="__reactFiber$"+Pn,xe="__reactProps$"+Pn,ni="__reactContainer$"+Pn,Yr="__reactEvents$"+Pn,Sh="__reactListeners$"+Pn,Jl="__reactHandles$"+Pn,$l="__reactResources$"+Pn,ii="__reactMarker$"+Pn;function Xr(e){delete e[_e],delete e[xe],delete e[Yr],delete e[Sh],delete e[Jl]}function si(e){var n=e[_e];if(n)return n;for(var s=e.parentNode;s;){if(n=s[ni]||s[_e]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(e=Fy(e);e!==null;){if(s=e[_e])return s;e=Fy(e)}return n}e=s,s=e.parentNode}return null}function Tn(e){if(e=e[_e]||e[ni]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function cn(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(r(33))}function ri(e){var n=e[$l];return n||(n=e[$l]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function ve(e){e[ii]=!0}var mo=new Set,go={};function ai(e,n){oi(e,n),oi(e+"Capture",n)}function oi(e,n){for(go[e]=n,e=0;e<n.length;e++)mo.add(n[e])}var po=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),yo={},_o={};function Wl(e){return pe.call(_o,e)?!0:pe.call(yo,e)?!1:po.test(e)?_o[e]=!0:(yo[e]=!0,!1)}function Zr(e,n,s){if(Wl(n))if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+s)}}function hn(e,n,s){if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+s)}}function Ee(e,n,s,o){if(o===null)e.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(s);return}e.setAttributeNS(n,s,""+o)}}function Ue(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ss(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function vo(e,n,s){var o=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(g){s=""+g,f.call(this,g)}}),Object.defineProperty(e,n,{enumerable:o.enumerable}),{getValue:function(){return s},setValue:function(g){s=""+g},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Gt(e){if(!e._valueTracker){var n=ss(e)?"checked":"value";e._valueTracker=vo(e,n,""+e[n])}}function or(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var s=n.getValue(),o="";return e&&(o=ss(e)?e.checked?"true":"false":e.value),e=o,e!==s?(n.setValue(e),!0):!1}function li(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var lr=/[\n"\\]/g;function en(e){return e.replace(lr,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Jr(e,n,s,o,h,f,g,E){e.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?e.type=g:e.removeAttribute("type"),n!=null?g==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+Ue(n)):e.value!==""+Ue(n)&&(e.value=""+Ue(n)):g!=="submit"&&g!=="reset"||e.removeAttribute("value"),n!=null?Eo(e,g,Ue(n)):s!=null?Eo(e,g,Ue(s)):o!=null&&e.removeAttribute("value"),h==null&&f!=null&&(e.defaultChecked=!!f),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+Ue(E):e.removeAttribute("name")}function tu(e,n,s,o,h,f,g,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||s!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Gt(e);return}s=s!=null?""+Ue(s):"",n=n!=null?""+Ue(n):s,E||n===e.value||(e.value=n),e.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=E?e.checked:!!o,e.defaultChecked=!!o,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(e.name=g),Gt(e)}function Eo(e,n,s){n==="number"&&li(e.ownerDocument)===e||e.defaultValue===""+s||(e.defaultValue=""+s)}function rs(e,n,s,o){if(e=e.options,n){n={};for(var h=0;h<s.length;h++)n["$"+s[h]]=!0;for(s=0;s<e.length;s++)h=n.hasOwnProperty("$"+e[s].value),e[s].selected!==h&&(e[s].selected=h),h&&o&&(e[s].defaultSelected=!0)}else{for(s=""+Ue(s),n=null,h=0;h<e.length;h++){if(e[h].value===s){e[h].selected=!0,o&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function eu(e,n,s){if(n!=null&&(n=""+Ue(n),n!==e.value&&(e.value=n),s==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=s!=null?""+Ue(s):""}function as(e,n,s,o){if(n==null){if(o!=null){if(s!=null)throw Error(r(92));if(Ce(o)){if(1<o.length)throw Error(r(93));o=o[0]}s=o}s==null&&(s=""),n=s}s=Ue(n),e.defaultValue=s,o=e.textContent,o===s&&o!==""&&o!==null&&(e.value=o),Gt(e)}function nn(e,n){if(n){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=n;return}}e.textContent=n}var nu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function To(e,n,s){var o=n.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?o?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":o?e.setProperty(n,s):typeof s!="number"||s===0||nu.has(n)?n==="float"?e.cssFloat=s:e[n]=(""+s).trim():e[n]=s+"px"}function Ao(e,n,s){if(n!=null&&typeof n!="object")throw Error(r(62));if(e=e.style,s!=null){for(var o in s)!s.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&s[h]!==o&&To(e,h,o)}else for(var f in n)n.hasOwnProperty(f)&&To(e,f,n[f])}function $r(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var iu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),os=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Wr(e){return os.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function zn(){}var So=null;function An(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ls=null,ui=null;function ur(e){var n=Tn(e);if(n&&(e=n.stateNode)){var s=e[xe]||null;t:switch(e=n.stateNode,n.type){case"input":if(Jr(e,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),n=s.name,s.type==="radio"&&n!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+en(""+n)+'"][type="radio"]'),n=0;n<s.length;n++){var o=s[n];if(o!==e&&o.form===e.form){var h=o[xe]||null;if(!h)throw Error(r(90));Jr(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<s.length;n++)o=s[n],o.form===e.form&&or(o)}break t;case"textarea":eu(e,s.value,s.defaultValue);break t;case"select":n=s.value,n!=null&&rs(e,!!s.multiple,n,!1)}}}var ta=!1;function us(e,n,s){if(ta)return e(n,s);ta=!0;try{var o=e(n);return o}finally{if(ta=!1,(ls!==null||ui!==null)&&(Zu(),ls&&(n=ls,e=ui,ui=ls=null,ur(n),e)))for(n=0;n<e.length;n++)ur(e[n])}}function jn(e,n){var s=e.stateNode;if(s===null)return null;var o=s[xe]||null;if(o===null)return null;s=o[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(r(231,n,typeof s));return s}var Sn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),cr=!1;if(Sn)try{var Kt={};Object.defineProperty(Kt,"passive",{get:function(){cr=!0}}),window.addEventListener("test",Kt,Kt),window.removeEventListener("test",Kt,Kt)}catch{cr=!1}var ci=null,bo=null,hr=null;function wo(){if(hr)return hr;var e,n=bo,s=n.length,o,h="value"in ci?ci.value:ci.textContent,f=h.length;for(e=0;e<s&&n[e]===h[e];e++);var g=s-e;for(o=1;o<=g&&n[s-o]===h[f-o];o++);return hr=h.slice(e,1<o?1-o:void 0)}function fr(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Ni(){return!0}function Bn(){return!1}function ze(e){function n(s,o,h,f,g){this._reactName=s,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(s=e[E],this[E]=s?s(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Ni:Bn,this.isPropagationStopped=Bn,this}return b(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Ni)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Ni)},persist:function(){},isPersistent:Ni}),n}var Di={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},hi=ze(Di),cs=b({},Di,{view:0,detail:0}),Ro=ze(cs),hs,ea,fi,na=b({},cs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:fs,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==fi&&(fi&&e.type==="mousemove"?(hs=e.screenX-fi.screenX,ea=e.screenY-fi.screenY):ea=hs=0,fi=e),hs)},movementY:function(e){return"movementY"in e?e.movementY:ea}}),Co=ze(na),dr=b({},na,{dataTransfer:0}),su=ze(dr),ru=b({},cs,{relatedTarget:0}),mr=ze(ru),Io=b({},Di,{animationName:0,elapsedTime:0,pseudoElement:0}),au=ze(Io),ia=b({},Di,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),ou=ze(ia),lu=b({},Di,{data:0}),di=ze(lu),uu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},cu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},hu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function fu(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=hu[e])?!!n[e]:!1}function fs(){return fu}var We=b({},cs,{key:function(e){if(e.key){var n=uu[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=fr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?cu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:fs,charCode:function(e){return e.type==="keypress"?fr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?fr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),du=ze(We),mu=b({},na,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Oi=ze(mu),u=b({},cs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:fs}),m=ze(u),v=b({},Di,{propertyName:0,elapsedTime:0,pseudoElement:0}),T=ze(v),L=b({},na,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),j=ze(L),$=b({},Di,{newState:0,oldState:0}),Tt=ze($),fe=[9,13,27,32],zt=Sn&&"CompositionEvent"in window,re=null;Sn&&"documentMode"in document&&(re=document.documentMode);var bn=Sn&&"TextEvent"in window&&!re,mi=Sn&&(!zt||re&&8<re&&11>=re),qn=" ",Hn=!1;function gr(e,n){switch(e){case"keyup":return fe.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function sa(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ra=!1;function CT(e,n){switch(e){case"compositionend":return sa(n);case"keypress":return n.which!==32?null:(Hn=!0,qn);case"textInput":return e=n.data,e===qn&&Hn?null:e;default:return null}}function IT(e,n){if(ra)return e==="compositionend"||!zt&&gr(e,n)?(e=wo(),hr=bo=ci=null,ra=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return mi&&n.locale!=="ko"?null:n.data;default:return null}}var NT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ym(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!NT[e.type]:n==="textarea"}function Xm(e,n,s,o){ls?ui?ui.push(o):ui=[o]:ls=o,n=ic(n,"onChange"),0<n.length&&(s=new hi("onChange","change",null,s,o),e.push({event:s,listeners:n}))}var No=null,Do=null;function DT(e){Oy(e,0)}function gu(e){var n=cn(e);if(or(n))return e}function Zm(e,n){if(e==="change")return n}var Jm=!1;if(Sn){var bh;if(Sn){var wh="oninput"in document;if(!wh){var $m=document.createElement("div");$m.setAttribute("oninput","return;"),wh=typeof $m.oninput=="function"}bh=wh}else bh=!1;Jm=bh&&(!document.documentMode||9<document.documentMode)}function Wm(){No&&(No.detachEvent("onpropertychange",tg),Do=No=null)}function tg(e){if(e.propertyName==="value"&&gu(Do)){var n=[];Xm(n,Do,e,An(e)),us(DT,n)}}function OT(e,n,s){e==="focusin"?(Wm(),No=n,Do=s,No.attachEvent("onpropertychange",tg)):e==="focusout"&&Wm()}function MT(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return gu(Do)}function VT(e,n){if(e==="click")return gu(n)}function xT(e,n){if(e==="input"||e==="change")return gu(n)}function UT(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var fn=typeof Object.is=="function"?Object.is:UT;function Oo(e,n){if(fn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var s=Object.keys(e),o=Object.keys(n);if(s.length!==o.length)return!1;for(o=0;o<s.length;o++){var h=s[o];if(!pe.call(n,h)||!fn(e[h],n[h]))return!1}return!0}function eg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ng(e,n){var s=eg(e);e=0;for(var o;s;){if(s.nodeType===3){if(o=e+s.textContent.length,e<=n&&o>=n)return{node:s,offset:n-e};e=o}t:{for(;s;){if(s.nextSibling){s=s.nextSibling;break t}s=s.parentNode}s=void 0}s=eg(s)}}function ig(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?ig(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function sg(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=li(e.document);n instanceof e.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)e=n.contentWindow;else break;n=li(e.document)}return n}function Rh(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var LT=Sn&&"documentMode"in document&&11>=document.documentMode,aa=null,Ch=null,Mo=null,Ih=!1;function rg(e,n,s){var o=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Ih||aa==null||aa!==li(o)||(o=aa,"selectionStart"in o&&Rh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Mo&&Oo(Mo,o)||(Mo=o,o=ic(Ch,"onSelect"),0<o.length&&(n=new hi("onSelect","select",null,n,s),e.push({event:n,listeners:o}),n.target=aa)))}function pr(e,n){var s={};return s[e.toLowerCase()]=n.toLowerCase(),s["Webkit"+e]="webkit"+n,s["Moz"+e]="moz"+n,s}var oa={animationend:pr("Animation","AnimationEnd"),animationiteration:pr("Animation","AnimationIteration"),animationstart:pr("Animation","AnimationStart"),transitionrun:pr("Transition","TransitionRun"),transitionstart:pr("Transition","TransitionStart"),transitioncancel:pr("Transition","TransitionCancel"),transitionend:pr("Transition","TransitionEnd")},Nh={},ag={};Sn&&(ag=document.createElement("div").style,"AnimationEvent"in window||(delete oa.animationend.animation,delete oa.animationiteration.animation,delete oa.animationstart.animation),"TransitionEvent"in window||delete oa.transitionend.transition);function yr(e){if(Nh[e])return Nh[e];if(!oa[e])return e;var n=oa[e],s;for(s in n)if(n.hasOwnProperty(s)&&s in ag)return Nh[e]=n[s];return e}var og=yr("animationend"),lg=yr("animationiteration"),ug=yr("animationstart"),kT=yr("transitionrun"),PT=yr("transitionstart"),zT=yr("transitioncancel"),cg=yr("transitionend"),hg=new Map,Dh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Dh.push("scrollEnd");function Gn(e,n){hg.set(e,n),ai(n,[e])}var pu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},wn=[],la=0,Oh=0;function yu(){for(var e=la,n=Oh=la=0;n<e;){var s=wn[n];wn[n++]=null;var o=wn[n];wn[n++]=null;var h=wn[n];wn[n++]=null;var f=wn[n];if(wn[n++]=null,o!==null&&h!==null){var g=o.pending;g===null?h.next=h:(h.next=g.next,g.next=h),o.pending=h}f!==0&&fg(s,h,f)}}function _u(e,n,s,o){wn[la++]=e,wn[la++]=n,wn[la++]=s,wn[la++]=o,Oh|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function Mh(e,n,s,o){return _u(e,n,s,o),vu(e)}function _r(e,n){return _u(e,null,null,n),vu(e)}function fg(e,n,s){e.lanes|=s;var o=e.alternate;o!==null&&(o.lanes|=s);for(var h=!1,f=e.return;f!==null;)f.childLanes|=s,o=f.alternate,o!==null&&(o.childLanes|=s),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(h=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,h&&n!==null&&(h=31-he(s),e=f.hiddenUpdates,o=e[h],o===null?e[h]=[n]:o.push(n),n.lane=s|536870912),f):null}function vu(e){if(50<tl)throw tl=0,qf=null,Error(r(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var ua={};function jT(e,n,s,o){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function dn(e,n,s,o){return new jT(e,n,s,o)}function Vh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Mi(e,n){var s=e.alternate;return s===null?(s=dn(e.tag,n,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=n,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&65011712,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,n=e.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s.refCleanup=e.refCleanup,s}function dg(e,n){e.flags&=65011714;var s=e.alternate;return s===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=s.childLanes,e.lanes=s.lanes,e.child=s.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=s.memoizedProps,e.memoizedState=s.memoizedState,e.updateQueue=s.updateQueue,e.type=s.type,n=s.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Eu(e,n,s,o,h,f){var g=0;if(o=e,typeof e=="function")Vh(e)&&(g=1);else if(typeof e=="string")g=F1(e,s,st.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case w:return e=dn(31,s,n,h),e.elementType=w,e.lanes=f,e;case nt:return vr(s.children,h,f,n);case J:g=8,h|=24;break;case ht:return e=dn(12,s,n,h|2),e.elementType=ht,e.lanes=f,e;case Jt:return e=dn(13,s,n,h),e.elementType=Jt,e.lanes=f,e;case Mt:return e=dn(19,s,n,h),e.elementType=Mt,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case dt:g=10;break t;case gt:g=9;break t;case Bt:g=11;break t;case I:g=14;break t;case S:g=16,o=null;break t}g=29,s=Error(r(130,e===null?"null":typeof e,"")),o=null}return n=dn(g,s,n,h),n.elementType=e,n.type=o,n.lanes=f,n}function vr(e,n,s,o){return e=dn(7,e,o,n),e.lanes=s,e}function xh(e,n,s){return e=dn(6,e,null,n),e.lanes=s,e}function mg(e){var n=dn(18,null,null,0);return n.stateNode=e,n}function Uh(e,n,s){return n=dn(4,e.children!==null?e.children:[],e.key,n),n.lanes=s,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var gg=new WeakMap;function Rn(e,n){if(typeof e=="object"&&e!==null){var s=gg.get(e);return s!==void 0?s:(n={value:e,source:n,stack:lo(n)},gg.set(e,n),n)}return{value:e,source:n,stack:lo(n)}}var ca=[],ha=0,Tu=null,Vo=0,Cn=[],In=0,ds=null,gi=1,pi="";function Vi(e,n){ca[ha++]=Vo,ca[ha++]=Tu,Tu=e,Vo=n}function pg(e,n,s){Cn[In++]=gi,Cn[In++]=pi,Cn[In++]=ds,ds=e;var o=gi;e=pi;var h=32-he(o)-1;o&=~(1<<h),s+=1;var f=32-he(n)+h;if(30<f){var g=h-h%5;f=(o&(1<<g)-1).toString(32),o>>=g,h-=g,gi=1<<32-he(n)+h|s<<h|o,pi=f+e}else gi=1<<f|s<<h|o,pi=e}function Lh(e){e.return!==null&&(Vi(e,1),pg(e,1,0))}function kh(e){for(;e===Tu;)Tu=ca[--ha],ca[ha]=null,Vo=ca[--ha],ca[ha]=null;for(;e===ds;)ds=Cn[--In],Cn[In]=null,pi=Cn[--In],Cn[In]=null,gi=Cn[--In],Cn[In]=null}function yg(e,n){Cn[In++]=gi,Cn[In++]=pi,Cn[In++]=ds,gi=n.id,pi=n.overflow,ds=e}var je=null,Wt=null,Vt=!1,ms=null,Nn=!1,Ph=Error(r(519));function gs(e){var n=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw xo(Rn(n,e)),Ph}function _g(e){var n=e.stateNode,s=e.type,o=e.memoizedProps;switch(n[_e]=e,n[xe]=o,s){case"dialog":Rt("cancel",n),Rt("close",n);break;case"iframe":case"object":case"embed":Rt("load",n);break;case"video":case"audio":for(s=0;s<nl.length;s++)Rt(nl[s],n);break;case"source":Rt("error",n);break;case"img":case"image":case"link":Rt("error",n),Rt("load",n);break;case"details":Rt("toggle",n);break;case"input":Rt("invalid",n),tu(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Rt("invalid",n);break;case"textarea":Rt("invalid",n),as(n,o.value,o.defaultValue,o.children)}s=o.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||n.textContent===""+s||o.suppressHydrationWarning===!0||Uy(n.textContent,s)?(o.popover!=null&&(Rt("beforetoggle",n),Rt("toggle",n)),o.onScroll!=null&&Rt("scroll",n),o.onScrollEnd!=null&&Rt("scrollend",n),o.onClick!=null&&(n.onclick=zn),n=!0):n=!1,n||gs(e,!0)}function vg(e){for(je=e.return;je;)switch(je.tag){case 5:case 31:case 13:Nn=!1;return;case 27:case 3:Nn=!0;return;default:je=je.return}}function fa(e){if(e!==je)return!1;if(!Vt)return vg(e),Vt=!0,!1;var n=e.tag,s;if((s=n!==3&&n!==27)&&((s=n===5)&&(s=e.type,s=!(s!=="form"&&s!=="button")||id(e.type,e.memoizedProps)),s=!s),s&&Wt&&gs(e),vg(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));Wt=Gy(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));Wt=Gy(e)}else n===27?(n=Wt,Ns(e.type)?(e=ld,ld=null,Wt=e):Wt=n):Wt=je?On(e.stateNode.nextSibling):null;return!0}function Er(){Wt=je=null,Vt=!1}function zh(){var e=ms;return e!==null&&(on===null?on=e:on.push.apply(on,e),ms=null),e}function xo(e){ms===null?ms=[e]:ms.push(e)}var jh=O(null),Tr=null,xi=null;function ps(e,n,s){et(jh,n._currentValue),n._currentValue=s}function Ui(e){e._currentValue=jh.current,Y(jh)}function Bh(e,n,s){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===s)break;e=e.return}}function qh(e,n,s,o){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var f=h.dependencies;if(f!==null){var g=h.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=h;for(var C=0;C<n.length;C++)if(E.context===n[C]){f.lanes|=s,E=f.alternate,E!==null&&(E.lanes|=s),Bh(f.return,s,e),o||(g=null);break t}f=E.next}}else if(h.tag===18){if(g=h.return,g===null)throw Error(r(341));g.lanes|=s,f=g.alternate,f!==null&&(f.lanes|=s),Bh(g,s,e),g=null}else g=h.child;if(g!==null)g.return=h;else for(g=h;g!==null;){if(g===e){g=null;break}if(h=g.sibling,h!==null){h.return=g.return,g=h;break}g=g.return}h=g}}function da(e,n,s,o){e=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var g=h.alternate;if(g===null)throw Error(r(387));if(g=g.memoizedProps,g!==null){var E=h.type;fn(h.pendingProps.value,g.value)||(e!==null?e.push(E):e=[E])}}else if(h===xt.current){if(g=h.alternate,g===null)throw Error(r(387));g.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(ol):e=[ol])}h=h.return}e!==null&&qh(n,e,s,o),n.flags|=262144}function Au(e){for(e=e.firstContext;e!==null;){if(!fn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ar(e){Tr=e,xi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Be(e){return Eg(Tr,e)}function Su(e,n){return Tr===null&&Ar(e),Eg(e,n)}function Eg(e,n){var s=n._currentValue;if(n={context:n,memoizedValue:s,next:null},xi===null){if(e===null)throw Error(r(308));xi=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else xi=xi.next=n;return s}var BT=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(s,o){e.push(o)}};this.abort=function(){n.aborted=!0,e.forEach(function(s){return s()})}},qT=a.unstable_scheduleCallback,HT=a.unstable_NormalPriority,Te={$$typeof:dt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Hh(){return{controller:new BT,data:new Map,refCount:0}}function Uo(e){e.refCount--,e.refCount===0&&qT(HT,function(){e.controller.abort()})}var Lo=null,Gh=0,ma=0,ga=null;function GT(e,n){if(Lo===null){var s=Lo=[];Gh=0,ma=Yf(),ga={status:"pending",value:void 0,then:function(o){s.push(o)}}}return Gh++,n.then(Tg,Tg),n}function Tg(){if(--Gh===0&&Lo!==null){ga!==null&&(ga.status="fulfilled");var e=Lo;Lo=null,ma=0,ga=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function FT(e,n){var s=[],o={status:"pending",value:null,reason:null,then:function(h){s.push(h)}};return e.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<s.length;h++)(0,s[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<s.length;h++)(0,s[h])(void 0)}),o}var Ag=G.S;G.S=function(e,n){ry=$e(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&GT(e,n),Ag!==null&&Ag(e,n)};var Sr=O(null);function Fh(){var e=Sr.current;return e!==null?e:$t.pooledCache}function bu(e,n){n===null?et(Sr,Sr.current):et(Sr,n.pool)}function Sg(){var e=Fh();return e===null?null:{parent:Te._currentValue,pool:e}}var pa=Error(r(460)),Qh=Error(r(474)),wu=Error(r(542)),Ru={then:function(){}};function bg(e){return e=e.status,e==="fulfilled"||e==="rejected"}function wg(e,n,s){switch(s=e[s],s===void 0?e.push(n):s!==n&&(n.then(zn,zn),n=s),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Cg(e),e;default:if(typeof n.status=="string")n.then(zn,zn);else{if(e=$t,e!==null&&100<e.shellSuspendCounter)throw Error(r(482));e=n,e.status="pending",e.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Cg(e),e}throw wr=n,pa}}function br(e){try{var n=e._init;return n(e._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(wr=s,pa):s}}var wr=null;function Rg(){if(wr===null)throw Error(r(459));var e=wr;return wr=null,e}function Cg(e){if(e===pa||e===wu)throw Error(r(483))}var ya=null,ko=0;function Cu(e){var n=ko;return ko+=1,ya===null&&(ya=[]),wg(ya,e,n)}function Po(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Iu(e,n){throw n.$$typeof===U?Error(r(525)):(e=Object.prototype.toString.call(n),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function Ig(e){function n(V,D){if(e){var k=V.deletions;k===null?(V.deletions=[D],V.flags|=16):k.push(D)}}function s(V,D){if(!e)return null;for(;D!==null;)n(V,D),D=D.sibling;return null}function o(V){for(var D=new Map;V!==null;)V.key!==null?D.set(V.key,V):D.set(V.index,V),V=V.sibling;return D}function h(V,D){return V=Mi(V,D),V.index=0,V.sibling=null,V}function f(V,D,k){return V.index=k,e?(k=V.alternate,k!==null?(k=k.index,k<D?(V.flags|=67108866,D):k):(V.flags|=67108866,D)):(V.flags|=1048576,D)}function g(V){return e&&V.alternate===null&&(V.flags|=67108866),V}function E(V,D,k,F){return D===null||D.tag!==6?(D=xh(k,V.mode,F),D.return=V,D):(D=h(D,k),D.return=V,D)}function C(V,D,k,F){var lt=k.type;return lt===nt?H(V,D,k.props.children,F,k.key):D!==null&&(D.elementType===lt||typeof lt=="object"&&lt!==null&&lt.$$typeof===S&&br(lt)===D.type)?(D=h(D,k.props),Po(D,k),D.return=V,D):(D=Eu(k.type,k.key,k.props,null,V.mode,F),Po(D,k),D.return=V,D)}function P(V,D,k,F){return D===null||D.tag!==4||D.stateNode.containerInfo!==k.containerInfo||D.stateNode.implementation!==k.implementation?(D=Uh(k,V.mode,F),D.return=V,D):(D=h(D,k.children||[]),D.return=V,D)}function H(V,D,k,F,lt){return D===null||D.tag!==7?(D=vr(k,V.mode,F,lt),D.return=V,D):(D=h(D,k),D.return=V,D)}function Q(V,D,k){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=xh(""+D,V.mode,k),D.return=V,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case K:return k=Eu(D.type,D.key,D.props,null,V.mode,k),Po(k,D),k.return=V,k;case W:return D=Uh(D,V.mode,k),D.return=V,D;case S:return D=br(D),Q(V,D,k)}if(Ce(D)||x(D))return D=vr(D,V.mode,k,null),D.return=V,D;if(typeof D.then=="function")return Q(V,Cu(D),k);if(D.$$typeof===dt)return Q(V,Su(V,D),k);Iu(V,D)}return null}function z(V,D,k,F){var lt=D!==null?D.key:null;if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return lt!==null?null:E(V,D,""+k,F);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case K:return k.key===lt?C(V,D,k,F):null;case W:return k.key===lt?P(V,D,k,F):null;case S:return k=br(k),z(V,D,k,F)}if(Ce(k)||x(k))return lt!==null?null:H(V,D,k,F,null);if(typeof k.then=="function")return z(V,D,Cu(k),F);if(k.$$typeof===dt)return z(V,D,Su(V,k),F);Iu(V,k)}return null}function q(V,D,k,F,lt){if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return V=V.get(k)||null,E(D,V,""+F,lt);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case K:return V=V.get(F.key===null?k:F.key)||null,C(D,V,F,lt);case W:return V=V.get(F.key===null?k:F.key)||null,P(D,V,F,lt);case S:return F=br(F),q(V,D,k,F,lt)}if(Ce(F)||x(F))return V=V.get(k)||null,H(D,V,F,lt,null);if(typeof F.then=="function")return q(V,D,k,Cu(F),lt);if(F.$$typeof===dt)return q(V,D,k,Su(D,F),lt);Iu(D,F)}return null}function rt(V,D,k,F){for(var lt=null,kt=null,at=D,bt=D=0,It=null;at!==null&&bt<k.length;bt++){at.index>bt?(It=at,at=null):It=at.sibling;var Pt=z(V,at,k[bt],F);if(Pt===null){at===null&&(at=It);break}e&&at&&Pt.alternate===null&&n(V,at),D=f(Pt,D,bt),kt===null?lt=Pt:kt.sibling=Pt,kt=Pt,at=It}if(bt===k.length)return s(V,at),Vt&&Vi(V,bt),lt;if(at===null){for(;bt<k.length;bt++)at=Q(V,k[bt],F),at!==null&&(D=f(at,D,bt),kt===null?lt=at:kt.sibling=at,kt=at);return Vt&&Vi(V,bt),lt}for(at=o(at);bt<k.length;bt++)It=q(at,V,bt,k[bt],F),It!==null&&(e&&It.alternate!==null&&at.delete(It.key===null?bt:It.key),D=f(It,D,bt),kt===null?lt=It:kt.sibling=It,kt=It);return e&&at.forEach(function(xs){return n(V,xs)}),Vt&&Vi(V,bt),lt}function ft(V,D,k,F){if(k==null)throw Error(r(151));for(var lt=null,kt=null,at=D,bt=D=0,It=null,Pt=k.next();at!==null&&!Pt.done;bt++,Pt=k.next()){at.index>bt?(It=at,at=null):It=at.sibling;var xs=z(V,at,Pt.value,F);if(xs===null){at===null&&(at=It);break}e&&at&&xs.alternate===null&&n(V,at),D=f(xs,D,bt),kt===null?lt=xs:kt.sibling=xs,kt=xs,at=It}if(Pt.done)return s(V,at),Vt&&Vi(V,bt),lt;if(at===null){for(;!Pt.done;bt++,Pt=k.next())Pt=Q(V,Pt.value,F),Pt!==null&&(D=f(Pt,D,bt),kt===null?lt=Pt:kt.sibling=Pt,kt=Pt);return Vt&&Vi(V,bt),lt}for(at=o(at);!Pt.done;bt++,Pt=k.next())Pt=q(at,V,bt,Pt.value,F),Pt!==null&&(e&&Pt.alternate!==null&&at.delete(Pt.key===null?bt:Pt.key),D=f(Pt,D,bt),kt===null?lt=Pt:kt.sibling=Pt,kt=Pt);return e&&at.forEach(function(nA){return n(V,nA)}),Vt&&Vi(V,bt),lt}function Zt(V,D,k,F){if(typeof k=="object"&&k!==null&&k.type===nt&&k.key===null&&(k=k.props.children),typeof k=="object"&&k!==null){switch(k.$$typeof){case K:t:{for(var lt=k.key;D!==null;){if(D.key===lt){if(lt=k.type,lt===nt){if(D.tag===7){s(V,D.sibling),F=h(D,k.props.children),F.return=V,V=F;break t}}else if(D.elementType===lt||typeof lt=="object"&&lt!==null&&lt.$$typeof===S&&br(lt)===D.type){s(V,D.sibling),F=h(D,k.props),Po(F,k),F.return=V,V=F;break t}s(V,D);break}else n(V,D);D=D.sibling}k.type===nt?(F=vr(k.props.children,V.mode,F,k.key),F.return=V,V=F):(F=Eu(k.type,k.key,k.props,null,V.mode,F),Po(F,k),F.return=V,V=F)}return g(V);case W:t:{for(lt=k.key;D!==null;){if(D.key===lt)if(D.tag===4&&D.stateNode.containerInfo===k.containerInfo&&D.stateNode.implementation===k.implementation){s(V,D.sibling),F=h(D,k.children||[]),F.return=V,V=F;break t}else{s(V,D);break}else n(V,D);D=D.sibling}F=Uh(k,V.mode,F),F.return=V,V=F}return g(V);case S:return k=br(k),Zt(V,D,k,F)}if(Ce(k))return rt(V,D,k,F);if(x(k)){if(lt=x(k),typeof lt!="function")throw Error(r(150));return k=lt.call(k),ft(V,D,k,F)}if(typeof k.then=="function")return Zt(V,D,Cu(k),F);if(k.$$typeof===dt)return Zt(V,D,Su(V,k),F);Iu(V,k)}return typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint"?(k=""+k,D!==null&&D.tag===6?(s(V,D.sibling),F=h(D,k),F.return=V,V=F):(s(V,D),F=xh(k,V.mode,F),F.return=V,V=F),g(V)):s(V,D)}return function(V,D,k,F){try{ko=0;var lt=Zt(V,D,k,F);return ya=null,lt}catch(at){if(at===pa||at===wu)throw at;var kt=dn(29,at,null,V.mode);return kt.lanes=F,kt.return=V,kt}finally{}}}var Rr=Ig(!0),Ng=Ig(!1),ys=!1;function Kh(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Yh(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function _s(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function vs(e,n,s){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(jt&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=vu(e),fg(e,null,s),n}return _u(e,o,n,s),vu(e)}function zo(e,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194048)!==0)){var o=n.lanes;o&=e.pendingLanes,s|=o,n.lanes=s,ho(e,s)}}function Xh(e,n){var s=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,s===o)){var h=null,f=null;if(s=s.firstBaseUpdate,s!==null){do{var g={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};f===null?h=f=g:f=f.next=g,s=s.next}while(s!==null);f===null?h=f=n:f=f.next=n}else h=f=n;s={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=n:e.next=n,s.lastBaseUpdate=n}var Zh=!1;function jo(){if(Zh){var e=ga;if(e!==null)throw e}}function Bo(e,n,s,o){Zh=!1;var h=e.updateQueue;ys=!1;var f=h.firstBaseUpdate,g=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var C=E,P=C.next;C.next=null,g===null?f=P:g.next=P,g=C;var H=e.alternate;H!==null&&(H=H.updateQueue,E=H.lastBaseUpdate,E!==g&&(E===null?H.firstBaseUpdate=P:E.next=P,H.lastBaseUpdate=C))}if(f!==null){var Q=h.baseState;g=0,H=P=C=null,E=f;do{var z=E.lane&-536870913,q=z!==E.lane;if(q?(Ct&z)===z:(o&z)===z){z!==0&&z===ma&&(Zh=!0),H!==null&&(H=H.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var rt=e,ft=E;z=n;var Zt=s;switch(ft.tag){case 1:if(rt=ft.payload,typeof rt=="function"){Q=rt.call(Zt,Q,z);break t}Q=rt;break t;case 3:rt.flags=rt.flags&-65537|128;case 0:if(rt=ft.payload,z=typeof rt=="function"?rt.call(Zt,Q,z):rt,z==null)break t;Q=b({},Q,z);break t;case 2:ys=!0}}z=E.callback,z!==null&&(e.flags|=64,q&&(e.flags|=8192),q=h.callbacks,q===null?h.callbacks=[z]:q.push(z))}else q={lane:z,tag:E.tag,payload:E.payload,callback:E.callback,next:null},H===null?(P=H=q,C=Q):H=H.next=q,g|=z;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;q=E,E=q.next,q.next=null,h.lastBaseUpdate=q,h.shared.pending=null}}while(!0);H===null&&(C=Q),h.baseState=C,h.firstBaseUpdate=P,h.lastBaseUpdate=H,f===null&&(h.shared.lanes=0),bs|=g,e.lanes=g,e.memoizedState=Q}}function Dg(e,n){if(typeof e!="function")throw Error(r(191,e));e.call(n)}function Og(e,n){var s=e.callbacks;if(s!==null)for(e.callbacks=null,e=0;e<s.length;e++)Dg(s[e],n)}var _a=O(null),Nu=O(0);function Mg(e,n){e=Gi,et(Nu,e),et(_a,n),Gi=e|n.baseLanes}function Jh(){et(Nu,Gi),et(_a,_a.current)}function $h(){Gi=Nu.current,Y(_a),Y(Nu)}var mn=O(null),Dn=null;function Es(e){var n=e.alternate;et(de,de.current&1),et(mn,e),Dn===null&&(n===null||_a.current!==null||n.memoizedState!==null)&&(Dn=e)}function Wh(e){et(de,de.current),et(mn,e),Dn===null&&(Dn=e)}function Vg(e){e.tag===22?(et(de,de.current),et(mn,e),Dn===null&&(Dn=e)):Ts()}function Ts(){et(de,de.current),et(mn,mn.current)}function gn(e){Y(mn),Dn===e&&(Dn=null),Y(de)}var de=O(0);function Du(e){for(var n=e;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||ad(s)||od(s)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Li=0,At=null,Yt=null,Ae=null,Ou=!1,va=!1,Cr=!1,Mu=0,qo=0,Ea=null,QT=0;function ue(){throw Error(r(321))}function tf(e,n){if(n===null)return!1;for(var s=0;s<n.length&&s<e.length;s++)if(!fn(e[s],n[s]))return!1;return!0}function ef(e,n,s,o,h,f){return Li=f,At=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,G.H=e===null||e.memoizedState===null?pp:yf,Cr=!1,f=s(o,h),Cr=!1,va&&(f=Ug(n,s,o,h)),xg(e),f}function xg(e){G.H=Fo;var n=Yt!==null&&Yt.next!==null;if(Li=0,Ae=Yt=At=null,Ou=!1,qo=0,Ea=null,n)throw Error(r(300));e===null||Se||(e=e.dependencies,e!==null&&Au(e)&&(Se=!0))}function Ug(e,n,s,o){At=e;var h=0;do{if(va&&(Ea=null),qo=0,va=!1,25<=h)throw Error(r(301));if(h+=1,Ae=Yt=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}G.H=yp,f=n(s,o)}while(va);return f}function KT(){var e=G.H,n=e.useState()[0];return n=typeof n.then=="function"?Ho(n):n,e=e.useState()[0],(Yt!==null?Yt.memoizedState:null)!==e&&(At.flags|=1024),n}function nf(){var e=Mu!==0;return Mu=0,e}function sf(e,n,s){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~s}function rf(e){if(Ou){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Ou=!1}Li=0,Ae=Yt=At=null,va=!1,qo=Mu=0,Ea=null}function tn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ae===null?At.memoizedState=Ae=e:Ae=Ae.next=e,Ae}function me(){if(Yt===null){var e=At.alternate;e=e!==null?e.memoizedState:null}else e=Yt.next;var n=Ae===null?At.memoizedState:Ae.next;if(n!==null)Ae=n,Yt=e;else{if(e===null)throw At.alternate===null?Error(r(467)):Error(r(310));Yt=e,e={memoizedState:Yt.memoizedState,baseState:Yt.baseState,baseQueue:Yt.baseQueue,queue:Yt.queue,next:null},Ae===null?At.memoizedState=Ae=e:Ae=Ae.next=e}return Ae}function Vu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ho(e){var n=qo;return qo+=1,Ea===null&&(Ea=[]),e=wg(Ea,e,n),n=At,(Ae===null?n.memoizedState:Ae.next)===null&&(n=n.alternate,G.H=n===null||n.memoizedState===null?pp:yf),e}function xu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Ho(e);if(e.$$typeof===dt)return Be(e)}throw Error(r(438,String(e)))}function af(e){var n=null,s=At.updateQueue;if(s!==null&&(n=s.memoCache),n==null){var o=At.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),s===null&&(s=Vu(),At.updateQueue=s),s.memoCache=n,s=n.data[n.index],s===void 0)for(s=n.data[n.index]=Array(e),o=0;o<e;o++)s[o]=M;return n.index++,s}function ki(e,n){return typeof n=="function"?n(e):n}function Uu(e){var n=me();return of(n,Yt,e)}function of(e,n,s){var o=e.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=s;var h=e.baseQueue,f=o.pending;if(f!==null){if(h!==null){var g=h.next;h.next=f.next,f.next=g}n.baseQueue=h=f,o.pending=null}if(f=e.baseState,h===null)e.memoizedState=f;else{n=h.next;var E=g=null,C=null,P=n,H=!1;do{var Q=P.lane&-536870913;if(Q!==P.lane?(Ct&Q)===Q:(Li&Q)===Q){var z=P.revertLane;if(z===0)C!==null&&(C=C.next={lane:0,revertLane:0,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),Q===ma&&(H=!0);else if((Li&z)===z){P=P.next,z===ma&&(H=!0);continue}else Q={lane:0,revertLane:P.revertLane,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},C===null?(E=C=Q,g=f):C=C.next=Q,At.lanes|=z,bs|=z;Q=P.action,Cr&&s(f,Q),f=P.hasEagerState?P.eagerState:s(f,Q)}else z={lane:Q,revertLane:P.revertLane,gesture:P.gesture,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},C===null?(E=C=z,g=f):C=C.next=z,At.lanes|=Q,bs|=Q;P=P.next}while(P!==null&&P!==n);if(C===null?g=f:C.next=E,!fn(f,e.memoizedState)&&(Se=!0,H&&(s=ga,s!==null)))throw s;e.memoizedState=f,e.baseState=g,e.baseQueue=C,o.lastRenderedState=f}return h===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function lf(e){var n=me(),s=n.queue;if(s===null)throw Error(r(311));s.lastRenderedReducer=e;var o=s.dispatch,h=s.pending,f=n.memoizedState;if(h!==null){s.pending=null;var g=h=h.next;do f=e(f,g.action),g=g.next;while(g!==h);fn(f,n.memoizedState)||(Se=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),s.lastRenderedState=f}return[f,o]}function Lg(e,n,s){var o=At,h=me(),f=Vt;if(f){if(s===void 0)throw Error(r(407));s=s()}else s=n();var g=!fn((Yt||h).memoizedState,s);if(g&&(h.memoizedState=s,Se=!0),h=h.queue,hf(zg.bind(null,o,h,e),[e]),h.getSnapshot!==n||g||Ae!==null&&Ae.memoizedState.tag&1){if(o.flags|=2048,Ta(9,{destroy:void 0},Pg.bind(null,o,h,s,n),null),$t===null)throw Error(r(349));f||(Li&127)!==0||kg(o,n,s)}return s}function kg(e,n,s){e.flags|=16384,e={getSnapshot:n,value:s},n=At.updateQueue,n===null?(n=Vu(),At.updateQueue=n,n.stores=[e]):(s=n.stores,s===null?n.stores=[e]:s.push(e))}function Pg(e,n,s,o){n.value=s,n.getSnapshot=o,jg(n)&&Bg(e)}function zg(e,n,s){return s(function(){jg(n)&&Bg(e)})}function jg(e){var n=e.getSnapshot;e=e.value;try{var s=n();return!fn(e,s)}catch{return!0}}function Bg(e){var n=_r(e,2);n!==null&&ln(n,e,2)}function uf(e){var n=tn();if(typeof e=="function"){var s=e;if(e=s(),Cr){En(!0);try{s()}finally{En(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ki,lastRenderedState:e},n}function qg(e,n,s,o){return e.baseState=s,of(e,Yt,typeof o=="function"?o:ki)}function YT(e,n,s,o,h){if(Pu(e))throw Error(r(485));if(e=n.action,e!==null){var f={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){f.listeners.push(g)}};G.T!==null?s(!0):f.isTransition=!1,o(f),s=n.pending,s===null?(f.next=n.pending=f,Hg(n,f)):(f.next=s.next,n.pending=s.next=f)}}function Hg(e,n){var s=n.action,o=n.payload,h=e.state;if(n.isTransition){var f=G.T,g={};G.T=g;try{var E=s(h,o),C=G.S;C!==null&&C(g,E),Gg(e,n,E)}catch(P){cf(e,n,P)}finally{f!==null&&g.types!==null&&(f.types=g.types),G.T=f}}else try{f=s(h,o),Gg(e,n,f)}catch(P){cf(e,n,P)}}function Gg(e,n,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(o){Fg(e,n,o)},function(o){return cf(e,n,o)}):Fg(e,n,s)}function Fg(e,n,s){n.status="fulfilled",n.value=s,Qg(n),e.state=s,n=e.pending,n!==null&&(s=n.next,s===n?e.pending=null:(s=s.next,n.next=s,Hg(e,s)))}function cf(e,n,s){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=s,Qg(n),n=n.next;while(n!==o)}e.action=null}function Qg(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function Kg(e,n){return n}function Yg(e,n){if(Vt){var s=$t.formState;if(s!==null){t:{var o=At;if(Vt){if(Wt){e:{for(var h=Wt,f=Nn;h.nodeType!==8;){if(!f){h=null;break e}if(h=On(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){Wt=On(h.nextSibling),o=h.data==="F!";break t}}gs(o)}o=!1}o&&(n=s[0])}}return s=tn(),s.memoizedState=s.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Kg,lastRenderedState:n},s.queue=o,s=dp.bind(null,At,o),o.dispatch=s,o=uf(!1),f=pf.bind(null,At,!1,o.queue),o=tn(),h={state:n,dispatch:null,action:e,pending:null},o.queue=h,s=YT.bind(null,At,h,f,s),h.dispatch=s,o.memoizedState=e,[n,s,!1]}function Xg(e){var n=me();return Zg(n,Yt,e)}function Zg(e,n,s){if(n=of(e,n,Kg)[0],e=Uu(ki)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=Ho(n)}catch(g){throw g===pa?wu:g}else o=n;n=me();var h=n.queue,f=h.dispatch;return s!==n.memoizedState&&(At.flags|=2048,Ta(9,{destroy:void 0},XT.bind(null,h,s),null)),[o,f,e]}function XT(e,n){e.action=n}function Jg(e){var n=me(),s=Yt;if(s!==null)return Zg(n,s,e);me(),n=n.memoizedState,s=me();var o=s.queue.dispatch;return s.memoizedState=e,[n,o,!1]}function Ta(e,n,s,o){return e={tag:e,create:s,deps:o,inst:n,next:null},n=At.updateQueue,n===null&&(n=Vu(),At.updateQueue=n),s=n.lastEffect,s===null?n.lastEffect=e.next=e:(o=s.next,s.next=e,e.next=o,n.lastEffect=e),e}function $g(){return me().memoizedState}function Lu(e,n,s,o){var h=tn();At.flags|=e,h.memoizedState=Ta(1|n,{destroy:void 0},s,o===void 0?null:o)}function ku(e,n,s,o){var h=me();o=o===void 0?null:o;var f=h.memoizedState.inst;Yt!==null&&o!==null&&tf(o,Yt.memoizedState.deps)?h.memoizedState=Ta(n,f,s,o):(At.flags|=e,h.memoizedState=Ta(1|n,f,s,o))}function Wg(e,n){Lu(8390656,8,e,n)}function hf(e,n){ku(2048,8,e,n)}function ZT(e){At.flags|=4;var n=At.updateQueue;if(n===null)n=Vu(),At.updateQueue=n,n.events=[e];else{var s=n.events;s===null?n.events=[e]:s.push(e)}}function tp(e){var n=me().memoizedState;return ZT({ref:n,nextImpl:e}),function(){if((jt&2)!==0)throw Error(r(440));return n.impl.apply(void 0,arguments)}}function ep(e,n){return ku(4,2,e,n)}function np(e,n){return ku(4,4,e,n)}function ip(e,n){if(typeof n=="function"){e=e();var s=n(e);return function(){typeof s=="function"?s():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function sp(e,n,s){s=s!=null?s.concat([e]):null,ku(4,4,ip.bind(null,n,e),s)}function ff(){}function rp(e,n){var s=me();n=n===void 0?null:n;var o=s.memoizedState;return n!==null&&tf(n,o[1])?o[0]:(s.memoizedState=[e,n],e)}function ap(e,n){var s=me();n=n===void 0?null:n;var o=s.memoizedState;if(n!==null&&tf(n,o[1]))return o[0];if(o=e(),Cr){En(!0);try{e()}finally{En(!1)}}return s.memoizedState=[o,n],o}function df(e,n,s){return s===void 0||(Li&1073741824)!==0&&(Ct&261930)===0?e.memoizedState=n:(e.memoizedState=s,e=oy(),At.lanes|=e,bs|=e,s)}function op(e,n,s,o){return fn(s,n)?s:_a.current!==null?(e=df(e,s,o),fn(e,n)||(Se=!0),e):(Li&42)===0||(Li&1073741824)!==0&&(Ct&261930)===0?(Se=!0,e.memoizedState=s):(e=oy(),At.lanes|=e,bs|=e,n)}function lp(e,n,s,o,h){var f=tt.p;tt.p=f!==0&&8>f?f:8;var g=G.T,E={};G.T=E,pf(e,!1,n,s);try{var C=h(),P=G.S;if(P!==null&&P(E,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var H=FT(C,o);Go(e,n,H,_n(e))}else Go(e,n,o,_n(e))}catch(Q){Go(e,n,{then:function(){},status:"rejected",reason:Q},_n())}finally{tt.p=f,g!==null&&E.types!==null&&(g.types=E.types),G.T=g}}function JT(){}function mf(e,n,s,o){if(e.tag!==5)throw Error(r(476));var h=up(e).queue;lp(e,h,n,ut,s===null?JT:function(){return cp(e),s(o)})}function up(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:ut,baseState:ut,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ki,lastRenderedState:ut},next:null};var s={};return n.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ki,lastRenderedState:s},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function cp(e){var n=up(e);n.next===null&&(n=e.alternate.memoizedState),Go(e,n.next.queue,{},_n())}function gf(){return Be(ol)}function hp(){return me().memoizedState}function fp(){return me().memoizedState}function $T(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var s=_n();e=_s(s);var o=vs(n,e,s);o!==null&&(ln(o,n,s),zo(o,n,s)),n={cache:Hh()},e.payload=n;return}n=n.return}}function WT(e,n,s){var o=_n();s={lane:o,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Pu(e)?mp(n,s):(s=Mh(e,n,s,o),s!==null&&(ln(s,e,o),gp(s,n,o)))}function dp(e,n,s){var o=_n();Go(e,n,s,o)}function Go(e,n,s,o){var h={lane:o,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(Pu(e))mp(n,h);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var g=n.lastRenderedState,E=f(g,s);if(h.hasEagerState=!0,h.eagerState=E,fn(E,g))return _u(e,n,h,0),$t===null&&yu(),!1}catch{}finally{}if(s=Mh(e,n,h,o),s!==null)return ln(s,e,o),gp(s,n,o),!0}return!1}function pf(e,n,s,o){if(o={lane:2,revertLane:Yf(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Pu(e)){if(n)throw Error(r(479))}else n=Mh(e,s,o,2),n!==null&&ln(n,e,2)}function Pu(e){var n=e.alternate;return e===At||n!==null&&n===At}function mp(e,n){va=Ou=!0;var s=e.pending;s===null?n.next=n:(n.next=s.next,s.next=n),e.pending=n}function gp(e,n,s){if((s&4194048)!==0){var o=n.lanes;o&=e.pendingLanes,s|=o,n.lanes=s,ho(e,s)}}var Fo={readContext:Be,use:xu,useCallback:ue,useContext:ue,useEffect:ue,useImperativeHandle:ue,useLayoutEffect:ue,useInsertionEffect:ue,useMemo:ue,useReducer:ue,useRef:ue,useState:ue,useDebugValue:ue,useDeferredValue:ue,useTransition:ue,useSyncExternalStore:ue,useId:ue,useHostTransitionStatus:ue,useFormState:ue,useActionState:ue,useOptimistic:ue,useMemoCache:ue,useCacheRefresh:ue};Fo.useEffectEvent=ue;var pp={readContext:Be,use:xu,useCallback:function(e,n){return tn().memoizedState=[e,n===void 0?null:n],e},useContext:Be,useEffect:Wg,useImperativeHandle:function(e,n,s){s=s!=null?s.concat([e]):null,Lu(4194308,4,ip.bind(null,n,e),s)},useLayoutEffect:function(e,n){return Lu(4194308,4,e,n)},useInsertionEffect:function(e,n){Lu(4,2,e,n)},useMemo:function(e,n){var s=tn();n=n===void 0?null:n;var o=e();if(Cr){En(!0);try{e()}finally{En(!1)}}return s.memoizedState=[o,n],o},useReducer:function(e,n,s){var o=tn();if(s!==void 0){var h=s(n);if(Cr){En(!0);try{s(n)}finally{En(!1)}}}else h=n;return o.memoizedState=o.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},o.queue=e,e=e.dispatch=WT.bind(null,At,e),[o.memoizedState,e]},useRef:function(e){var n=tn();return e={current:e},n.memoizedState=e},useState:function(e){e=uf(e);var n=e.queue,s=dp.bind(null,At,n);return n.dispatch=s,[e.memoizedState,s]},useDebugValue:ff,useDeferredValue:function(e,n){var s=tn();return df(s,e,n)},useTransition:function(){var e=uf(!1);return e=lp.bind(null,At,e.queue,!0,!1),tn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,s){var o=At,h=tn();if(Vt){if(s===void 0)throw Error(r(407));s=s()}else{if(s=n(),$t===null)throw Error(r(349));(Ct&127)!==0||kg(o,n,s)}h.memoizedState=s;var f={value:s,getSnapshot:n};return h.queue=f,Wg(zg.bind(null,o,f,e),[e]),o.flags|=2048,Ta(9,{destroy:void 0},Pg.bind(null,o,f,s,n),null),s},useId:function(){var e=tn(),n=$t.identifierPrefix;if(Vt){var s=pi,o=gi;s=(o&~(1<<32-he(o)-1)).toString(32)+s,n="_"+n+"R_"+s,s=Mu++,0<s&&(n+="H"+s.toString(32)),n+="_"}else s=QT++,n="_"+n+"r_"+s.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:gf,useFormState:Yg,useActionState:Yg,useOptimistic:function(e){var n=tn();n.memoizedState=n.baseState=e;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=s,n=pf.bind(null,At,!0,s),s.dispatch=n,[e,n]},useMemoCache:af,useCacheRefresh:function(){return tn().memoizedState=$T.bind(null,At)},useEffectEvent:function(e){var n=tn(),s={impl:e};return n.memoizedState=s,function(){if((jt&2)!==0)throw Error(r(440));return s.impl.apply(void 0,arguments)}}},yf={readContext:Be,use:xu,useCallback:rp,useContext:Be,useEffect:hf,useImperativeHandle:sp,useInsertionEffect:ep,useLayoutEffect:np,useMemo:ap,useReducer:Uu,useRef:$g,useState:function(){return Uu(ki)},useDebugValue:ff,useDeferredValue:function(e,n){var s=me();return op(s,Yt.memoizedState,e,n)},useTransition:function(){var e=Uu(ki)[0],n=me().memoizedState;return[typeof e=="boolean"?e:Ho(e),n]},useSyncExternalStore:Lg,useId:hp,useHostTransitionStatus:gf,useFormState:Xg,useActionState:Xg,useOptimistic:function(e,n){var s=me();return qg(s,Yt,e,n)},useMemoCache:af,useCacheRefresh:fp};yf.useEffectEvent=tp;var yp={readContext:Be,use:xu,useCallback:rp,useContext:Be,useEffect:hf,useImperativeHandle:sp,useInsertionEffect:ep,useLayoutEffect:np,useMemo:ap,useReducer:lf,useRef:$g,useState:function(){return lf(ki)},useDebugValue:ff,useDeferredValue:function(e,n){var s=me();return Yt===null?df(s,e,n):op(s,Yt.memoizedState,e,n)},useTransition:function(){var e=lf(ki)[0],n=me().memoizedState;return[typeof e=="boolean"?e:Ho(e),n]},useSyncExternalStore:Lg,useId:hp,useHostTransitionStatus:gf,useFormState:Jg,useActionState:Jg,useOptimistic:function(e,n){var s=me();return Yt!==null?qg(s,Yt,e,n):(s.baseState=e,[e,s.queue.dispatch])},useMemoCache:af,useCacheRefresh:fp};yp.useEffectEvent=tp;function _f(e,n,s,o){n=e.memoizedState,s=s(o,n),s=s==null?n:b({},n,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var vf={enqueueSetState:function(e,n,s){e=e._reactInternals;var o=_n(),h=_s(o);h.payload=n,s!=null&&(h.callback=s),n=vs(e,h,o),n!==null&&(ln(n,e,o),zo(n,e,o))},enqueueReplaceState:function(e,n,s){e=e._reactInternals;var o=_n(),h=_s(o);h.tag=1,h.payload=n,s!=null&&(h.callback=s),n=vs(e,h,o),n!==null&&(ln(n,e,o),zo(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var s=_n(),o=_s(s);o.tag=2,n!=null&&(o.callback=n),n=vs(e,o,s),n!==null&&(ln(n,e,s),zo(n,e,s))}};function _p(e,n,s,o,h,f,g){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,f,g):n.prototype&&n.prototype.isPureReactComponent?!Oo(s,o)||!Oo(h,f):!0}function vp(e,n,s,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,o),n.state!==e&&vf.enqueueReplaceState(n,n.state,null)}function Ir(e,n){var s=n;if("ref"in n){s={};for(var o in n)o!=="ref"&&(s[o]=n[o])}if(e=e.defaultProps){s===n&&(s=b({},s));for(var h in e)s[h]===void 0&&(s[h]=e[h])}return s}function Ep(e){pu(e)}function Tp(e){console.error(e)}function Ap(e){pu(e)}function zu(e,n){try{var s=e.onUncaughtError;s(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function Sp(e,n,s){try{var o=e.onCaughtError;o(s.value,{componentStack:s.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Ef(e,n,s){return s=_s(s),s.tag=3,s.payload={element:null},s.callback=function(){zu(e,n)},s}function bp(e){return e=_s(e),e.tag=3,e}function wp(e,n,s,o){var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;e.payload=function(){return h(f)},e.callback=function(){Sp(n,s,o)}}var g=s.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(e.callback=function(){Sp(n,s,o),typeof h!="function"&&(ws===null?ws=new Set([this]):ws.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function t1(e,n,s,o,h){if(s.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=s.alternate,n!==null&&da(n,s,h,!0),s=mn.current,s!==null){switch(s.tag){case 31:case 13:return Dn===null?Ju():s.alternate===null&&ce===0&&(ce=3),s.flags&=-257,s.flags|=65536,s.lanes=h,o===Ru?s.flags|=16384:(n=s.updateQueue,n===null?s.updateQueue=new Set([o]):n.add(o),Ff(e,o,h)),!1;case 22:return s.flags|=65536,o===Ru?s.flags|=16384:(n=s.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},s.updateQueue=n):(s=n.retryQueue,s===null?n.retryQueue=new Set([o]):s.add(o)),Ff(e,o,h)),!1}throw Error(r(435,s.tag))}return Ff(e,o,h),Ju(),!1}if(Vt)return n=mn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==Ph&&(e=Error(r(422),{cause:o}),xo(Rn(e,s)))):(o!==Ph&&(n=Error(r(423),{cause:o}),xo(Rn(n,s))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,o=Rn(o,s),h=Ef(e.stateNode,o,h),Xh(e,h),ce!==4&&(ce=2)),!1;var f=Error(r(520),{cause:o});if(f=Rn(f,s),Wo===null?Wo=[f]:Wo.push(f),ce!==4&&(ce=2),n===null)return!0;o=Rn(o,s),s=n;do{switch(s.tag){case 3:return s.flags|=65536,e=h&-h,s.lanes|=e,e=Ef(s.stateNode,o,e),Xh(s,e),!1;case 1:if(n=s.type,f=s.stateNode,(s.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(ws===null||!ws.has(f))))return s.flags|=65536,h&=-h,s.lanes|=h,h=bp(h),wp(h,e,s,o),Xh(s,h),!1}s=s.return}while(s!==null);return!1}var Tf=Error(r(461)),Se=!1;function qe(e,n,s,o){n.child=e===null?Ng(n,null,s,o):Rr(n,e.child,s,o)}function Rp(e,n,s,o,h){s=s.render;var f=n.ref;if("ref"in o){var g={};for(var E in o)E!=="ref"&&(g[E]=o[E])}else g=o;return Ar(n),o=ef(e,n,s,g,f,h),E=nf(),e!==null&&!Se?(sf(e,n,h),Pi(e,n,h)):(Vt&&E&&Lh(n),n.flags|=1,qe(e,n,o,h),n.child)}function Cp(e,n,s,o,h){if(e===null){var f=s.type;return typeof f=="function"&&!Vh(f)&&f.defaultProps===void 0&&s.compare===null?(n.tag=15,n.type=f,Ip(e,n,f,o,h)):(e=Eu(s.type,null,o,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!Nf(e,h)){var g=f.memoizedProps;if(s=s.compare,s=s!==null?s:Oo,s(g,o)&&e.ref===n.ref)return Pi(e,n,h)}return n.flags|=1,e=Mi(f,o),e.ref=n.ref,e.return=n,n.child=e}function Ip(e,n,s,o,h){if(e!==null){var f=e.memoizedProps;if(Oo(f,o)&&e.ref===n.ref)if(Se=!1,n.pendingProps=o=f,Nf(e,h))(e.flags&131072)!==0&&(Se=!0);else return n.lanes=e.lanes,Pi(e,n,h)}return Af(e,n,s,o,h)}function Np(e,n,s,o){var h=o.children,f=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|s:s,e!==null){for(o=n.child=e.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,n.child=null;return Dp(e,n,f,s,o)}if((s&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&bu(n,f!==null?f.cachePool:null),f!==null?Mg(n,f):Jh(),Vg(n);else return o=n.lanes=536870912,Dp(e,n,f!==null?f.baseLanes|s:s,s,o)}else f!==null?(bu(n,f.cachePool),Mg(n,f),Ts(),n.memoizedState=null):(e!==null&&bu(n,null),Jh(),Ts());return qe(e,n,h,s),n.child}function Qo(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Dp(e,n,s,o,h){var f=Fh();return f=f===null?null:{parent:Te._currentValue,pool:f},n.memoizedState={baseLanes:s,cachePool:f},e!==null&&bu(n,null),Jh(),Vg(n),e!==null&&da(e,n,o,!0),n.childLanes=h,null}function ju(e,n){return n=qu({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function Op(e,n,s){return Rr(n,e.child,null,s),e=ju(n,n.pendingProps),e.flags|=2,gn(n),n.memoizedState=null,e}function e1(e,n,s){var o=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(Vt){if(o.mode==="hidden")return e=ju(n,o),n.lanes=536870912,Qo(null,e);if(Wh(n),(e=Wt)?(e=Hy(e,Nn),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:ds!==null?{id:gi,overflow:pi}:null,retryLane:536870912,hydrationErrors:null},s=mg(e),s.return=n,n.child=s,je=n,Wt=null)):e=null,e===null)throw gs(n);return n.lanes=536870912,null}return ju(n,o)}var f=e.memoizedState;if(f!==null){var g=f.dehydrated;if(Wh(n),h)if(n.flags&256)n.flags&=-257,n=Op(e,n,s);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(r(558));else if(Se||da(e,n,s,!1),h=(s&e.childLanes)!==0,Se||h){if(o=$t,o!==null&&(g=fo(o,s),g!==0&&g!==f.retryLane))throw f.retryLane=g,_r(e,g),ln(o,e,g),Tf;Ju(),n=Op(e,n,s)}else e=f.treeContext,Wt=On(g.nextSibling),je=n,Vt=!0,ms=null,Nn=!1,e!==null&&yg(n,e),n=ju(n,o),n.flags|=4096;return n}return e=Mi(e.child,{mode:o.mode,children:o.children}),e.ref=n.ref,n.child=e,e.return=n,e}function Bu(e,n){var s=n.ref;if(s===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(r(284));(e===null||e.ref!==s)&&(n.flags|=4194816)}}function Af(e,n,s,o,h){return Ar(n),s=ef(e,n,s,o,void 0,h),o=nf(),e!==null&&!Se?(sf(e,n,h),Pi(e,n,h)):(Vt&&o&&Lh(n),n.flags|=1,qe(e,n,s,h),n.child)}function Mp(e,n,s,o,h,f){return Ar(n),n.updateQueue=null,s=Ug(n,o,s,h),xg(e),o=nf(),e!==null&&!Se?(sf(e,n,f),Pi(e,n,f)):(Vt&&o&&Lh(n),n.flags|=1,qe(e,n,s,f),n.child)}function Vp(e,n,s,o,h){if(Ar(n),n.stateNode===null){var f=ua,g=s.contextType;typeof g=="object"&&g!==null&&(f=Be(g)),f=new s(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=vf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},Kh(n),g=s.contextType,f.context=typeof g=="object"&&g!==null?Be(g):ua,f.state=n.memoizedState,g=s.getDerivedStateFromProps,typeof g=="function"&&(_f(n,s,g,o),f.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(g=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),g!==f.state&&vf.enqueueReplaceState(f,f.state,null),Bo(n,o,f,h),jo(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(e===null){f=n.stateNode;var E=n.memoizedProps,C=Ir(s,E);f.props=C;var P=f.context,H=s.contextType;g=ua,typeof H=="object"&&H!==null&&(g=Be(H));var Q=s.getDerivedStateFromProps;H=typeof Q=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,H||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||P!==g)&&vp(n,f,o,g),ys=!1;var z=n.memoizedState;f.state=z,Bo(n,o,f,h),jo(),P=n.memoizedState,E||z!==P||ys?(typeof Q=="function"&&(_f(n,s,Q,o),P=n.memoizedState),(C=ys||_p(n,s,C,o,z,P,g))?(H||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=P),f.props=o,f.state=P,f.context=g,o=C):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,Yh(e,n),g=n.memoizedProps,H=Ir(s,g),f.props=H,Q=n.pendingProps,z=f.context,P=s.contextType,C=ua,typeof P=="object"&&P!==null&&(C=Be(P)),E=s.getDerivedStateFromProps,(P=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==Q||z!==C)&&vp(n,f,o,C),ys=!1,z=n.memoizedState,f.state=z,Bo(n,o,f,h),jo();var q=n.memoizedState;g!==Q||z!==q||ys||e!==null&&e.dependencies!==null&&Au(e.dependencies)?(typeof E=="function"&&(_f(n,s,E,o),q=n.memoizedState),(H=ys||_p(n,s,H,o,z,q,C)||e!==null&&e.dependencies!==null&&Au(e.dependencies))?(P||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,q,C),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,q,C)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&z===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&z===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=q),f.props=o,f.state=q,f.context=C,o=H):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&z===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&z===e.memoizedState||(n.flags|=1024),o=!1)}return f=o,Bu(e,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,s=o&&typeof s.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&o?(n.child=Rr(n,e.child,null,h),n.child=Rr(n,null,s,h)):qe(e,n,s,h),n.memoizedState=f.state,e=n.child):e=Pi(e,n,h),e}function xp(e,n,s,o){return Er(),n.flags|=256,qe(e,n,s,o),n.child}var Sf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function bf(e){return{baseLanes:e,cachePool:Sg()}}function wf(e,n,s){return e=e!==null?e.childLanes&~s:0,n&&(e|=yn),e}function Up(e,n,s){var o=n.pendingProps,h=!1,f=(n.flags&128)!==0,g;if((g=f)||(g=e!==null&&e.memoizedState===null?!1:(de.current&2)!==0),g&&(h=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,e===null){if(Vt){if(h?Es(n):Ts(),(e=Wt)?(e=Hy(e,Nn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:ds!==null?{id:gi,overflow:pi}:null,retryLane:536870912,hydrationErrors:null},s=mg(e),s.return=n,n.child=s,je=n,Wt=null)):e=null,e===null)throw gs(n);return od(e)?n.lanes=32:n.lanes=536870912,null}var E=o.children;return o=o.fallback,h?(Ts(),h=n.mode,E=qu({mode:"hidden",children:E},h),o=vr(o,h,s,null),E.return=n,o.return=n,E.sibling=o,n.child=E,o=n.child,o.memoizedState=bf(s),o.childLanes=wf(e,g,s),n.memoizedState=Sf,Qo(null,o)):(Es(n),Rf(n,E))}var C=e.memoizedState;if(C!==null&&(E=C.dehydrated,E!==null)){if(f)n.flags&256?(Es(n),n.flags&=-257,n=Cf(e,n,s)):n.memoizedState!==null?(Ts(),n.child=e.child,n.flags|=128,n=null):(Ts(),E=o.fallback,h=n.mode,o=qu({mode:"visible",children:o.children},h),E=vr(E,h,s,null),E.flags|=2,o.return=n,E.return=n,o.sibling=E,n.child=o,Rr(n,e.child,null,s),o=n.child,o.memoizedState=bf(s),o.childLanes=wf(e,g,s),n.memoizedState=Sf,n=Qo(null,o));else if(Es(n),od(E)){if(g=E.nextSibling&&E.nextSibling.dataset,g)var P=g.dgst;g=P,o=Error(r(419)),o.stack="",o.digest=g,xo({value:o,source:null,stack:null}),n=Cf(e,n,s)}else if(Se||da(e,n,s,!1),g=(s&e.childLanes)!==0,Se||g){if(g=$t,g!==null&&(o=fo(g,s),o!==0&&o!==C.retryLane))throw C.retryLane=o,_r(e,o),ln(g,e,o),Tf;ad(E)||Ju(),n=Cf(e,n,s)}else ad(E)?(n.flags|=192,n.child=e.child,n=null):(e=C.treeContext,Wt=On(E.nextSibling),je=n,Vt=!0,ms=null,Nn=!1,e!==null&&yg(n,e),n=Rf(n,o.children),n.flags|=4096);return n}return h?(Ts(),E=o.fallback,h=n.mode,C=e.child,P=C.sibling,o=Mi(C,{mode:"hidden",children:o.children}),o.subtreeFlags=C.subtreeFlags&65011712,P!==null?E=Mi(P,E):(E=vr(E,h,s,null),E.flags|=2),E.return=n,o.return=n,o.sibling=E,n.child=o,Qo(null,o),o=n.child,E=e.child.memoizedState,E===null?E=bf(s):(h=E.cachePool,h!==null?(C=Te._currentValue,h=h.parent!==C?{parent:C,pool:C}:h):h=Sg(),E={baseLanes:E.baseLanes|s,cachePool:h}),o.memoizedState=E,o.childLanes=wf(e,g,s),n.memoizedState=Sf,Qo(e.child,o)):(Es(n),s=e.child,e=s.sibling,s=Mi(s,{mode:"visible",children:o.children}),s.return=n,s.sibling=null,e!==null&&(g=n.deletions,g===null?(n.deletions=[e],n.flags|=16):g.push(e)),n.child=s,n.memoizedState=null,s)}function Rf(e,n){return n=qu({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function qu(e,n){return e=dn(22,e,null,n),e.lanes=0,e}function Cf(e,n,s){return Rr(n,e.child,null,s),e=Rf(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function Lp(e,n,s){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),Bh(e.return,n,s)}function If(e,n,s,o,h,f){var g=e.memoizedState;g===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:s,tailMode:h,treeForkCount:f}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=o,g.tail=s,g.tailMode=h,g.treeForkCount=f)}function kp(e,n,s){var o=n.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var g=de.current,E=(g&2)!==0;if(E?(g=g&1|2,n.flags|=128):g&=1,et(de,g),qe(e,n,o,s),o=Vt?Vo:0,!E&&e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Lp(e,s,n);else if(e.tag===19)Lp(e,s,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(s=n.child,h=null;s!==null;)e=s.alternate,e!==null&&Du(e)===null&&(h=s),s=s.sibling;s=h,s===null?(h=n.child,n.child=null):(h=s.sibling,s.sibling=null),If(n,!1,h,s,f,o);break;case"backwards":case"unstable_legacy-backwards":for(s=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&Du(e)===null){n.child=h;break}e=h.sibling,h.sibling=s,s=h,h=e}If(n,!0,s,null,f,o);break;case"together":If(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function Pi(e,n,s){if(e!==null&&(n.dependencies=e.dependencies),bs|=n.lanes,(s&n.childLanes)===0)if(e!==null){if(da(e,n,s,!1),(s&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(r(153));if(n.child!==null){for(e=n.child,s=Mi(e,e.pendingProps),n.child=s,s.return=n;e.sibling!==null;)e=e.sibling,s=s.sibling=Mi(e,e.pendingProps),s.return=n;s.sibling=null}return n.child}function Nf(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Au(e)))}function n1(e,n,s){switch(n.tag){case 3:Ie(n,n.stateNode.containerInfo),ps(n,Te,e.memoizedState.cache),Er();break;case 27:case 5:tr(n);break;case 4:Ie(n,n.stateNode.containerInfo);break;case 10:ps(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,Wh(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(Es(n),n.flags|=128,null):(s&n.child.childLanes)!==0?Up(e,n,s):(Es(n),e=Pi(e,n,s),e!==null?e.sibling:null);Es(n);break;case 19:var h=(e.flags&128)!==0;if(o=(s&n.childLanes)!==0,o||(da(e,n,s,!1),o=(s&n.childLanes)!==0),h){if(o)return kp(e,n,s);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),et(de,de.current),o)break;return null;case 22:return n.lanes=0,Np(e,n,s,n.pendingProps);case 24:ps(n,Te,e.memoizedState.cache)}return Pi(e,n,s)}function Pp(e,n,s){if(e!==null)if(e.memoizedProps!==n.pendingProps)Se=!0;else{if(!Nf(e,s)&&(n.flags&128)===0)return Se=!1,n1(e,n,s);Se=(e.flags&131072)!==0}else Se=!1,Vt&&(n.flags&1048576)!==0&&pg(n,Vo,n.index);switch(n.lanes=0,n.tag){case 16:t:{var o=n.pendingProps;if(e=br(n.elementType),n.type=e,typeof e=="function")Vh(e)?(o=Ir(e,o),n.tag=1,n=Vp(null,n,e,o,s)):(n.tag=0,n=Af(null,n,e,o,s));else{if(e!=null){var h=e.$$typeof;if(h===Bt){n.tag=11,n=Rp(null,n,e,o,s);break t}else if(h===I){n.tag=14,n=Cp(null,n,e,o,s);break t}}throw n=ie(e)||e,Error(r(306,n,""))}}return n;case 0:return Af(e,n,n.type,n.pendingProps,s);case 1:return o=n.type,h=Ir(o,n.pendingProps),Vp(e,n,o,h,s);case 3:t:{if(Ie(n,n.stateNode.containerInfo),e===null)throw Error(r(387));o=n.pendingProps;var f=n.memoizedState;h=f.element,Yh(e,n),Bo(n,o,null,s);var g=n.memoizedState;if(o=g.cache,ps(n,Te,o),o!==f.cache&&qh(n,[Te],s,!0),jo(),o=g.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=xp(e,n,o,s);break t}else if(o!==h){h=Rn(Error(r(424)),n),xo(h),n=xp(e,n,o,s);break t}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Wt=On(e.firstChild),je=n,Vt=!0,ms=null,Nn=!0,s=Ng(n,null,o,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(Er(),o===h){n=Pi(e,n,s);break t}qe(e,n,o,s)}n=n.child}return n;case 26:return Bu(e,n),e===null?(s=Xy(n.type,null,n.pendingProps,null))?n.memoizedState=s:Vt||(s=n.type,e=n.pendingProps,o=sc(St.current).createElement(s),o[_e]=n,o[xe]=e,He(o,s,e),ve(o),n.stateNode=o):n.memoizedState=Xy(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return tr(n),e===null&&Vt&&(o=n.stateNode=Qy(n.type,n.pendingProps,St.current),je=n,Nn=!0,h=Wt,Ns(n.type)?(ld=h,Wt=On(o.firstChild)):Wt=h),qe(e,n,n.pendingProps.children,s),Bu(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Vt&&((h=o=Wt)&&(o=M1(o,n.type,n.pendingProps,Nn),o!==null?(n.stateNode=o,je=n,Wt=On(o.firstChild),Nn=!1,h=!0):h=!1),h||gs(n)),tr(n),h=n.type,f=n.pendingProps,g=e!==null?e.memoizedProps:null,o=f.children,id(h,f)?o=null:g!==null&&id(h,g)&&(n.flags|=32),n.memoizedState!==null&&(h=ef(e,n,KT,null,null,s),ol._currentValue=h),Bu(e,n),qe(e,n,o,s),n.child;case 6:return e===null&&Vt&&((e=s=Wt)&&(s=V1(s,n.pendingProps,Nn),s!==null?(n.stateNode=s,je=n,Wt=null,e=!0):e=!1),e||gs(n)),null;case 13:return Up(e,n,s);case 4:return Ie(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=Rr(n,null,o,s):qe(e,n,o,s),n.child;case 11:return Rp(e,n,n.type,n.pendingProps,s);case 7:return qe(e,n,n.pendingProps,s),n.child;case 8:return qe(e,n,n.pendingProps.children,s),n.child;case 12:return qe(e,n,n.pendingProps.children,s),n.child;case 10:return o=n.pendingProps,ps(n,n.type,o.value),qe(e,n,o.children,s),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,Ar(n),h=Be(h),o=o(h),n.flags|=1,qe(e,n,o,s),n.child;case 14:return Cp(e,n,n.type,n.pendingProps,s);case 15:return Ip(e,n,n.type,n.pendingProps,s);case 19:return kp(e,n,s);case 31:return e1(e,n,s);case 22:return Np(e,n,s,n.pendingProps);case 24:return Ar(n),o=Be(Te),e===null?(h=Fh(),h===null&&(h=$t,f=Hh(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=s),h=f),n.memoizedState={parent:o,cache:h},Kh(n),ps(n,Te,h)):((e.lanes&s)!==0&&(Yh(e,n),Bo(n,null,null,s),jo()),h=e.memoizedState,f=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),ps(n,Te,o)):(o=f.cache,ps(n,Te,o),o!==h.cache&&qh(n,[Te],s,!0))),qe(e,n,n.pendingProps.children,s),n.child;case 29:throw n.pendingProps}throw Error(r(156,n.tag))}function zi(e){e.flags|=4}function Df(e,n,s,o,h){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(hy())e.flags|=8192;else throw wr=Ru,Qh}else e.flags&=-16777217}function zp(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!t_(n))if(hy())e.flags|=8192;else throw wr=Ru,Qh}function Hu(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?Xl():536870912,e.lanes|=n,wa|=n)}function Ko(e,n){if(!Vt)switch(e.tailMode){case"hidden":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function te(e){var n=e.alternate!==null&&e.alternate.child===e.child,s=0,o=0;if(n)for(var h=e.child;h!==null;)s|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)s|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=o,e.childLanes=s,n}function i1(e,n,s){var o=n.pendingProps;switch(kh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return te(n),null;case 1:return te(n),null;case 3:return s=n.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),Ui(Te),se(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(fa(n)?zi(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,zh())),te(n),null;case 26:var h=n.type,f=n.memoizedState;return e===null?(zi(n),f!==null?(te(n),zp(n,f)):(te(n),Df(n,h,null,o,s))):f?f!==e.memoizedState?(zi(n),te(n),zp(n,f)):(te(n),n.flags&=-16777217):(e=e.memoizedProps,e!==o&&zi(n),te(n),Df(n,h,e,o,s)),null;case 27:if(Gr(n),s=St.current,h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&zi(n);else{if(!o){if(n.stateNode===null)throw Error(r(166));return te(n),null}e=st.current,fa(n)?_g(n):(e=Qy(h,o,s),n.stateNode=e,zi(n))}return te(n),null;case 5:if(Gr(n),h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&zi(n);else{if(!o){if(n.stateNode===null)throw Error(r(166));return te(n),null}if(f=st.current,fa(n))_g(n);else{var g=sc(St.current);switch(f){case 1:f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=g.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?g.createElement("select",{is:o.is}):g.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?g.createElement(h,{is:o.is}):g.createElement(h)}}f[_e]=n,f[xe]=o;t:for(g=n.child;g!==null;){if(g.tag===5||g.tag===6)f.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===n)break t;for(;g.sibling===null;){if(g.return===null||g.return===n)break t;g=g.return}g.sibling.return=g.return,g=g.sibling}n.stateNode=f;t:switch(He(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break t;case"img":o=!0;break t;default:o=!1}o&&zi(n)}}return te(n),Df(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,s),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==o&&zi(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(r(166));if(e=St.current,fa(n)){if(e=n.stateNode,s=n.memoizedProps,o=null,h=je,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}e[_e]=n,e=!!(e.nodeValue===s||o!==null&&o.suppressHydrationWarning===!0||Uy(e.nodeValue,s)),e||gs(n,!0)}else e=sc(e).createTextNode(o),e[_e]=n,n.stateNode=e}return te(n),null;case 31:if(s=n.memoizedState,e===null||e.memoizedState!==null){if(o=fa(n),s!==null){if(e===null){if(!o)throw Error(r(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(557));e[_e]=n}else Er(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;te(n),e=!1}else s=zh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=s),e=!0;if(!e)return n.flags&256?(gn(n),n):(gn(n),null);if((n.flags&128)!==0)throw Error(r(558))}return te(n),null;case 13:if(o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=fa(n),o!==null&&o.dehydrated!==null){if(e===null){if(!h)throw Error(r(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(r(317));h[_e]=n}else Er(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;te(n),h=!1}else h=zh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(gn(n),n):(gn(n),null)}return gn(n),(n.flags&128)!==0?(n.lanes=s,n):(s=o!==null,e=e!==null&&e.memoizedState!==null,s&&(o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),s!==e&&s&&(n.child.flags|=8192),Hu(n,n.updateQueue),te(n),null);case 4:return se(),e===null&&$f(n.stateNode.containerInfo),te(n),null;case 10:return Ui(n.type),te(n),null;case 19:if(Y(de),o=n.memoizedState,o===null)return te(n),null;if(h=(n.flags&128)!==0,f=o.rendering,f===null)if(h)Ko(o,!1);else{if(ce!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=Du(e),f!==null){for(n.flags|=128,Ko(o,!1),e=f.updateQueue,n.updateQueue=e,Hu(n,e),n.subtreeFlags=0,e=s,s=n.child;s!==null;)dg(s,e),s=s.sibling;return et(de,de.current&1|2),Vt&&Vi(n,o.treeForkCount),n.child}e=e.sibling}o.tail!==null&&$e()>Yu&&(n.flags|=128,h=!0,Ko(o,!1),n.lanes=4194304)}else{if(!h)if(e=Du(f),e!==null){if(n.flags|=128,h=!0,e=e.updateQueue,n.updateQueue=e,Hu(n,e),Ko(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!Vt)return te(n),null}else 2*$e()-o.renderingStartTime>Yu&&s!==536870912&&(n.flags|=128,h=!0,Ko(o,!1),n.lanes=4194304);o.isBackwards?(f.sibling=n.child,n.child=f):(e=o.last,e!==null?e.sibling=f:n.child=f,o.last=f)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=$e(),e.sibling=null,s=de.current,et(de,h?s&1|2:s&1),Vt&&Vi(n,o.treeForkCount),e):(te(n),null);case 22:case 23:return gn(n),$h(),o=n.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(s&536870912)!==0&&(n.flags&128)===0&&(te(n),n.subtreeFlags&6&&(n.flags|=8192)):te(n),s=n.updateQueue,s!==null&&Hu(n,s.retryQueue),s=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==s&&(n.flags|=2048),e!==null&&Y(Sr),null;case 24:return s=null,e!==null&&(s=e.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),Ui(Te),te(n),null;case 25:return null;case 30:return null}throw Error(r(156,n.tag))}function s1(e,n){switch(kh(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Ui(Te),se(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return Gr(n),null;case 31:if(n.memoizedState!==null){if(gn(n),n.alternate===null)throw Error(r(340));Er()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(gn(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(r(340));Er()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return Y(de),null;case 4:return se(),null;case 10:return Ui(n.type),null;case 22:case 23:return gn(n),$h(),e!==null&&Y(Sr),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return Ui(Te),null;case 25:return null;default:return null}}function jp(e,n){switch(kh(n),n.tag){case 3:Ui(Te),se();break;case 26:case 27:case 5:Gr(n);break;case 4:se();break;case 31:n.memoizedState!==null&&gn(n);break;case 13:gn(n);break;case 19:Y(de);break;case 10:Ui(n.type);break;case 22:case 23:gn(n),$h(),e!==null&&Y(Sr);break;case 24:Ui(Te)}}function Yo(e,n){try{var s=n.updateQueue,o=s!==null?s.lastEffect:null;if(o!==null){var h=o.next;s=h;do{if((s.tag&e)===e){o=void 0;var f=s.create,g=s.inst;o=f(),g.destroy=o}s=s.next}while(s!==h)}}catch(E){Qt(n,n.return,E)}}function As(e,n,s){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&e)===e){var g=o.inst,E=g.destroy;if(E!==void 0){g.destroy=void 0,h=n;var C=s,P=E;try{P()}catch(H){Qt(h,C,H)}}}o=o.next}while(o!==f)}}catch(H){Qt(n,n.return,H)}}function Bp(e){var n=e.updateQueue;if(n!==null){var s=e.stateNode;try{Og(n,s)}catch(o){Qt(e,e.return,o)}}}function qp(e,n,s){s.props=Ir(e.type,e.memoizedProps),s.state=e.memoizedState;try{s.componentWillUnmount()}catch(o){Qt(e,n,o)}}function Xo(e,n){try{var s=e.ref;if(s!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof s=="function"?e.refCleanup=s(o):s.current=o}}catch(h){Qt(e,n,h)}}function yi(e,n){var s=e.ref,o=e.refCleanup;if(s!==null)if(typeof o=="function")try{o()}catch(h){Qt(e,n,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(h){Qt(e,n,h)}else s.current=null}function Hp(e){var n=e.type,s=e.memoizedProps,o=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":s.autoFocus&&o.focus();break t;case"img":s.src?o.src=s.src:s.srcSet&&(o.srcset=s.srcSet)}}catch(h){Qt(e,e.return,h)}}function Of(e,n,s){try{var o=e.stateNode;R1(o,e.type,s,n),o[xe]=n}catch(h){Qt(e,e.return,h)}}function Gp(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Ns(e.type)||e.tag===4}function Mf(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||Gp(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Ns(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Vf(e,n,s){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(e,n):(n=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,n.appendChild(e),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=zn));else if(o!==4&&(o===27&&Ns(e.type)&&(s=e.stateNode,n=null),e=e.child,e!==null))for(Vf(e,n,s),e=e.sibling;e!==null;)Vf(e,n,s),e=e.sibling}function Gu(e,n,s){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?s.insertBefore(e,n):s.appendChild(e);else if(o!==4&&(o===27&&Ns(e.type)&&(s=e.stateNode),e=e.child,e!==null))for(Gu(e,n,s),e=e.sibling;e!==null;)Gu(e,n,s),e=e.sibling}function Fp(e){var n=e.stateNode,s=e.memoizedProps;try{for(var o=e.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);He(n,o,s),n[_e]=e,n[xe]=s}catch(f){Qt(e,e.return,f)}}var ji=!1,be=!1,xf=!1,Qp=typeof WeakSet=="function"?WeakSet:Set,Le=null;function r1(e,n){if(e=e.containerInfo,ed=hc,e=sg(e),Rh(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else t:{s=(s=e.ownerDocument)&&s.defaultView||window;var o=s.getSelection&&s.getSelection();if(o&&o.rangeCount!==0){s=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{s.nodeType,f.nodeType}catch{s=null;break t}var g=0,E=-1,C=-1,P=0,H=0,Q=e,z=null;e:for(;;){for(var q;Q!==s||h!==0&&Q.nodeType!==3||(E=g+h),Q!==f||o!==0&&Q.nodeType!==3||(C=g+o),Q.nodeType===3&&(g+=Q.nodeValue.length),(q=Q.firstChild)!==null;)z=Q,Q=q;for(;;){if(Q===e)break e;if(z===s&&++P===h&&(E=g),z===f&&++H===o&&(C=g),(q=Q.nextSibling)!==null)break;Q=z,z=Q.parentNode}Q=q}s=E===-1||C===-1?null:{start:E,end:C}}else s=null}s=s||{start:0,end:0}}else s=null;for(nd={focusedElem:e,selectionRange:s},hc=!1,Le=n;Le!==null;)if(n=Le,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,Le=e;else for(;Le!==null;){switch(n=Le,f=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(s=0;s<e.length;s++)h=e[s],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,s=n,h=f.memoizedProps,f=f.memoizedState,o=s.stateNode;try{var rt=Ir(s.type,h);e=o.getSnapshotBeforeUpdate(rt,f),o.__reactInternalSnapshotBeforeUpdate=e}catch(ft){Qt(s,s.return,ft)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,s=e.nodeType,s===9)rd(e);else if(s===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":rd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(r(163))}if(e=n.sibling,e!==null){e.return=n.return,Le=e;break}Le=n.return}}function Kp(e,n,s){var o=s.flags;switch(s.tag){case 0:case 11:case 15:qi(e,s),o&4&&Yo(5,s);break;case 1:if(qi(e,s),o&4)if(e=s.stateNode,n===null)try{e.componentDidMount()}catch(g){Qt(s,s.return,g)}else{var h=Ir(s.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(h,n,e.__reactInternalSnapshotBeforeUpdate)}catch(g){Qt(s,s.return,g)}}o&64&&Bp(s),o&512&&Xo(s,s.return);break;case 3:if(qi(e,s),o&64&&(e=s.updateQueue,e!==null)){if(n=null,s.child!==null)switch(s.child.tag){case 27:case 5:n=s.child.stateNode;break;case 1:n=s.child.stateNode}try{Og(e,n)}catch(g){Qt(s,s.return,g)}}break;case 27:n===null&&o&4&&Fp(s);case 26:case 5:qi(e,s),n===null&&o&4&&Hp(s),o&512&&Xo(s,s.return);break;case 12:qi(e,s);break;case 31:qi(e,s),o&4&&Zp(e,s);break;case 13:qi(e,s),o&4&&Jp(e,s),o&64&&(e=s.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(s=m1.bind(null,s),x1(e,s))));break;case 22:if(o=s.memoizedState!==null||ji,!o){n=n!==null&&n.memoizedState!==null||be,h=ji;var f=be;ji=o,(be=n)&&!f?Hi(e,s,(s.subtreeFlags&8772)!==0):qi(e,s),ji=h,be=f}break;case 30:break;default:qi(e,s)}}function Yp(e){var n=e.alternate;n!==null&&(e.alternate=null,Yp(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&Xr(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ae=null,sn=!1;function Bi(e,n,s){for(s=s.child;s!==null;)Xp(e,n,s),s=s.sibling}function Xp(e,n,s){if(Pe&&typeof Pe.onCommitFiberUnmount=="function")try{Pe.onCommitFiberUnmount(Un,s)}catch{}switch(s.tag){case 26:be||yi(s,n),Bi(e,n,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:be||yi(s,n);var o=ae,h=sn;Ns(s.type)&&(ae=s.stateNode,sn=!1),Bi(e,n,s),sl(s.stateNode),ae=o,sn=h;break;case 5:be||yi(s,n);case 6:if(o=ae,h=sn,ae=null,Bi(e,n,s),ae=o,sn=h,ae!==null)if(sn)try{(ae.nodeType===9?ae.body:ae.nodeName==="HTML"?ae.ownerDocument.body:ae).removeChild(s.stateNode)}catch(f){Qt(s,n,f)}else try{ae.removeChild(s.stateNode)}catch(f){Qt(s,n,f)}break;case 18:ae!==null&&(sn?(e=ae,By(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,s.stateNode),Va(e)):By(ae,s.stateNode));break;case 4:o=ae,h=sn,ae=s.stateNode.containerInfo,sn=!0,Bi(e,n,s),ae=o,sn=h;break;case 0:case 11:case 14:case 15:As(2,s,n),be||As(4,s,n),Bi(e,n,s);break;case 1:be||(yi(s,n),o=s.stateNode,typeof o.componentWillUnmount=="function"&&qp(s,n,o)),Bi(e,n,s);break;case 21:Bi(e,n,s);break;case 22:be=(o=be)||s.memoizedState!==null,Bi(e,n,s),be=o;break;default:Bi(e,n,s)}}function Zp(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Va(e)}catch(s){Qt(n,n.return,s)}}}function Jp(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Va(e)}catch(s){Qt(n,n.return,s)}}function a1(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new Qp),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new Qp),n;default:throw Error(r(435,e.tag))}}function Fu(e,n){var s=a1(e);n.forEach(function(o){if(!s.has(o)){s.add(o);var h=g1.bind(null,e,o);o.then(h,h)}})}function rn(e,n){var s=n.deletions;if(s!==null)for(var o=0;o<s.length;o++){var h=s[o],f=e,g=n,E=g;t:for(;E!==null;){switch(E.tag){case 27:if(Ns(E.type)){ae=E.stateNode,sn=!1;break t}break;case 5:ae=E.stateNode,sn=!1;break t;case 3:case 4:ae=E.stateNode.containerInfo,sn=!0;break t}E=E.return}if(ae===null)throw Error(r(160));Xp(f,g,h),ae=null,sn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)$p(n,e),n=n.sibling}var Fn=null;function $p(e,n){var s=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:rn(n,e),an(e),o&4&&(As(3,e,e.return),Yo(3,e),As(5,e,e.return));break;case 1:rn(n,e),an(e),o&512&&(be||s===null||yi(s,s.return)),o&64&&ji&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(s=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=s===null?o:s.concat(o))));break;case 26:var h=Fn;if(rn(n,e),an(e),o&512&&(be||s===null||yi(s,s.return)),o&4){var f=s!==null?s.memoizedState:null;if(o=e.memoizedState,s===null)if(o===null)if(e.stateNode===null){t:{o=e.type,s=e.memoizedProps,h=h.ownerDocument||h;e:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[ii]||f[_e]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),He(f,o,s),f[_e]=e,ve(f),o=f;break t;case"link":var g=$y("link","href",h).get(o+(s.href||""));if(g){for(var E=0;E<g.length;E++)if(f=g[E],f.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&f.getAttribute("rel")===(s.rel==null?null:s.rel)&&f.getAttribute("title")===(s.title==null?null:s.title)&&f.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){g.splice(E,1);break e}}f=h.createElement(o),He(f,o,s),h.head.appendChild(f);break;case"meta":if(g=$y("meta","content",h).get(o+(s.content||""))){for(E=0;E<g.length;E++)if(f=g[E],f.getAttribute("content")===(s.content==null?null:""+s.content)&&f.getAttribute("name")===(s.name==null?null:s.name)&&f.getAttribute("property")===(s.property==null?null:s.property)&&f.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&f.getAttribute("charset")===(s.charSet==null?null:s.charSet)){g.splice(E,1);break e}}f=h.createElement(o),He(f,o,s),h.head.appendChild(f);break;default:throw Error(r(468,o))}f[_e]=e,ve(f),o=f}e.stateNode=o}else Wy(h,e.type,e.stateNode);else e.stateNode=Jy(h,o,e.memoizedProps);else f!==o?(f===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):f.count--,o===null?Wy(h,e.type,e.stateNode):Jy(h,o,e.memoizedProps)):o===null&&e.stateNode!==null&&Of(e,e.memoizedProps,s.memoizedProps)}break;case 27:rn(n,e),an(e),o&512&&(be||s===null||yi(s,s.return)),s!==null&&o&4&&Of(e,e.memoizedProps,s.memoizedProps);break;case 5:if(rn(n,e),an(e),o&512&&(be||s===null||yi(s,s.return)),e.flags&32){h=e.stateNode;try{nn(h,"")}catch(rt){Qt(e,e.return,rt)}}o&4&&e.stateNode!=null&&(h=e.memoizedProps,Of(e,h,s!==null?s.memoizedProps:h)),o&1024&&(xf=!0);break;case 6:if(rn(n,e),an(e),o&4){if(e.stateNode===null)throw Error(r(162));o=e.memoizedProps,s=e.stateNode;try{s.nodeValue=o}catch(rt){Qt(e,e.return,rt)}}break;case 3:if(oc=null,h=Fn,Fn=rc(n.containerInfo),rn(n,e),Fn=h,an(e),o&4&&s!==null&&s.memoizedState.isDehydrated)try{Va(n.containerInfo)}catch(rt){Qt(e,e.return,rt)}xf&&(xf=!1,Wp(e));break;case 4:o=Fn,Fn=rc(e.stateNode.containerInfo),rn(n,e),an(e),Fn=o;break;case 12:rn(n,e),an(e);break;case 31:rn(n,e),an(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Fu(e,o)));break;case 13:rn(n,e),an(e),e.child.flags&8192&&e.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(Ku=$e()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Fu(e,o)));break;case 22:h=e.memoizedState!==null;var C=s!==null&&s.memoizedState!==null,P=ji,H=be;if(ji=P||h,be=H||C,rn(n,e),be=H,ji=P,an(e),o&8192)t:for(n=e.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(s===null||C||ji||be||Nr(e)),s=null,n=e;;){if(n.tag===5||n.tag===26){if(s===null){C=s=n;try{if(f=C.stateNode,h)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{E=C.stateNode;var Q=C.memoizedProps.style,z=Q!=null&&Q.hasOwnProperty("display")?Q.display:null;E.style.display=z==null||typeof z=="boolean"?"":(""+z).trim()}}catch(rt){Qt(C,C.return,rt)}}}else if(n.tag===6){if(s===null){C=n;try{C.stateNode.nodeValue=h?"":C.memoizedProps}catch(rt){Qt(C,C.return,rt)}}}else if(n.tag===18){if(s===null){C=n;try{var q=C.stateNode;h?qy(q,!0):qy(C.stateNode,!1)}catch(rt){Qt(C,C.return,rt)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;s===n&&(s=null),n=n.return}s===n&&(s=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=e.updateQueue,o!==null&&(s=o.retryQueue,s!==null&&(o.retryQueue=null,Fu(e,s))));break;case 19:rn(n,e),an(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Fu(e,o)));break;case 30:break;case 21:break;default:rn(n,e),an(e)}}function an(e){var n=e.flags;if(n&2){try{for(var s,o=e.return;o!==null;){if(Gp(o)){s=o;break}o=o.return}if(s==null)throw Error(r(160));switch(s.tag){case 27:var h=s.stateNode,f=Mf(e);Gu(e,f,h);break;case 5:var g=s.stateNode;s.flags&32&&(nn(g,""),s.flags&=-33);var E=Mf(e);Gu(e,E,g);break;case 3:case 4:var C=s.stateNode.containerInfo,P=Mf(e);Vf(e,P,C);break;default:throw Error(r(161))}}catch(H){Qt(e,e.return,H)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function Wp(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;Wp(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function qi(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Kp(e,n.alternate,n),n=n.sibling}function Nr(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:As(4,n,n.return),Nr(n);break;case 1:yi(n,n.return);var s=n.stateNode;typeof s.componentWillUnmount=="function"&&qp(n,n.return,s),Nr(n);break;case 27:sl(n.stateNode);case 26:case 5:yi(n,n.return),Nr(n);break;case 22:n.memoizedState===null&&Nr(n);break;case 30:Nr(n);break;default:Nr(n)}e=e.sibling}}function Hi(e,n,s){for(s=s&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=e,f=n,g=f.flags;switch(f.tag){case 0:case 11:case 15:Hi(h,f,s),Yo(4,f);break;case 1:if(Hi(h,f,s),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(P){Qt(o,o.return,P)}if(o=f,h=o.updateQueue,h!==null){var E=o.stateNode;try{var C=h.shared.hiddenCallbacks;if(C!==null)for(h.shared.hiddenCallbacks=null,h=0;h<C.length;h++)Dg(C[h],E)}catch(P){Qt(o,o.return,P)}}s&&g&64&&Bp(f),Xo(f,f.return);break;case 27:Fp(f);case 26:case 5:Hi(h,f,s),s&&o===null&&g&4&&Hp(f),Xo(f,f.return);break;case 12:Hi(h,f,s);break;case 31:Hi(h,f,s),s&&g&4&&Zp(h,f);break;case 13:Hi(h,f,s),s&&g&4&&Jp(h,f);break;case 22:f.memoizedState===null&&Hi(h,f,s),Xo(f,f.return);break;case 30:break;default:Hi(h,f,s)}n=n.sibling}}function Uf(e,n){var s=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==s&&(e!=null&&e.refCount++,s!=null&&Uo(s))}function Lf(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Uo(e))}function Qn(e,n,s,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)ty(e,n,s,o),n=n.sibling}function ty(e,n,s,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:Qn(e,n,s,o),h&2048&&Yo(9,n);break;case 1:Qn(e,n,s,o);break;case 3:Qn(e,n,s,o),h&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Uo(e)));break;case 12:if(h&2048){Qn(e,n,s,o),e=n.stateNode;try{var f=n.memoizedProps,g=f.id,E=f.onPostCommit;typeof E=="function"&&E(g,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(C){Qt(n,n.return,C)}}else Qn(e,n,s,o);break;case 31:Qn(e,n,s,o);break;case 13:Qn(e,n,s,o);break;case 23:break;case 22:f=n.stateNode,g=n.alternate,n.memoizedState!==null?f._visibility&2?Qn(e,n,s,o):Zo(e,n):f._visibility&2?Qn(e,n,s,o):(f._visibility|=2,Aa(e,n,s,o,(n.subtreeFlags&10256)!==0||!1)),h&2048&&Uf(g,n);break;case 24:Qn(e,n,s,o),h&2048&&Lf(n.alternate,n);break;default:Qn(e,n,s,o)}}function Aa(e,n,s,o,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=e,g=n,E=s,C=o,P=g.flags;switch(g.tag){case 0:case 11:case 15:Aa(f,g,E,C,h),Yo(8,g);break;case 23:break;case 22:var H=g.stateNode;g.memoizedState!==null?H._visibility&2?Aa(f,g,E,C,h):Zo(f,g):(H._visibility|=2,Aa(f,g,E,C,h)),h&&P&2048&&Uf(g.alternate,g);break;case 24:Aa(f,g,E,C,h),h&&P&2048&&Lf(g.alternate,g);break;default:Aa(f,g,E,C,h)}n=n.sibling}}function Zo(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var s=e,o=n,h=o.flags;switch(o.tag){case 22:Zo(s,o),h&2048&&Uf(o.alternate,o);break;case 24:Zo(s,o),h&2048&&Lf(o.alternate,o);break;default:Zo(s,o)}n=n.sibling}}var Jo=8192;function Sa(e,n,s){if(e.subtreeFlags&Jo)for(e=e.child;e!==null;)ey(e,n,s),e=e.sibling}function ey(e,n,s){switch(e.tag){case 26:Sa(e,n,s),e.flags&Jo&&e.memoizedState!==null&&Q1(s,Fn,e.memoizedState,e.memoizedProps);break;case 5:Sa(e,n,s);break;case 3:case 4:var o=Fn;Fn=rc(e.stateNode.containerInfo),Sa(e,n,s),Fn=o;break;case 22:e.memoizedState===null&&(o=e.alternate,o!==null&&o.memoizedState!==null?(o=Jo,Jo=16777216,Sa(e,n,s),Jo=o):Sa(e,n,s));break;default:Sa(e,n,s)}}function ny(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function $o(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var o=n[s];Le=o,sy(o,e)}ny(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)iy(e),e=e.sibling}function iy(e){switch(e.tag){case 0:case 11:case 15:$o(e),e.flags&2048&&As(9,e,e.return);break;case 3:$o(e);break;case 12:$o(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,Qu(e)):$o(e);break;default:$o(e)}}function Qu(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var o=n[s];Le=o,sy(o,e)}ny(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:As(8,n,n.return),Qu(n);break;case 22:s=n.stateNode,s._visibility&2&&(s._visibility&=-3,Qu(n));break;default:Qu(n)}e=e.sibling}}function sy(e,n){for(;Le!==null;){var s=Le;switch(s.tag){case 0:case 11:case 15:As(8,s,n);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var o=s.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Uo(s.memoizedState.cache)}if(o=s.child,o!==null)o.return=s,Le=o;else t:for(s=e;Le!==null;){o=Le;var h=o.sibling,f=o.return;if(Yp(o),o===s){Le=null;break t}if(h!==null){h.return=f,Le=h;break t}Le=f}}}var o1={getCacheForType:function(e){var n=Be(Te),s=n.data.get(e);return s===void 0&&(s=e(),n.data.set(e,s)),s},cacheSignal:function(){return Be(Te).controller.signal}},l1=typeof WeakMap=="function"?WeakMap:Map,jt=0,$t=null,wt=null,Ct=0,Ft=0,pn=null,Ss=!1,ba=!1,kf=!1,Gi=0,ce=0,bs=0,Dr=0,Pf=0,yn=0,wa=0,Wo=null,on=null,zf=!1,Ku=0,ry=0,Yu=1/0,Xu=null,ws=null,De=0,Rs=null,Ra=null,Fi=0,jf=0,Bf=null,ay=null,tl=0,qf=null;function _n(){return(jt&2)!==0&&Ct!==0?Ct&-Ct:G.T!==null?Yf():Zl()}function oy(){if(yn===0)if((Ct&536870912)===0||Vt){var e=ir;ir<<=1,(ir&3932160)===0&&(ir=262144),yn=e}else yn=536870912;return e=mn.current,e!==null&&(e.flags|=32),yn}function ln(e,n,s){(e===$t&&(Ft===2||Ft===9)||e.cancelPendingCommit!==null)&&(Ca(e,0),Cs(e,Ct,yn,!1)),sr(e,s),((jt&2)===0||e!==$t)&&(e===$t&&((jt&2)===0&&(Dr|=s),ce===4&&Cs(e,Ct,yn,!1)),_i(e))}function ly(e,n,s){if((jt&6)!==0)throw Error(r(327));var o=!s&&(n&127)===0&&(n&e.expiredLanes)===0||Ln(e,n),h=o?h1(e,n):Gf(e,n,!0),f=o;do{if(h===0){ba&&!o&&Cs(e,n,0,!1);break}else{if(s=e.current.alternate,f&&!u1(s)){h=Gf(e,n,!1),f=!1;continue}if(h===2){if(f=n,e.errorRecoveryDisabledLanes&f)var g=0;else g=e.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;t:{var E=e;h=Wo;var C=E.current.memoizedState.isDehydrated;if(C&&(Ca(E,g).flags|=256),g=Gf(E,g,!1),g!==2){if(kf&&!C){E.errorRecoveryDisabledLanes|=f,Dr|=f,h=4;break t}f=on,on=h,f!==null&&(on===null?on=f:on.push.apply(on,f))}h=g}if(f=!1,h!==2)continue}}if(h===1){Ca(e,0),Cs(e,n,0,!0);break}t:{switch(o=e,f=h,f){case 0:case 1:throw Error(r(345));case 4:if((n&4194048)!==n)break;case 6:Cs(o,n,yn,!Ss);break t;case 2:on=null;break;case 3:case 5:break;default:throw Error(r(329))}if((n&62914560)===n&&(h=Ku+300-$e(),10<h)){if(Cs(o,n,yn,!Ss),ti(o,0,!0)!==0)break t;Fi=n,o.timeoutHandle=zy(uy.bind(null,o,s,on,Xu,zf,n,yn,Dr,wa,Ss,f,"Throttled",-0,0),h);break t}uy(o,s,on,Xu,zf,n,yn,Dr,wa,Ss,f,null,-0,0)}}break}while(!0);_i(e)}function uy(e,n,s,o,h,f,g,E,C,P,H,Q,z,q){if(e.timeoutHandle=-1,Q=n.subtreeFlags,Q&8192||(Q&16785408)===16785408){Q={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:zn},ey(n,f,Q);var rt=(f&62914560)===f?Ku-$e():(f&4194048)===f?ry-$e():0;if(rt=K1(Q,rt),rt!==null){Fi=f,e.cancelPendingCommit=rt(yy.bind(null,e,n,f,s,o,h,g,E,C,H,Q,null,z,q)),Cs(e,f,g,!P);return}}yy(e,n,f,s,o,h,g,E,C)}function u1(e){for(var n=e;;){var s=n.tag;if((s===0||s===11||s===15)&&n.flags&16384&&(s=n.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var o=0;o<s.length;o++){var h=s[o],f=h.getSnapshot;h=h.value;try{if(!fn(f(),h))return!1}catch{return!1}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Cs(e,n,s,o){n&=~Pf,n&=~Dr,e.suspendedLanes|=n,e.pingedLanes&=~n,o&&(e.warmLanes|=n),o=e.expirationTimes;for(var h=n;0<h;){var f=31-he(h),g=1<<f;o[f]=-1,h&=~g}s!==0&&rr(e,s,n)}function Zu(){return(jt&6)===0?(el(0),!1):!0}function Hf(){if(wt!==null){if(Ft===0)var e=wt.return;else e=wt,xi=Tr=null,rf(e),ya=null,ko=0,e=wt;for(;e!==null;)jp(e.alternate,e),e=e.return;wt=null}}function Ca(e,n){var s=e.timeoutHandle;s!==-1&&(e.timeoutHandle=-1,N1(s)),s=e.cancelPendingCommit,s!==null&&(e.cancelPendingCommit=null,s()),Fi=0,Hf(),$t=e,wt=s=Mi(e.current,null),Ct=n,Ft=0,pn=null,Ss=!1,ba=Ln(e,n),kf=!1,wa=yn=Pf=Dr=bs=ce=0,on=Wo=null,zf=!1,(n&8)!==0&&(n|=n&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=n;0<o;){var h=31-he(o),f=1<<h;n|=e[h],o&=~f}return Gi=n,yu(),s}function cy(e,n){At=null,G.H=Fo,n===pa||n===wu?(n=Rg(),Ft=3):n===Qh?(n=Rg(),Ft=4):Ft=n===Tf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,pn=n,wt===null&&(ce=1,zu(e,Rn(n,e.current)))}function hy(){var e=mn.current;return e===null?!0:(Ct&4194048)===Ct?Dn===null:(Ct&62914560)===Ct||(Ct&536870912)!==0?e===Dn:!1}function fy(){var e=G.H;return G.H=Fo,e===null?Fo:e}function dy(){var e=G.A;return G.A=o1,e}function Ju(){ce=4,Ss||(Ct&4194048)!==Ct&&mn.current!==null||(ba=!0),(bs&134217727)===0&&(Dr&134217727)===0||$t===null||Cs($t,Ct,yn,!1)}function Gf(e,n,s){var o=jt;jt|=2;var h=fy(),f=dy();($t!==e||Ct!==n)&&(Xu=null,Ca(e,n)),n=!1;var g=ce;t:do try{if(Ft!==0&&wt!==null){var E=wt,C=pn;switch(Ft){case 8:Hf(),g=6;break t;case 3:case 2:case 9:case 6:mn.current===null&&(n=!0);var P=Ft;if(Ft=0,pn=null,Ia(e,E,C,P),s&&ba){g=0;break t}break;default:P=Ft,Ft=0,pn=null,Ia(e,E,C,P)}}c1(),g=ce;break}catch(H){cy(e,H)}while(!0);return n&&e.shellSuspendCounter++,xi=Tr=null,jt=o,G.H=h,G.A=f,wt===null&&($t=null,Ct=0,yu()),g}function c1(){for(;wt!==null;)my(wt)}function h1(e,n){var s=jt;jt|=2;var o=fy(),h=dy();$t!==e||Ct!==n?(Xu=null,Yu=$e()+500,Ca(e,n)):ba=Ln(e,n);t:do try{if(Ft!==0&&wt!==null){n=wt;var f=pn;e:switch(Ft){case 1:Ft=0,pn=null,Ia(e,n,f,1);break;case 2:case 9:if(bg(f)){Ft=0,pn=null,gy(n);break}n=function(){Ft!==2&&Ft!==9||$t!==e||(Ft=7),_i(e)},f.then(n,n);break t;case 3:Ft=7;break t;case 4:Ft=5;break t;case 7:bg(f)?(Ft=0,pn=null,gy(n)):(Ft=0,pn=null,Ia(e,n,f,7));break;case 5:var g=null;switch(wt.tag){case 26:g=wt.memoizedState;case 5:case 27:var E=wt;if(g?t_(g):E.stateNode.complete){Ft=0,pn=null;var C=E.sibling;if(C!==null)wt=C;else{var P=E.return;P!==null?(wt=P,$u(P)):wt=null}break e}}Ft=0,pn=null,Ia(e,n,f,5);break;case 6:Ft=0,pn=null,Ia(e,n,f,6);break;case 8:Hf(),ce=6;break t;default:throw Error(r(462))}}f1();break}catch(H){cy(e,H)}while(!0);return xi=Tr=null,G.H=o,G.A=h,jt=s,wt!==null?0:($t=null,Ct=0,yu(),ce)}function f1(){for(;wt!==null&&!vh();)my(wt)}function my(e){var n=Pp(e.alternate,e,Gi);e.memoizedProps=e.pendingProps,n===null?$u(e):wt=n}function gy(e){var n=e,s=n.alternate;switch(n.tag){case 15:case 0:n=Mp(s,n,n.pendingProps,n.type,void 0,Ct);break;case 11:n=Mp(s,n,n.pendingProps,n.type.render,n.ref,Ct);break;case 5:rf(n);default:jp(s,n),n=wt=dg(n,Gi),n=Pp(s,n,Gi)}e.memoizedProps=e.pendingProps,n===null?$u(e):wt=n}function Ia(e,n,s,o){xi=Tr=null,rf(n),ya=null,ko=0;var h=n.return;try{if(t1(e,h,n,s,Ct)){ce=1,zu(e,Rn(s,e.current)),wt=null;return}}catch(f){if(h!==null)throw wt=h,f;ce=1,zu(e,Rn(s,e.current)),wt=null;return}n.flags&32768?(Vt||o===1?e=!0:ba||(Ct&536870912)!==0?e=!1:(Ss=e=!0,(o===2||o===9||o===3||o===6)&&(o=mn.current,o!==null&&o.tag===13&&(o.flags|=16384))),py(n,e)):$u(n)}function $u(e){var n=e;do{if((n.flags&32768)!==0){py(n,Ss);return}e=n.return;var s=i1(n.alternate,n,Gi);if(s!==null){wt=s;return}if(n=n.sibling,n!==null){wt=n;return}wt=n=e}while(n!==null);ce===0&&(ce=5)}function py(e,n){do{var s=s1(e.alternate,e);if(s!==null){s.flags&=32767,wt=s;return}if(s=e.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!n&&(e=e.sibling,e!==null)){wt=e;return}wt=e=s}while(e!==null);ce=6,wt=null}function yy(e,n,s,o,h,f,g,E,C){e.cancelPendingCommit=null;do Wu();while(De!==0);if((jt&6)!==0)throw Error(r(327));if(n!==null){if(n===e.current)throw Error(r(177));if(f=n.lanes|n.childLanes,f|=Oh,Ah(e,s,f,g,E,C),e===$t&&(wt=$t=null,Ct=0),Ra=n,Rs=e,Fi=s,jf=f,Bf=h,ay=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,p1(is,function(){return Ay(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=G.T,G.T=null,h=tt.p,tt.p=2,g=jt,jt|=4;try{r1(e,n,s)}finally{jt=g,tt.p=h,G.T=o}}De=1,_y(),vy(),Ey()}}function _y(){if(De===1){De=0;var e=Rs,n=Ra,s=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||s){s=G.T,G.T=null;var o=tt.p;tt.p=2;var h=jt;jt|=4;try{$p(n,e);var f=nd,g=sg(e.containerInfo),E=f.focusedElem,C=f.selectionRange;if(g!==E&&E&&E.ownerDocument&&ig(E.ownerDocument.documentElement,E)){if(C!==null&&Rh(E)){var P=C.start,H=C.end;if(H===void 0&&(H=P),"selectionStart"in E)E.selectionStart=P,E.selectionEnd=Math.min(H,E.value.length);else{var Q=E.ownerDocument||document,z=Q&&Q.defaultView||window;if(z.getSelection){var q=z.getSelection(),rt=E.textContent.length,ft=Math.min(C.start,rt),Zt=C.end===void 0?ft:Math.min(C.end,rt);!q.extend&&ft>Zt&&(g=Zt,Zt=ft,ft=g);var V=ng(E,ft),D=ng(E,Zt);if(V&&D&&(q.rangeCount!==1||q.anchorNode!==V.node||q.anchorOffset!==V.offset||q.focusNode!==D.node||q.focusOffset!==D.offset)){var k=Q.createRange();k.setStart(V.node,V.offset),q.removeAllRanges(),ft>Zt?(q.addRange(k),q.extend(D.node,D.offset)):(k.setEnd(D.node,D.offset),q.addRange(k))}}}}for(Q=[],q=E;q=q.parentNode;)q.nodeType===1&&Q.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<Q.length;E++){var F=Q[E];F.element.scrollLeft=F.left,F.element.scrollTop=F.top}}hc=!!ed,nd=ed=null}finally{jt=h,tt.p=o,G.T=s}}e.current=n,De=2}}function vy(){if(De===2){De=0;var e=Rs,n=Ra,s=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||s){s=G.T,G.T=null;var o=tt.p;tt.p=2;var h=jt;jt|=4;try{Kp(e,n.alternate,n)}finally{jt=h,tt.p=o,G.T=s}}De=3}}function Ey(){if(De===4||De===3){De=0,Hl();var e=Rs,n=Ra,s=Fi,o=ay;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?De=5:(De=0,Ra=Rs=null,Ty(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(ws=null),Ii(s),n=n.stateNode,Pe&&typeof Pe.onCommitFiberRoot=="function")try{Pe.onCommitFiberRoot(Un,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=G.T,h=tt.p,tt.p=2,G.T=null;try{for(var f=e.onRecoverableError,g=0;g<o.length;g++){var E=o[g];f(E.value,{componentStack:E.stack})}}finally{G.T=n,tt.p=h}}(Fi&3)!==0&&Wu(),_i(e),h=e.pendingLanes,(s&261930)!==0&&(h&42)!==0?e===qf?tl++:(tl=0,qf=e):tl=0,el(0)}}function Ty(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Uo(n)))}function Wu(){return _y(),vy(),Ey(),Ay()}function Ay(){if(De!==5)return!1;var e=Rs,n=jf;jf=0;var s=Ii(Fi),o=G.T,h=tt.p;try{tt.p=32>s?32:s,G.T=null,s=Bf,Bf=null;var f=Rs,g=Fi;if(De=0,Ra=Rs=null,Fi=0,(jt&6)!==0)throw Error(r(331));var E=jt;if(jt|=4,iy(f.current),ty(f,f.current,g,s),jt=E,el(0,!1),Pe&&typeof Pe.onPostCommitFiberRoot=="function")try{Pe.onPostCommitFiberRoot(Un,f)}catch{}return!0}finally{tt.p=h,G.T=o,Ty(e,n)}}function Sy(e,n,s){n=Rn(s,n),n=Ef(e.stateNode,n,2),e=vs(e,n,2),e!==null&&(sr(e,2),_i(e))}function Qt(e,n,s){if(e.tag===3)Sy(e,e,s);else for(;n!==null;){if(n.tag===3){Sy(n,e,s);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(ws===null||!ws.has(o))){e=Rn(s,e),s=bp(2),o=vs(n,s,2),o!==null&&(wp(s,o,n,e),sr(o,2),_i(o));break}}n=n.return}}function Ff(e,n,s){var o=e.pingCache;if(o===null){o=e.pingCache=new l1;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(s)||(kf=!0,h.add(s),e=d1.bind(null,e,n,s),n.then(e,e))}function d1(e,n,s){var o=e.pingCache;o!==null&&o.delete(n),e.pingedLanes|=e.suspendedLanes&s,e.warmLanes&=~s,$t===e&&(Ct&s)===s&&(ce===4||ce===3&&(Ct&62914560)===Ct&&300>$e()-Ku?(jt&2)===0&&Ca(e,0):Pf|=s,wa===Ct&&(wa=0)),_i(e)}function by(e,n){n===0&&(n=Xl()),e=_r(e,n),e!==null&&(sr(e,n),_i(e))}function m1(e){var n=e.memoizedState,s=0;n!==null&&(s=n.retryLane),by(e,s)}function g1(e,n){var s=0;switch(e.tag){case 31:case 13:var o=e.stateNode,h=e.memoizedState;h!==null&&(s=h.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(r(314))}o!==null&&o.delete(n),by(e,s)}function p1(e,n){return Ne(e,n)}var tc=null,Na=null,Qf=!1,ec=!1,Kf=!1,Is=0;function _i(e){e!==Na&&e.next===null&&(Na===null?tc=Na=e:Na=Na.next=e),ec=!0,Qf||(Qf=!0,_1())}function el(e,n){if(!Kf&&ec){Kf=!0;do for(var s=!1,o=tc;o!==null;){if(e!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var g=o.suspendedLanes,E=o.pingedLanes;f=(1<<31-he(42|e)+1)-1,f&=h&~(g&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(s=!0,Iy(o,f))}else f=Ct,f=ti(o,o===$t?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||Ln(o,f)||(s=!0,Iy(o,f));o=o.next}while(s);Kf=!1}}function y1(){wy()}function wy(){ec=Qf=!1;var e=0;Is!==0&&I1()&&(e=Is);for(var n=$e(),s=null,o=tc;o!==null;){var h=o.next,f=Ry(o,n);f===0?(o.next=null,s===null?tc=h:s.next=h,h===null&&(Na=s)):(s=o,(e!==0||(f&3)!==0)&&(ec=!0)),o=h}De!==0&&De!==5||el(e),Is!==0&&(Is=0)}function Ry(e,n){for(var s=e.suspendedLanes,o=e.pingedLanes,h=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var g=31-he(f),E=1<<g,C=h[g];C===-1?((E&s)===0||(E&o)!==0)&&(h[g]=Th(E,n)):C<=n&&(e.expiredLanes|=E),f&=~E}if(n=$t,s=Ct,s=ti(e,e===n?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,s===0||e===n&&(Ft===2||Ft===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&ns(o),e.callbackNode=null,e.callbackPriority=0;if((s&3)===0||Ln(e,s)){if(n=s&-s,n===e.callbackPriority)return n;switch(o!==null&&ns(o),Ii(s)){case 2:case 8:s=co;break;case 32:s=is;break;case 268435456:s=Gl;break;default:s=is}return o=Cy.bind(null,e),s=Ne(s,o),e.callbackPriority=n,e.callbackNode=s,n}return o!==null&&o!==null&&ns(o),e.callbackPriority=2,e.callbackNode=null,2}function Cy(e,n){if(De!==0&&De!==5)return e.callbackNode=null,e.callbackPriority=0,null;var s=e.callbackNode;if(Wu()&&e.callbackNode!==s)return null;var o=Ct;return o=ti(e,e===$t?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(ly(e,o,n),Ry(e,$e()),e.callbackNode!=null&&e.callbackNode===s?Cy.bind(null,e):null)}function Iy(e,n){if(Wu())return null;ly(e,n,!0)}function _1(){D1(function(){(jt&6)!==0?Ne(uo,y1):wy()})}function Yf(){if(Is===0){var e=ma;e===0&&(e=$n,$n<<=1,($n&261888)===0&&($n=256)),Is=e}return Is}function Ny(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Wr(""+e)}function Dy(e,n){var s=n.ownerDocument.createElement("input");return s.name=n.name,s.value=n.value,e.id&&s.setAttribute("form",e.id),n.parentNode.insertBefore(s,n),e=new FormData(e),s.parentNode.removeChild(s),e}function v1(e,n,s,o,h){if(n==="submit"&&s&&s.stateNode===h){var f=Ny((h[xe]||null).action),g=o.submitter;g&&(n=(n=g[xe]||null)?Ny(n.formAction):g.getAttribute("formAction"),n!==null&&(f=n,g=null));var E=new hi("action","action",null,o,h);e.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Is!==0){var C=g?Dy(h,g):new FormData(h);mf(s,{pending:!0,data:C,method:h.method,action:f},null,C)}}else typeof f=="function"&&(E.preventDefault(),C=g?Dy(h,g):new FormData(h),mf(s,{pending:!0,data:C,method:h.method,action:f},f,C))},currentTarget:h}]})}}for(var Xf=0;Xf<Dh.length;Xf++){var Zf=Dh[Xf],E1=Zf.toLowerCase(),T1=Zf[0].toUpperCase()+Zf.slice(1);Gn(E1,"on"+T1)}Gn(og,"onAnimationEnd"),Gn(lg,"onAnimationIteration"),Gn(ug,"onAnimationStart"),Gn("dblclick","onDoubleClick"),Gn("focusin","onFocus"),Gn("focusout","onBlur"),Gn(kT,"onTransitionRun"),Gn(PT,"onTransitionStart"),Gn(zT,"onTransitionCancel"),Gn(cg,"onTransitionEnd"),oi("onMouseEnter",["mouseout","mouseover"]),oi("onMouseLeave",["mouseout","mouseover"]),oi("onPointerEnter",["pointerout","pointerover"]),oi("onPointerLeave",["pointerout","pointerover"]),ai("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ai("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ai("onBeforeInput",["compositionend","keypress","textInput","paste"]),ai("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ai("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ai("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var nl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),A1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(nl));function Oy(e,n){n=(n&4)!==0;for(var s=0;s<e.length;s++){var o=e[s],h=o.event;o=o.listeners;t:{var f=void 0;if(n)for(var g=o.length-1;0<=g;g--){var E=o[g],C=E.instance,P=E.currentTarget;if(E=E.listener,C!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=P;try{f(h)}catch(H){pu(H)}h.currentTarget=null,f=C}else for(g=0;g<o.length;g++){if(E=o[g],C=E.instance,P=E.currentTarget,E=E.listener,C!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=P;try{f(h)}catch(H){pu(H)}h.currentTarget=null,f=C}}}}function Rt(e,n){var s=n[Yr];s===void 0&&(s=n[Yr]=new Set);var o=e+"__bubble";s.has(o)||(My(n,e,2,!1),s.add(o))}function Jf(e,n,s){var o=0;n&&(o|=4),My(s,e,o,n)}var nc="_reactListening"+Math.random().toString(36).slice(2);function $f(e){if(!e[nc]){e[nc]=!0,mo.forEach(function(s){s!=="selectionchange"&&(A1.has(s)||Jf(s,!1,e),Jf(s,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[nc]||(n[nc]=!0,Jf("selectionchange",!1,n))}}function My(e,n,s,o){switch(o_(n)){case 2:var h=Z1;break;case 8:h=J1;break;default:h=dd}s=h.bind(null,n,s,e),h=void 0,!cr||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?e.addEventListener(n,s,{capture:!0,passive:h}):e.addEventListener(n,s,!0):h!==void 0?e.addEventListener(n,s,{passive:h}):e.addEventListener(n,s,!1)}function Wf(e,n,s,o,h){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)t:for(;;){if(o===null)return;var g=o.tag;if(g===3||g===4){var E=o.stateNode.containerInfo;if(E===h)break;if(g===4)for(g=o.return;g!==null;){var C=g.tag;if((C===3||C===4)&&g.stateNode.containerInfo===h)return;g=g.return}for(;E!==null;){if(g=si(E),g===null)return;if(C=g.tag,C===5||C===6||C===26||C===27){o=f=g;continue t}E=E.parentNode}}o=o.return}us(function(){var P=f,H=An(s),Q=[];t:{var z=hg.get(e);if(z!==void 0){var q=hi,rt=e;switch(e){case"keypress":if(fr(s)===0)break t;case"keydown":case"keyup":q=du;break;case"focusin":rt="focus",q=mr;break;case"focusout":rt="blur",q=mr;break;case"beforeblur":case"afterblur":q=mr;break;case"click":if(s.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=Co;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=su;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=m;break;case og:case lg:case ug:q=au;break;case cg:q=T;break;case"scroll":case"scrollend":q=Ro;break;case"wheel":q=j;break;case"copy":case"cut":case"paste":q=ou;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=Oi;break;case"toggle":case"beforetoggle":q=Tt}var ft=(n&4)!==0,Zt=!ft&&(e==="scroll"||e==="scrollend"),V=ft?z!==null?z+"Capture":null:z;ft=[];for(var D=P,k;D!==null;){var F=D;if(k=F.stateNode,F=F.tag,F!==5&&F!==26&&F!==27||k===null||V===null||(F=jn(D,V),F!=null&&ft.push(il(D,F,k))),Zt)break;D=D.return}0<ft.length&&(z=new q(z,rt,null,s,H),Q.push({event:z,listeners:ft}))}}if((n&7)===0){t:{if(z=e==="mouseover"||e==="pointerover",q=e==="mouseout"||e==="pointerout",z&&s!==So&&(rt=s.relatedTarget||s.fromElement)&&(si(rt)||rt[ni]))break t;if((q||z)&&(z=H.window===H?H:(z=H.ownerDocument)?z.defaultView||z.parentWindow:window,q?(rt=s.relatedTarget||s.toElement,q=P,rt=rt?si(rt):null,rt!==null&&(Zt=c(rt),ft=rt.tag,rt!==Zt||ft!==5&&ft!==27&&ft!==6)&&(rt=null)):(q=null,rt=P),q!==rt)){if(ft=Co,F="onMouseLeave",V="onMouseEnter",D="mouse",(e==="pointerout"||e==="pointerover")&&(ft=Oi,F="onPointerLeave",V="onPointerEnter",D="pointer"),Zt=q==null?z:cn(q),k=rt==null?z:cn(rt),z=new ft(F,D+"leave",q,s,H),z.target=Zt,z.relatedTarget=k,F=null,si(H)===P&&(ft=new ft(V,D+"enter",rt,s,H),ft.target=k,ft.relatedTarget=Zt,F=ft),Zt=F,q&&rt)e:{for(ft=S1,V=q,D=rt,k=0,F=V;F;F=ft(F))k++;F=0;for(var lt=D;lt;lt=ft(lt))F++;for(;0<k-F;)V=ft(V),k--;for(;0<F-k;)D=ft(D),F--;for(;k--;){if(V===D||D!==null&&V===D.alternate){ft=V;break e}V=ft(V),D=ft(D)}ft=null}else ft=null;q!==null&&Vy(Q,z,q,ft,!1),rt!==null&&Zt!==null&&Vy(Q,Zt,rt,ft,!0)}}t:{if(z=P?cn(P):window,q=z.nodeName&&z.nodeName.toLowerCase(),q==="select"||q==="input"&&z.type==="file")var kt=Zm;else if(Ym(z))if(Jm)kt=xT;else{kt=MT;var at=OT}else q=z.nodeName,!q||q.toLowerCase()!=="input"||z.type!=="checkbox"&&z.type!=="radio"?P&&$r(P.elementType)&&(kt=Zm):kt=VT;if(kt&&(kt=kt(e,P))){Xm(Q,kt,s,H);break t}at&&at(e,z,P),e==="focusout"&&P&&z.type==="number"&&P.memoizedProps.value!=null&&Eo(z,"number",z.value)}switch(at=P?cn(P):window,e){case"focusin":(Ym(at)||at.contentEditable==="true")&&(aa=at,Ch=P,Mo=null);break;case"focusout":Mo=Ch=aa=null;break;case"mousedown":Ih=!0;break;case"contextmenu":case"mouseup":case"dragend":Ih=!1,rg(Q,s,H);break;case"selectionchange":if(LT)break;case"keydown":case"keyup":rg(Q,s,H)}var bt;if(zt)t:{switch(e){case"compositionstart":var It="onCompositionStart";break t;case"compositionend":It="onCompositionEnd";break t;case"compositionupdate":It="onCompositionUpdate";break t}It=void 0}else ra?gr(e,s)&&(It="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(It="onCompositionStart");It&&(mi&&s.locale!=="ko"&&(ra||It!=="onCompositionStart"?It==="onCompositionEnd"&&ra&&(bt=wo()):(ci=H,bo="value"in ci?ci.value:ci.textContent,ra=!0)),at=ic(P,It),0<at.length&&(It=new di(It,e,null,s,H),Q.push({event:It,listeners:at}),bt?It.data=bt:(bt=sa(s),bt!==null&&(It.data=bt)))),(bt=bn?CT(e,s):IT(e,s))&&(It=ic(P,"onBeforeInput"),0<It.length&&(at=new di("onBeforeInput","beforeinput",null,s,H),Q.push({event:at,listeners:It}),at.data=bt)),v1(Q,e,P,s,H)}Oy(Q,n)})}function il(e,n,s){return{instance:e,listener:n,currentTarget:s}}function ic(e,n){for(var s=n+"Capture",o=[];e!==null;){var h=e,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=jn(e,s),h!=null&&o.unshift(il(e,h,f)),h=jn(e,n),h!=null&&o.push(il(e,h,f))),e.tag===3)return o;e=e.return}return[]}function S1(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Vy(e,n,s,o,h){for(var f=n._reactName,g=[];s!==null&&s!==o;){var E=s,C=E.alternate,P=E.stateNode;if(E=E.tag,C!==null&&C===o)break;E!==5&&E!==26&&E!==27||P===null||(C=P,h?(P=jn(s,f),P!=null&&g.unshift(il(s,P,C))):h||(P=jn(s,f),P!=null&&g.push(il(s,P,C)))),s=s.return}g.length!==0&&e.push({event:n,listeners:g})}var b1=/\r\n?/g,w1=/\u0000|\uFFFD/g;function xy(e){return(typeof e=="string"?e:""+e).replace(b1,`
`).replace(w1,"")}function Uy(e,n){return n=xy(n),xy(e)===n}function Xt(e,n,s,o,h,f){switch(s){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||nn(e,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&nn(e,""+o);break;case"className":hn(e,"class",o);break;case"tabIndex":hn(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":hn(e,s,o);break;case"style":Ao(e,o,f);break;case"data":if(n!=="object"){hn(e,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||s!=="href")){e.removeAttribute(s);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(s);break}o=Wr(""+o),e.setAttribute(s,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(s==="formAction"?(n!=="input"&&Xt(e,n,"name",h.name,h,null),Xt(e,n,"formEncType",h.formEncType,h,null),Xt(e,n,"formMethod",h.formMethod,h,null),Xt(e,n,"formTarget",h.formTarget,h,null)):(Xt(e,n,"encType",h.encType,h,null),Xt(e,n,"method",h.method,h,null),Xt(e,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(s);break}o=Wr(""+o),e.setAttribute(s,o);break;case"onClick":o!=null&&(e.onclick=zn);break;case"onScroll":o!=null&&Rt("scroll",e);break;case"onScrollEnd":o!=null&&Rt("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(s=o.__html,s!=null){if(h.children!=null)throw Error(r(60));e.innerHTML=s}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}s=Wr(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,""+o):e.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,""):e.removeAttribute(s);break;case"capture":case"download":o===!0?e.setAttribute(s,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,o):e.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(s,o):e.removeAttribute(s);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(s):e.setAttribute(s,o);break;case"popover":Rt("beforetoggle",e),Rt("toggle",e),Zr(e,"popover",o);break;case"xlinkActuate":Ee(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Ee(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Ee(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Ee(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Ee(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Ee(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Ee(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Ee(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Ee(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":Zr(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=iu.get(s)||s,Zr(e,s,o))}}function td(e,n,s,o,h,f){switch(s){case"style":Ao(e,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(s=o.__html,s!=null){if(h.children!=null)throw Error(r(60));e.innerHTML=s}}break;case"children":typeof o=="string"?nn(e,o):(typeof o=="number"||typeof o=="bigint")&&nn(e,""+o);break;case"onScroll":o!=null&&Rt("scroll",e);break;case"onScrollEnd":o!=null&&Rt("scrollend",e);break;case"onClick":o!=null&&(e.onclick=zn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!go.hasOwnProperty(s))t:{if(s[0]==="o"&&s[1]==="n"&&(h=s.endsWith("Capture"),n=s.slice(2,h?s.length-7:void 0),f=e[xe]||null,f=f!=null?f[s]:null,typeof f=="function"&&e.removeEventListener(n,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(s in e?e[s]=null:e.hasAttribute(s)&&e.removeAttribute(s)),e.addEventListener(n,o,h);break t}s in e?e[s]=o:o===!0?e.setAttribute(s,""):Zr(e,s,o)}}}function He(e,n,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Rt("error",e),Rt("load",e);var o=!1,h=!1,f;for(f in s)if(s.hasOwnProperty(f)){var g=s[f];if(g!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:Xt(e,n,f,g,s,null)}}h&&Xt(e,n,"srcSet",s.srcSet,s,null),o&&Xt(e,n,"src",s.src,s,null);return;case"input":Rt("invalid",e);var E=f=g=h=null,C=null,P=null;for(o in s)if(s.hasOwnProperty(o)){var H=s[o];if(H!=null)switch(o){case"name":h=H;break;case"type":g=H;break;case"checked":C=H;break;case"defaultChecked":P=H;break;case"value":f=H;break;case"defaultValue":E=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(r(137,n));break;default:Xt(e,n,o,H,s,null)}}tu(e,f,E,C,P,g,h,!1);return;case"select":Rt("invalid",e),o=g=f=null;for(h in s)if(s.hasOwnProperty(h)&&(E=s[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":g=E;break;case"multiple":o=E;default:Xt(e,n,h,E,s,null)}n=f,s=g,e.multiple=!!o,n!=null?rs(e,!!o,n,!1):s!=null&&rs(e,!!o,s,!0);return;case"textarea":Rt("invalid",e),f=h=o=null;for(g in s)if(s.hasOwnProperty(g)&&(E=s[g],E!=null))switch(g){case"value":o=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(r(91));break;default:Xt(e,n,g,E,s,null)}as(e,o,h,f);return;case"option":for(C in s)if(s.hasOwnProperty(C)&&(o=s[C],o!=null))switch(C){case"selected":e.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:Xt(e,n,C,o,s,null)}return;case"dialog":Rt("beforetoggle",e),Rt("toggle",e),Rt("cancel",e),Rt("close",e);break;case"iframe":case"object":Rt("load",e);break;case"video":case"audio":for(o=0;o<nl.length;o++)Rt(nl[o],e);break;case"image":Rt("error",e),Rt("load",e);break;case"details":Rt("toggle",e);break;case"embed":case"source":case"link":Rt("error",e),Rt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(P in s)if(s.hasOwnProperty(P)&&(o=s[P],o!=null))switch(P){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:Xt(e,n,P,o,s,null)}return;default:if($r(n)){for(H in s)s.hasOwnProperty(H)&&(o=s[H],o!==void 0&&td(e,n,H,o,s,void 0));return}}for(E in s)s.hasOwnProperty(E)&&(o=s[E],o!=null&&Xt(e,n,E,o,s,null))}function R1(e,n,s,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,g=null,E=null,C=null,P=null,H=null;for(q in s){var Q=s[q];if(s.hasOwnProperty(q)&&Q!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":C=Q;default:o.hasOwnProperty(q)||Xt(e,n,q,null,o,Q)}}for(var z in o){var q=o[z];if(Q=s[z],o.hasOwnProperty(z)&&(q!=null||Q!=null))switch(z){case"type":f=q;break;case"name":h=q;break;case"checked":P=q;break;case"defaultChecked":H=q;break;case"value":g=q;break;case"defaultValue":E=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(r(137,n));break;default:q!==Q&&Xt(e,n,z,q,o,Q)}}Jr(e,g,E,C,P,H,f,h);return;case"select":q=g=E=z=null;for(f in s)if(C=s[f],s.hasOwnProperty(f)&&C!=null)switch(f){case"value":break;case"multiple":q=C;default:o.hasOwnProperty(f)||Xt(e,n,f,null,o,C)}for(h in o)if(f=o[h],C=s[h],o.hasOwnProperty(h)&&(f!=null||C!=null))switch(h){case"value":z=f;break;case"defaultValue":E=f;break;case"multiple":g=f;default:f!==C&&Xt(e,n,h,f,o,C)}n=E,s=g,o=q,z!=null?rs(e,!!s,z,!1):!!o!=!!s&&(n!=null?rs(e,!!s,n,!0):rs(e,!!s,s?[]:"",!1));return;case"textarea":q=z=null;for(E in s)if(h=s[E],s.hasOwnProperty(E)&&h!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Xt(e,n,E,null,o,h)}for(g in o)if(h=o[g],f=s[g],o.hasOwnProperty(g)&&(h!=null||f!=null))switch(g){case"value":z=h;break;case"defaultValue":q=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(r(91));break;default:h!==f&&Xt(e,n,g,h,o,f)}eu(e,z,q);return;case"option":for(var rt in s)if(z=s[rt],s.hasOwnProperty(rt)&&z!=null&&!o.hasOwnProperty(rt))switch(rt){case"selected":e.selected=!1;break;default:Xt(e,n,rt,null,o,z)}for(C in o)if(z=o[C],q=s[C],o.hasOwnProperty(C)&&z!==q&&(z!=null||q!=null))switch(C){case"selected":e.selected=z&&typeof z!="function"&&typeof z!="symbol";break;default:Xt(e,n,C,z,o,q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ft in s)z=s[ft],s.hasOwnProperty(ft)&&z!=null&&!o.hasOwnProperty(ft)&&Xt(e,n,ft,null,o,z);for(P in o)if(z=o[P],q=s[P],o.hasOwnProperty(P)&&z!==q&&(z!=null||q!=null))switch(P){case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(r(137,n));break;default:Xt(e,n,P,z,o,q)}return;default:if($r(n)){for(var Zt in s)z=s[Zt],s.hasOwnProperty(Zt)&&z!==void 0&&!o.hasOwnProperty(Zt)&&td(e,n,Zt,void 0,o,z);for(H in o)z=o[H],q=s[H],!o.hasOwnProperty(H)||z===q||z===void 0&&q===void 0||td(e,n,H,z,o,q);return}}for(var V in s)z=s[V],s.hasOwnProperty(V)&&z!=null&&!o.hasOwnProperty(V)&&Xt(e,n,V,null,o,z);for(Q in o)z=o[Q],q=s[Q],!o.hasOwnProperty(Q)||z===q||z==null&&q==null||Xt(e,n,Q,z,o,q)}function Ly(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function C1(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,s=performance.getEntriesByType("resource"),o=0;o<s.length;o++){var h=s[o],f=h.transferSize,g=h.initiatorType,E=h.duration;if(f&&E&&Ly(g)){for(g=0,E=h.responseEnd,o+=1;o<s.length;o++){var C=s[o],P=C.startTime;if(P>E)break;var H=C.transferSize,Q=C.initiatorType;H&&Ly(Q)&&(C=C.responseEnd,g+=H*(C<E?1:(E-P)/(C-P)))}if(--o,n+=8*(f+g)/(h.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var ed=null,nd=null;function sc(e){return e.nodeType===9?e:e.ownerDocument}function ky(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Py(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function id(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var sd=null;function I1(){var e=window.event;return e&&e.type==="popstate"?e===sd?!1:(sd=e,!0):(sd=null,!1)}var zy=typeof setTimeout=="function"?setTimeout:void 0,N1=typeof clearTimeout=="function"?clearTimeout:void 0,jy=typeof Promise=="function"?Promise:void 0,D1=typeof queueMicrotask=="function"?queueMicrotask:typeof jy<"u"?function(e){return jy.resolve(null).then(e).catch(O1)}:zy;function O1(e){setTimeout(function(){throw e})}function Ns(e){return e==="head"}function By(e,n){var s=n,o=0;do{var h=s.nextSibling;if(e.removeChild(s),h&&h.nodeType===8)if(s=h.data,s==="/$"||s==="/&"){if(o===0){e.removeChild(h),Va(n);return}o--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")o++;else if(s==="html")sl(e.ownerDocument.documentElement);else if(s==="head"){s=e.ownerDocument.head,sl(s);for(var f=s.firstChild;f;){var g=f.nextSibling,E=f.nodeName;f[ii]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||s.removeChild(f),f=g}}else s==="body"&&sl(e.ownerDocument.body);s=h}while(s);Va(n)}function qy(e,n){var s=e;e=0;do{var o=s.nextSibling;if(s.nodeType===1?n?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(n?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),o&&o.nodeType===8)if(s=o.data,s==="/$"){if(e===0)break;e--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||e++;s=o}while(s)}function rd(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var s=n;switch(n=n.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":rd(s),Xr(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}e.removeChild(s)}}function M1(e,n,s,o){for(;e.nodeType===1;){var h=s;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[ii])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=On(e.nextSibling),e===null)break}return null}function V1(e,n,s){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!s||(e=On(e.nextSibling),e===null))return null;return e}function Hy(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=On(e.nextSibling),e===null))return null;return e}function ad(e){return e.data==="$?"||e.data==="$~"}function od(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function x1(e,n){var s=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||s.readyState!=="loading")n();else{var o=function(){n(),s.removeEventListener("DOMContentLoaded",o)};s.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function On(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var ld=null;function Gy(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"||s==="/&"){if(n===0)return On(e.nextSibling);n--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||n++}e=e.nextSibling}return null}function Fy(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(n===0)return e;n--}else s!=="/$"&&s!=="/&"||n++}e=e.previousSibling}return null}function Qy(e,n,s){switch(n=sc(s),e){case"html":if(e=n.documentElement,!e)throw Error(r(452));return e;case"head":if(e=n.head,!e)throw Error(r(453));return e;case"body":if(e=n.body,!e)throw Error(r(454));return e;default:throw Error(r(451))}}function sl(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);Xr(e)}var Mn=new Map,Ky=new Set;function rc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Qi=tt.d;tt.d={f:U1,r:L1,D:k1,C:P1,L:z1,m:j1,X:q1,S:B1,M:H1};function U1(){var e=Qi.f(),n=Zu();return e||n}function L1(e){var n=Tn(e);n!==null&&n.tag===5&&n.type==="form"?cp(n):Qi.r(e)}var Da=typeof document>"u"?null:document;function Yy(e,n,s){var o=Da;if(o&&typeof n=="string"&&n){var h=en(n);h='link[rel="'+e+'"][href="'+h+'"]',typeof s=="string"&&(h+='[crossorigin="'+s+'"]'),Ky.has(h)||(Ky.add(h),e={rel:e,crossOrigin:s,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),He(n,"link",e),ve(n),o.head.appendChild(n)))}}function k1(e){Qi.D(e),Yy("dns-prefetch",e,null)}function P1(e,n){Qi.C(e,n),Yy("preconnect",e,n)}function z1(e,n,s){Qi.L(e,n,s);var o=Da;if(o&&e&&n){var h='link[rel="preload"][as="'+en(n)+'"]';n==="image"&&s&&s.imageSrcSet?(h+='[imagesrcset="'+en(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(h+='[imagesizes="'+en(s.imageSizes)+'"]')):h+='[href="'+en(e)+'"]';var f=h;switch(n){case"style":f=Oa(e);break;case"script":f=Ma(e)}Mn.has(f)||(e=b({rel:"preload",href:n==="image"&&s&&s.imageSrcSet?void 0:e,as:n},s),Mn.set(f,e),o.querySelector(h)!==null||n==="style"&&o.querySelector(rl(f))||n==="script"&&o.querySelector(al(f))||(n=o.createElement("link"),He(n,"link",e),ve(n),o.head.appendChild(n)))}}function j1(e,n){Qi.m(e,n);var s=Da;if(s&&e){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+en(o)+'"][href="'+en(e)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Ma(e)}if(!Mn.has(f)&&(e=b({rel:"modulepreload",href:e},n),Mn.set(f,e),s.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(al(f)))return}o=s.createElement("link"),He(o,"link",e),ve(o),s.head.appendChild(o)}}}function B1(e,n,s){Qi.S(e,n,s);var o=Da;if(o&&e){var h=ri(o).hoistableStyles,f=Oa(e);n=n||"default";var g=h.get(f);if(!g){var E={loading:0,preload:null};if(g=o.querySelector(rl(f)))E.loading=5;else{e=b({rel:"stylesheet",href:e,"data-precedence":n},s),(s=Mn.get(f))&&ud(e,s);var C=g=o.createElement("link");ve(C),He(C,"link",e),C._p=new Promise(function(P,H){C.onload=P,C.onerror=H}),C.addEventListener("load",function(){E.loading|=1}),C.addEventListener("error",function(){E.loading|=2}),E.loading|=4,ac(g,n,o)}g={type:"stylesheet",instance:g,count:1,state:E},h.set(f,g)}}}function q1(e,n){Qi.X(e,n);var s=Da;if(s&&e){var o=ri(s).hoistableScripts,h=Ma(e),f=o.get(h);f||(f=s.querySelector(al(h)),f||(e=b({src:e,async:!0},n),(n=Mn.get(h))&&cd(e,n),f=s.createElement("script"),ve(f),He(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function H1(e,n){Qi.M(e,n);var s=Da;if(s&&e){var o=ri(s).hoistableScripts,h=Ma(e),f=o.get(h);f||(f=s.querySelector(al(h)),f||(e=b({src:e,async:!0,type:"module"},n),(n=Mn.get(h))&&cd(e,n),f=s.createElement("script"),ve(f),He(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function Xy(e,n,s,o){var h=(h=St.current)?rc(h):null;if(!h)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(n=Oa(s.href),s=ri(h).hoistableStyles,o=s.get(n),o||(o={type:"style",instance:null,count:0,state:null},s.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){e=Oa(s.href);var f=ri(h).hoistableStyles,g=f.get(e);if(g||(h=h.ownerDocument||h,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,g),(f=h.querySelector(rl(e)))&&!f._p&&(g.instance=f,g.state.loading=5),Mn.has(e)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},Mn.set(e,s),f||G1(h,e,s,g.state))),n&&o===null)throw Error(r(528,""));return g}if(n&&o!==null)throw Error(r(529,""));return null;case"script":return n=s.async,s=s.src,typeof s=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Ma(s),s=ri(h).hoistableScripts,o=s.get(n),o||(o={type:"script",instance:null,count:0,state:null},s.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function Oa(e){return'href="'+en(e)+'"'}function rl(e){return'link[rel="stylesheet"]['+e+"]"}function Zy(e){return b({},e,{"data-precedence":e.precedence,precedence:null})}function G1(e,n,s,o){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=e.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),He(n,"link",s),ve(n),e.head.appendChild(n))}function Ma(e){return'[src="'+en(e)+'"]'}function al(e){return"script[async]"+e}function Jy(e,n,s){if(n.count++,n.instance===null)switch(n.type){case"style":var o=e.querySelector('style[data-href~="'+en(s.href)+'"]');if(o)return n.instance=o,ve(o),o;var h=b({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),ve(o),He(o,"style",h),ac(o,s.precedence,e),n.instance=o;case"stylesheet":h=Oa(s.href);var f=e.querySelector(rl(h));if(f)return n.state.loading|=4,n.instance=f,ve(f),f;o=Zy(s),(h=Mn.get(h))&&ud(o,h),f=(e.ownerDocument||e).createElement("link"),ve(f);var g=f;return g._p=new Promise(function(E,C){g.onload=E,g.onerror=C}),He(f,"link",o),n.state.loading|=4,ac(f,s.precedence,e),n.instance=f;case"script":return f=Ma(s.src),(h=e.querySelector(al(f)))?(n.instance=h,ve(h),h):(o=s,(h=Mn.get(f))&&(o=b({},s),cd(o,h)),e=e.ownerDocument||e,h=e.createElement("script"),ve(h),He(h,"link",o),e.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(r(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,ac(o,s.precedence,e));return n.instance}function ac(e,n,s){for(var o=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,g=0;g<o.length;g++){var E=o[g];if(E.dataset.precedence===n)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=s.nodeType===9?s.head:s,n.insertBefore(e,n.firstChild))}function ud(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function cd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var oc=null;function $y(e,n,s){if(oc===null){var o=new Map,h=oc=new Map;h.set(s,o)}else h=oc,o=h.get(s),o||(o=new Map,h.set(s,o));if(o.has(e))return o;for(o.set(e,null),s=s.getElementsByTagName(e),h=0;h<s.length;h++){var f=s[h];if(!(f[ii]||f[_e]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var g=f.getAttribute(n)||"";g=e+g;var E=o.get(g);E?E.push(f):o.set(g,[f])}}return o}function Wy(e,n,s){e=e.ownerDocument||e,e.head.insertBefore(s,n==="title"?e.querySelector("head > title"):null)}function F1(e,n,s){if(s===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function t_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function Q1(e,n,s,o){if(s.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var h=Oa(o.href),f=n.querySelector(rl(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=lc.bind(e),n.then(e,e)),s.state.loading|=4,s.instance=f,ve(f);return}f=n.ownerDocument||n,o=Zy(o),(h=Mn.get(h))&&ud(o,h),f=f.createElement("link"),ve(f);var g=f;g._p=new Promise(function(E,C){g.onload=E,g.onerror=C}),He(f,"link",o),s.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(s,n),(n=s.state.preload)&&(s.state.loading&3)===0&&(e.count++,s=lc.bind(e),n.addEventListener("load",s),n.addEventListener("error",s))}}var hd=0;function K1(e,n){return e.stylesheets&&e.count===0&&cc(e,e.stylesheets),0<e.count||0<e.imgCount?function(s){var o=setTimeout(function(){if(e.stylesheets&&cc(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+n);0<e.imgBytes&&hd===0&&(hd=62500*C1());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&cc(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>hd?50:800)+n);return e.unsuspend=s,function(){e.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function lc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)cc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var uc=null;function cc(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,uc=new Map,n.forEach(Y1,e),uc=null,lc.call(e))}function Y1(e,n){if(!(n.state.loading&4)){var s=uc.get(e);if(s)var o=s.get(null);else{s=new Map,uc.set(e,s);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var g=h[f];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(s.set(g.dataset.precedence,g),o=g)}o&&s.set(null,o)}h=n.instance,g=h.getAttribute("data-precedence"),f=s.get(g)||o,f===o&&s.set(null,h),s.set(g,h),this.count++,o=lc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),n.state.loading|=4}}var ol={$$typeof:dt,Provider:null,Consumer:null,_currentValue:ut,_currentValue2:ut,_threadCount:0};function X1(e,n,s,o,h,f,g,E,C){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ei(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ei(0),this.hiddenUpdates=ei(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function e_(e,n,s,o,h,f,g,E,C,P,H,Q){return e=new X1(e,n,s,g,C,P,H,Q,E),n=1,f===!0&&(n|=24),f=dn(3,null,null,n),e.current=f,f.stateNode=e,n=Hh(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:s,cache:n},Kh(f),e}function n_(e){return e?(e=ua,e):ua}function i_(e,n,s,o,h,f){h=n_(h),o.context===null?o.context=h:o.pendingContext=h,o=_s(n),o.payload={element:s},f=f===void 0?null:f,f!==null&&(o.callback=f),s=vs(e,o,n),s!==null&&(ln(s,e,n),zo(s,e,n))}function s_(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<n?s:n}}function fd(e,n){s_(e,n),(e=e.alternate)&&s_(e,n)}function r_(e){if(e.tag===13||e.tag===31){var n=_r(e,67108864);n!==null&&ln(n,e,67108864),fd(e,67108864)}}function a_(e){if(e.tag===13||e.tag===31){var n=_n();n=ar(n);var s=_r(e,n);s!==null&&ln(s,e,n),fd(e,n)}}var hc=!0;function Z1(e,n,s,o){var h=G.T;G.T=null;var f=tt.p;try{tt.p=2,dd(e,n,s,o)}finally{tt.p=f,G.T=h}}function J1(e,n,s,o){var h=G.T;G.T=null;var f=tt.p;try{tt.p=8,dd(e,n,s,o)}finally{tt.p=f,G.T=h}}function dd(e,n,s,o){if(hc){var h=md(o);if(h===null)Wf(e,n,o,fc,s),l_(e,o);else if(W1(h,e,n,s,o))o.stopPropagation();else if(l_(e,o),n&4&&-1<$1.indexOf(e)){for(;h!==null;){var f=Tn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var g=Wn(f.pendingLanes);if(g!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;g;){var C=1<<31-he(g);E.entanglements[1]|=C,g&=~C}_i(f),(jt&6)===0&&(Yu=$e()+500,el(0))}}break;case 31:case 13:E=_r(f,2),E!==null&&ln(E,f,2),Zu(),fd(f,2)}if(f=md(o),f===null&&Wf(e,n,o,fc,s),f===h)break;h=f}h!==null&&o.stopPropagation()}else Wf(e,n,o,null,s)}}function md(e){return e=An(e),gd(e)}var fc=null;function gd(e){if(fc=null,e=si(e),e!==null){var n=c(e);if(n===null)e=null;else{var s=n.tag;if(s===13){if(e=d(n),e!==null)return e;e=null}else if(s===31){if(e=p(n),e!==null)return e;e=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return fc=e,null}function o_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(nr()){case uo:return 2;case co:return 8;case is:case Eh:return 32;case Gl:return 268435456;default:return 32}default:return 32}}var pd=!1,Ds=null,Os=null,Ms=null,ll=new Map,ul=new Map,Vs=[],$1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function l_(e,n){switch(e){case"focusin":case"focusout":Ds=null;break;case"dragenter":case"dragleave":Os=null;break;case"mouseover":case"mouseout":Ms=null;break;case"pointerover":case"pointerout":ll.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":ul.delete(n.pointerId)}}function cl(e,n,s,o,h,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:s,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},n!==null&&(n=Tn(n),n!==null&&r_(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function W1(e,n,s,o,h){switch(n){case"focusin":return Ds=cl(Ds,e,n,s,o,h),!0;case"dragenter":return Os=cl(Os,e,n,s,o,h),!0;case"mouseover":return Ms=cl(Ms,e,n,s,o,h),!0;case"pointerover":var f=h.pointerId;return ll.set(f,cl(ll.get(f)||null,e,n,s,o,h)),!0;case"gotpointercapture":return f=h.pointerId,ul.set(f,cl(ul.get(f)||null,e,n,s,o,h)),!0}return!1}function u_(e){var n=si(e.target);if(n!==null){var s=c(n);if(s!==null){if(n=s.tag,n===13){if(n=d(s),n!==null){e.blockedOn=n,kn(e.priority,function(){a_(s)});return}}else if(n===31){if(n=p(s),n!==null){e.blockedOn=n,kn(e.priority,function(){a_(s)});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function dc(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var s=md(e.nativeEvent);if(s===null){s=e.nativeEvent;var o=new s.constructor(s.type,s);So=o,s.target.dispatchEvent(o),So=null}else return n=Tn(s),n!==null&&r_(n),e.blockedOn=s,!1;n.shift()}return!0}function c_(e,n,s){dc(e)&&s.delete(n)}function tA(){pd=!1,Ds!==null&&dc(Ds)&&(Ds=null),Os!==null&&dc(Os)&&(Os=null),Ms!==null&&dc(Ms)&&(Ms=null),ll.forEach(c_),ul.forEach(c_)}function mc(e,n){e.blockedOn===n&&(e.blockedOn=null,pd||(pd=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,tA)))}var gc=null;function h_(e){gc!==e&&(gc=e,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){gc===e&&(gc=null);for(var n=0;n<e.length;n+=3){var s=e[n],o=e[n+1],h=e[n+2];if(typeof o!="function"){if(gd(o||s)===null)continue;break}var f=Tn(s);f!==null&&(e.splice(n,3),n-=3,mf(f,{pending:!0,data:h,method:s.method,action:o},o,h))}}))}function Va(e){function n(C){return mc(C,e)}Ds!==null&&mc(Ds,e),Os!==null&&mc(Os,e),Ms!==null&&mc(Ms,e),ll.forEach(n),ul.forEach(n);for(var s=0;s<Vs.length;s++){var o=Vs[s];o.blockedOn===e&&(o.blockedOn=null)}for(;0<Vs.length&&(s=Vs[0],s.blockedOn===null);)u_(s),s.blockedOn===null&&Vs.shift();if(s=(e.ownerDocument||e).$$reactFormReplay,s!=null)for(o=0;o<s.length;o+=3){var h=s[o],f=s[o+1],g=h[xe]||null;if(typeof f=="function")g||h_(s);else if(g){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,g=f[xe]||null)E=g.formAction;else if(gd(h)!==null)continue}else E=g.action;typeof E=="function"?s[o+1]=E:(s.splice(o,3),o-=3),h_(s)}}}function f_(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(g){return h=g})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),o||setTimeout(s,20)}function s(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(s,100),function(){o=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function yd(e){this._internalRoot=e}pc.prototype.render=yd.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(r(409));var s=n.current,o=_n();i_(s,o,e,n,null,null)},pc.prototype.unmount=yd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;i_(e.current,2,null,e,null,null),Zu(),n[ni]=null}};function pc(e){this._internalRoot=e}pc.prototype.unstable_scheduleHydration=function(e){if(e){var n=Zl();e={blockedOn:null,target:e,priority:n};for(var s=0;s<Vs.length&&n!==0&&n<Vs[s].priority;s++);Vs.splice(s,0,e),s===0&&u_(e)}};var d_=t.version;if(d_!=="19.2.3")throw Error(r(527,d_,"19.2.3"));tt.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=y(n),e=e!==null?A(e):null,e=e===null?null:e.stateNode,e};var eA={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var yc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!yc.isDisabled&&yc.supportsFiber)try{Un=yc.inject(eA),Pe=yc}catch{}}return fl.createRoot=function(e,n){if(!l(e))throw Error(r(299));var s=!1,o="",h=Ep,f=Tp,g=Ap;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError)),n=e_(e,1,!1,null,null,s,o,null,h,f,g,f_),e[ni]=n.current,$f(e),new yd(n)},fl.hydrateRoot=function(e,n,s){if(!l(e))throw Error(r(299));var o=!1,h="",f=Ep,g=Tp,E=Ap,C=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(g=s.onCaughtError),s.onRecoverableError!==void 0&&(E=s.onRecoverableError),s.formState!==void 0&&(C=s.formState)),n=e_(e,1,!0,n,s??null,o,h,C,f,g,E,f_),n.context=n_(null),s=n.current,o=_n(),o=ar(o),h=_s(o),h.callback=null,vs(s,h,o),s=o,n.current.lanes=s,sr(n,s),_i(n),e[ni]=n.current,$f(e),new pc(n)},fl.version="19.2.3",fl}var S_;function hA(){if(S_)return Ed.exports;S_=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(t){console.error(t)}}return a(),Ed.exports=cA(),Ed.exports}var fA=hA();const dA=()=>{};var b_={};const s0=function(a){const t=[];let i=0;for(let r=0;r<a.length;r++){let l=a.charCodeAt(r);l<128?t[i++]=l:l<2048?(t[i++]=l>>6|192,t[i++]=l&63|128):(l&64512)===55296&&r+1<a.length&&(a.charCodeAt(r+1)&64512)===56320?(l=65536+((l&1023)<<10)+(a.charCodeAt(++r)&1023),t[i++]=l>>18|240,t[i++]=l>>12&63|128,t[i++]=l>>6&63|128,t[i++]=l&63|128):(t[i++]=l>>12|224,t[i++]=l>>6&63|128,t[i++]=l&63|128)}return t},mA=function(a){const t=[];let i=0,r=0;for(;i<a.length;){const l=a[i++];if(l<128)t[r++]=String.fromCharCode(l);else if(l>191&&l<224){const c=a[i++];t[r++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=a[i++],d=a[i++],p=a[i++],_=((l&7)<<18|(c&63)<<12|(d&63)<<6|p&63)-65536;t[r++]=String.fromCharCode(55296+(_>>10)),t[r++]=String.fromCharCode(56320+(_&1023))}else{const c=a[i++],d=a[i++];t[r++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return t.join("")},r0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(a,t){if(!Array.isArray(a))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let l=0;l<a.length;l+=3){const c=a[l],d=l+1<a.length,p=d?a[l+1]:0,_=l+2<a.length,y=_?a[l+2]:0,A=c>>2,b=(c&3)<<4|p>>4;let U=(p&15)<<2|y>>6,K=y&63;_||(K=64,d||(U=64)),r.push(i[A],i[b],i[U],i[K])}return r.join("")},encodeString(a,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(a):this.encodeByteArray(s0(a),t)},decodeString(a,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(a):mA(this.decodeStringToByteArray(a,t))},decodeStringToByteArray(a,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let l=0;l<a.length;){const c=i[a.charAt(l++)],p=l<a.length?i[a.charAt(l)]:0;++l;const y=l<a.length?i[a.charAt(l)]:64;++l;const b=l<a.length?i[a.charAt(l)]:64;if(++l,c==null||p==null||y==null||b==null)throw new gA;const U=c<<2|p>>4;if(r.push(U),y!==64){const K=p<<4&240|y>>2;if(r.push(K),b!==64){const W=y<<6&192|b;r.push(W)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let a=0;a<this.ENCODED_VALS.length;a++)this.byteToCharMap_[a]=this.ENCODED_VALS.charAt(a),this.charToByteMap_[this.byteToCharMap_[a]]=a,this.byteToCharMapWebSafe_[a]=this.ENCODED_VALS_WEBSAFE.charAt(a),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[a]]=a,a>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(a)]=a,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(a)]=a)}}};class gA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const pA=function(a){const t=s0(a);return r0.encodeByteArray(t,!0)},xc=function(a){return pA(a).replace(/\./g,"")},a0=function(a){try{return r0.decodeString(a,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function yA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const _A=()=>yA().__FIREBASE_DEFAULTS__,vA=()=>{if(typeof process>"u"||typeof b_>"u")return;const a=b_.__FIREBASE_DEFAULTS__;if(a)return JSON.parse(a)},EA=()=>{if(typeof document>"u")return;let a;try{a=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=a&&a0(a[1]);return t&&JSON.parse(t)},th=()=>{try{return dA()||_A()||vA()||EA()}catch(a){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${a}`);return}},o0=a=>th()?.emulatorHosts?.[a],TA=a=>{const t=o0(a);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),r]:[t.substring(0,i),r]},l0=()=>th()?.config,u0=a=>th()?.[`_${a}`];class AA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,r)=>{i?this.reject(i):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,r))}}}function Wa(a){try{return(a.startsWith("http://")||a.startsWith("https://")?new URL(a).hostname:a).endsWith(".cloudworkstations.dev")}catch{return!1}}async function c0(a){return(await fetch(a,{credentials:"include"})).ok}function SA(a,t){if(a.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},r=t||"demo-project",l=a.iat||0,c=a.sub||a.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${r}`,aud:r,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...a};return[xc(JSON.stringify(i)),xc(JSON.stringify(d)),""].join(".")}const _l={};function bA(){const a={prod:[],emulator:[]};for(const t of Object.keys(_l))_l[t]?a.emulator.push(t):a.prod.push(t);return a}function wA(a){let t=document.getElementById(a),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",a),i=!0),{created:i,element:t}}let w_=!1;function h0(a,t){if(typeof window>"u"||typeof document>"u"||!Wa(window.location.host)||_l[a]===t||_l[a]||w_)return;_l[a]=t;function i(U){return`__firebase__banner__${U}`}const r="__firebase__banner",c=bA().prod.length>0;function d(){const U=document.getElementById(r);U&&U.remove()}function p(U){U.style.display="flex",U.style.background="#7faaf0",U.style.position="fixed",U.style.bottom="5px",U.style.left="5px",U.style.padding=".5em",U.style.borderRadius="5px",U.style.alignItems="center"}function _(U,K){U.setAttribute("width","24"),U.setAttribute("id",K),U.setAttribute("height","24"),U.setAttribute("viewBox","0 0 24 24"),U.setAttribute("fill","none"),U.style.marginLeft="-6px"}function y(){const U=document.createElement("span");return U.style.cursor="pointer",U.style.marginLeft="16px",U.style.fontSize="24px",U.innerHTML=" &times;",U.onclick=()=>{w_=!0,d()},U}function A(U,K){U.setAttribute("id",K),U.innerText="Learn more",U.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",U.setAttribute("target","__blank"),U.style.paddingLeft="5px",U.style.textDecoration="underline"}function b(){const U=wA(r),K=i("text"),W=document.getElementById(K)||document.createElement("span"),nt=i("learnmore"),J=document.getElementById(nt)||document.createElement("a"),ht=i("preprendIcon"),gt=document.getElementById(ht)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(U.created){const dt=U.element;p(dt),A(J,nt);const Bt=y();_(gt,ht),dt.append(gt,W,J,Bt),document.body.appendChild(dt)}c?(W.innerText="Preview backend disconnected.",gt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(gt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,W.innerText="Preview backend running in this workspace."),W.setAttribute("id",K)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}function Je(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function RA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Je())}function CA(){const a=th()?.forceEnvironment;if(a==="node")return!0;if(a==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function IA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function NA(){const a=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof a=="object"&&a.id!==void 0}function DA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function OA(){const a=Je();return a.indexOf("MSIE ")>=0||a.indexOf("Trident/")>=0}function MA(){return!CA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function VA(){try{return typeof indexedDB=="object"}catch{return!1}}function xA(){return new Promise((a,t)=>{try{let i=!0;const r="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(r);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(r),a(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{t(l.error?.message||"")}}catch(i){t(i)}})}const UA="FirebaseError";class es extends Error{constructor(t,i,r){super(i),this.code=t,this.customData=r,this.name=UA,Object.setPrototypeOf(this,es.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Vl.prototype.create)}}class Vl{constructor(t,i,r){this.service=t,this.serviceName=i,this.errors=r}create(t,...i){const r=i[0]||{},l=`${this.service}/${t}`,c=this.errors[t],d=c?LA(c,r):"Error",p=`${this.serviceName}: ${d} (${l}).`;return new es(l,p,r)}}function LA(a,t){return a.replace(kA,(i,r)=>{const l=t[r];return l!=null?String(l):`<${r}?>`})}const kA=/\{\$([^}]+)}/g;function PA(a){for(const t in a)if(Object.prototype.hasOwnProperty.call(a,t))return!1;return!0}function Ur(a,t){if(a===t)return!0;const i=Object.keys(a),r=Object.keys(t);for(const l of i){if(!r.includes(l))return!1;const c=a[l],d=t[l];if(R_(c)&&R_(d)){if(!Ur(c,d))return!1}else if(c!==d)return!1}for(const l of r)if(!i.includes(l))return!1;return!0}function R_(a){return a!==null&&typeof a=="object"}function xl(a){const t=[];for(const[i,r]of Object.entries(a))Array.isArray(r)?r.forEach(l=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function zA(a,t){const i=new jA(a,t);return i.subscribe.bind(i)}class jA{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,r){let l;if(t===void 0&&i===void 0&&r===void 0)throw new Error("Missing Observer.");BA(t,["next","error","complete"])?l=t:l={next:t,error:i,complete:r},l.next===void 0&&(l.next=bd),l.error===void 0&&(l.error=bd),l.complete===void 0&&(l.complete=bd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function BA(a,t){if(typeof a!="object"||a===null)return!1;for(const i of t)if(i in a&&typeof a[i]=="function")return!0;return!1}function bd(){}function vn(a){return a&&a._delegate?a._delegate:a}class Lr{constructor(t,i,r){this.name=t,this.instanceFactory=i,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const Or="[DEFAULT]";class qA{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const r=new AA;if(this.instancesDeferred.set(i,r),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&r.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t?.identifier),r=t?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(r)return null;throw l}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(GA(t))try{this.getOrInitializeService({instanceIdentifier:Or})}catch{}for(const[i,r]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:l});r.resolve(c)}catch{}}}}clearInstance(t=Or){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Or){return this.instances.has(t)}getOptions(t=Or){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:r,options:i});for(const[c,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(c);r===p&&d.resolve(l)}return l}onInit(t,i){const r=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(r)??new Set;l.add(t),this.onInitCallbacks.set(r,l);const c=this.instances.get(r);return c&&t(c,r),()=>{l.delete(t)}}invokeOnInitCallbacks(t,i){const r=this.onInitCallbacks.get(i);if(r)for(const l of r)try{l(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:HA(t),options:i}),this.instances.set(t,r),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=Or){return this.component?this.component.multipleInstances?t:Or:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function HA(a){return a===Or?void 0:a}function GA(a){return a.instantiationMode==="EAGER"}class FA{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new qA(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}var Nt;(function(a){a[a.DEBUG=0]="DEBUG",a[a.VERBOSE=1]="VERBOSE",a[a.INFO=2]="INFO",a[a.WARN=3]="WARN",a[a.ERROR=4]="ERROR",a[a.SILENT=5]="SILENT"})(Nt||(Nt={}));const QA={debug:Nt.DEBUG,verbose:Nt.VERBOSE,info:Nt.INFO,warn:Nt.WARN,error:Nt.ERROR,silent:Nt.SILENT},KA=Nt.INFO,YA={[Nt.DEBUG]:"log",[Nt.VERBOSE]:"log",[Nt.INFO]:"info",[Nt.WARN]:"warn",[Nt.ERROR]:"error"},XA=(a,t,...i)=>{if(t<a.logLevel)return;const r=new Date().toISOString(),l=YA[t];if(l)console[l](`[${r}]  ${a.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class lm{constructor(t){this.name=t,this._logLevel=KA,this._logHandler=XA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Nt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?QA[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Nt.DEBUG,...t),this._logHandler(this,Nt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Nt.VERBOSE,...t),this._logHandler(this,Nt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Nt.INFO,...t),this._logHandler(this,Nt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Nt.WARN,...t),this._logHandler(this,Nt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Nt.ERROR,...t),this._logHandler(this,Nt.ERROR,...t)}}const ZA=(a,t)=>t.some(i=>a instanceof i);let C_,I_;function JA(){return C_||(C_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function $A(){return I_||(I_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const f0=new WeakMap,kd=new WeakMap,d0=new WeakMap,wd=new WeakMap,um=new WeakMap;function WA(a){const t=new Promise((i,r)=>{const l=()=>{a.removeEventListener("success",c),a.removeEventListener("error",d)},c=()=>{i(Bs(a.result)),l()},d=()=>{r(a.error),l()};a.addEventListener("success",c),a.addEventListener("error",d)});return t.then(i=>{i instanceof IDBCursor&&f0.set(i,a)}).catch(()=>{}),um.set(t,a),t}function tS(a){if(kd.has(a))return;const t=new Promise((i,r)=>{const l=()=>{a.removeEventListener("complete",c),a.removeEventListener("error",d),a.removeEventListener("abort",d)},c=()=>{i(),l()},d=()=>{r(a.error||new DOMException("AbortError","AbortError")),l()};a.addEventListener("complete",c),a.addEventListener("error",d),a.addEventListener("abort",d)});kd.set(a,t)}let Pd={get(a,t,i){if(a instanceof IDBTransaction){if(t==="done")return kd.get(a);if(t==="objectStoreNames")return a.objectStoreNames||d0.get(a);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Bs(a[t])},set(a,t,i){return a[t]=i,!0},has(a,t){return a instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in a}};function eS(a){Pd=a(Pd)}function nS(a){return a===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const r=a.call(Rd(this),t,...i);return d0.set(r,t.sort?t.sort():[t]),Bs(r)}:$A().includes(a)?function(...t){return a.apply(Rd(this),t),Bs(f0.get(this))}:function(...t){return Bs(a.apply(Rd(this),t))}}function iS(a){return typeof a=="function"?nS(a):(a instanceof IDBTransaction&&tS(a),ZA(a,JA())?new Proxy(a,Pd):a)}function Bs(a){if(a instanceof IDBRequest)return WA(a);if(wd.has(a))return wd.get(a);const t=iS(a);return t!==a&&(wd.set(a,t),um.set(t,a)),t}const Rd=a=>um.get(a);function sS(a,t,{blocked:i,upgrade:r,blocking:l,terminated:c}={}){const d=indexedDB.open(a,t),p=Bs(d);return r&&d.addEventListener("upgradeneeded",_=>{r(Bs(d.result),_.oldVersion,_.newVersion,Bs(d.transaction),_)}),i&&d.addEventListener("blocked",_=>i(_.oldVersion,_.newVersion,_)),p.then(_=>{c&&_.addEventListener("close",()=>c()),l&&_.addEventListener("versionchange",y=>l(y.oldVersion,y.newVersion,y))}).catch(()=>{}),p}const rS=["get","getKey","getAll","getAllKeys","count"],aS=["put","add","delete","clear"],Cd=new Map;function N_(a,t){if(!(a instanceof IDBDatabase&&!(t in a)&&typeof t=="string"))return;if(Cd.get(t))return Cd.get(t);const i=t.replace(/FromIndex$/,""),r=t!==i,l=aS.includes(i);if(!(i in(r?IDBIndex:IDBObjectStore).prototype)||!(l||rS.includes(i)))return;const c=async function(d,...p){const _=this.transaction(d,l?"readwrite":"readonly");let y=_.store;return r&&(y=y.index(p.shift())),(await Promise.all([y[i](...p),l&&_.done]))[0]};return Cd.set(t,c),c}eS(a=>({...a,get:(t,i,r)=>N_(t,i)||a.get(t,i,r),has:(t,i)=>!!N_(t,i)||a.has(t,i)}));class oS{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(lS(i)){const r=i.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(i=>i).join(" ")}}function lS(a){return a.getComponent()?.type==="VERSION"}const zd="@firebase/app",D_="0.14.6";const Zi=new lm("@firebase/app"),uS="@firebase/app-compat",cS="@firebase/analytics-compat",hS="@firebase/analytics",fS="@firebase/app-check-compat",dS="@firebase/app-check",mS="@firebase/auth",gS="@firebase/auth-compat",pS="@firebase/database",yS="@firebase/data-connect",_S="@firebase/database-compat",vS="@firebase/functions",ES="@firebase/functions-compat",TS="@firebase/installations",AS="@firebase/installations-compat",SS="@firebase/messaging",bS="@firebase/messaging-compat",wS="@firebase/performance",RS="@firebase/performance-compat",CS="@firebase/remote-config",IS="@firebase/remote-config-compat",NS="@firebase/storage",DS="@firebase/storage-compat",OS="@firebase/firestore",MS="@firebase/ai",VS="@firebase/firestore-compat",xS="firebase",US="12.6.0";const jd="[DEFAULT]",LS={[zd]:"fire-core",[uS]:"fire-core-compat",[hS]:"fire-analytics",[cS]:"fire-analytics-compat",[dS]:"fire-app-check",[fS]:"fire-app-check-compat",[mS]:"fire-auth",[gS]:"fire-auth-compat",[pS]:"fire-rtdb",[yS]:"fire-data-connect",[_S]:"fire-rtdb-compat",[vS]:"fire-fn",[ES]:"fire-fn-compat",[TS]:"fire-iid",[AS]:"fire-iid-compat",[SS]:"fire-fcm",[bS]:"fire-fcm-compat",[wS]:"fire-perf",[RS]:"fire-perf-compat",[CS]:"fire-rc",[IS]:"fire-rc-compat",[NS]:"fire-gcs",[DS]:"fire-gcs-compat",[OS]:"fire-fst",[VS]:"fire-fst-compat",[MS]:"fire-vertex","fire-js":"fire-js",[xS]:"fire-js-all"};const Uc=new Map,kS=new Map,Bd=new Map;function O_(a,t){try{a.container.addComponent(t)}catch(i){Zi.debug(`Component ${t.name} failed to register with FirebaseApp ${a.name}`,i)}}function Qa(a){const t=a.name;if(Bd.has(t))return Zi.debug(`There were multiple attempts to register component ${t}.`),!1;Bd.set(t,a);for(const i of Uc.values())O_(i,a);for(const i of kS.values())O_(i,a);return!0}function cm(a,t){const i=a.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),a.container.getProvider(t)}function Kn(a){return a==null?!1:a.settings!==void 0}const PS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},qs=new Vl("app","Firebase",PS);class zS{constructor(t,i,r){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Lr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw qs.create("app-deleted",{appName:this._name})}}const to=US;function m0(a,t={}){let i=a;typeof t!="object"&&(t={name:t});const r={name:jd,automaticDataCollectionEnabled:!0,...t},l=r.name;if(typeof l!="string"||!l)throw qs.create("bad-app-name",{appName:String(l)});if(i||(i=l0()),!i)throw qs.create("no-options");const c=Uc.get(l);if(c){if(Ur(i,c.options)&&Ur(r,c.config))return c;throw qs.create("duplicate-app",{appName:l})}const d=new FA(l);for(const _ of Bd.values())d.addComponent(_);const p=new zS(i,r,d);return Uc.set(l,p),p}function g0(a=jd){const t=Uc.get(a);if(!t&&a===jd&&l0())return m0();if(!t)throw qs.create("no-app",{appName:a});return t}function Hs(a,t,i){let r=LS[a]??a;i&&(r+=`-${i}`);const l=r.match(/\s|\//),c=t.match(/\s|\//);if(l||c){const d=[`Unable to register library "${r}" with version "${t}":`];l&&d.push(`library name "${r}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Zi.warn(d.join(" "));return}Qa(new Lr(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}const jS="firebase-heartbeat-database",BS=1,bl="firebase-heartbeat-store";let Id=null;function p0(){return Id||(Id=sS(jS,BS,{upgrade:(a,t)=>{switch(t){case 0:try{a.createObjectStore(bl)}catch(i){console.warn(i)}}}}).catch(a=>{throw qs.create("idb-open",{originalErrorMessage:a.message})})),Id}async function qS(a){try{const i=(await p0()).transaction(bl),r=await i.objectStore(bl).get(y0(a));return await i.done,r}catch(t){if(t instanceof es)Zi.warn(t.message);else{const i=qs.create("idb-get",{originalErrorMessage:t?.message});Zi.warn(i.message)}}}async function M_(a,t){try{const r=(await p0()).transaction(bl,"readwrite");await r.objectStore(bl).put(t,y0(a)),await r.done}catch(i){if(i instanceof es)Zi.warn(i.message);else{const r=qs.create("idb-set",{originalErrorMessage:i?.message});Zi.warn(r.message)}}}function y0(a){return`${a.name}!${a.options.appId}`}const HS=1024,GS=30;class FS{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new KS(i),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=V_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(l=>l.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:i}),this._heartbeatsCache.heartbeats.length>GS){const l=YS(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){Zi.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=V_(),{heartbeatsToSend:i,unsentEntries:r}=QS(this._heartbeatsCache.heartbeats),l=xc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return Zi.warn(t),""}}}function V_(){return new Date().toISOString().substring(0,10)}function QS(a,t=HS){const i=[];let r=a.slice();for(const l of a){const c=i.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),x_(i)>t){c.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),x_(i)>t){i.pop();break}r=r.slice(1)}return{heartbeatsToSend:i,unsentEntries:r}}class KS{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return VA()?xA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await qS(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return M_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return M_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return}}function x_(a){return xc(JSON.stringify({version:2,heartbeats:a})).length}function YS(a){if(a.length===0)return-1;let t=0,i=a[0].date;for(let r=1;r<a.length;r++)a[r].date<i&&(i=a[r].date,t=r);return t}function XS(a){Qa(new Lr("platform-logger",t=>new oS(t),"PRIVATE")),Qa(new Lr("heartbeat",t=>new FS(t),"PRIVATE")),Hs(zd,D_,a),Hs(zd,D_,"esm2020"),Hs("fire-js","")}XS("");var ZS="firebase",JS="12.6.0";Hs(ZS,JS,"app");function _0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const $S=_0,v0=new Vl("auth","Firebase",_0());const Lc=new lm("@firebase/auth");function WS(a,...t){Lc.logLevel<=Nt.WARN&&Lc.warn(`Auth (${to}): ${a}`,...t)}function bc(a,...t){Lc.logLevel<=Nt.ERROR&&Lc.error(`Auth (${to}): ${a}`,...t)}function Ji(a,...t){throw hm(a,...t)}function Ei(a,...t){return hm(a,...t)}function E0(a,t,i){const r={...$S(),[t]:i};return new Vl("auth","Firebase",r).create(t,{appName:a.name})}function Gs(a){return E0(a,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function hm(a,...t){if(typeof a!="string"){const i=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=a.name),a._errorFactory.create(i,...r)}return v0.create(a,...t)}function pt(a,t,...i){if(!a)throw hm(t,...i)}function Ki(a){const t="INTERNAL ASSERTION FAILED: "+a;throw bc(t),new Error(t)}function $i(a,t){a||Ki(t)}function qd(){return typeof self<"u"&&self.location?.href||""}function tb(){return U_()==="http:"||U_()==="https:"}function U_(){return typeof self<"u"&&self.location?.protocol||null}function eb(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(tb()||NA()||"connection"in navigator)?navigator.onLine:!0}function nb(){if(typeof navigator>"u")return null;const a=navigator;return a.languages&&a.languages[0]||a.language||null}class Ul{constructor(t,i){this.shortDelay=t,this.longDelay=i,$i(i>t,"Short delay should be less than long delay!"),this.isMobile=RA()||DA()}get(){return eb()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function fm(a,t){$i(a.emulator,"Emulator should always be set here");const{url:i}=a.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}class T0{static initialize(t,i,r){this.fetchImpl=t,i&&(this.headersImpl=i),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ki("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ki("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ki("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const ib={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const sb=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],rb=new Ul(3e4,6e4);function eh(a,t){return a.tenantId&&!t.tenantId?{...t,tenantId:a.tenantId}:t}async function eo(a,t,i,r,l={}){return A0(a,l,async()=>{let c={},d={};r&&(t==="GET"?d=r:c={body:JSON.stringify(r)});const p=xl({key:a.config.apiKey,...d}).slice(1),_=await a._getAdditionalHeaders();_["Content-Type"]="application/json",a.languageCode&&(_["X-Firebase-Locale"]=a.languageCode);const y={method:t,headers:_,...c};return IA()||(y.referrerPolicy="no-referrer"),a.emulatorConfig&&Wa(a.emulatorConfig.host)&&(y.credentials="include"),T0.fetch()(await b0(a,a.config.apiHost,i,p),y)})}async function A0(a,t,i){a._canInitEmulator=!1;const r={...ib,...t};try{const l=new ab(a),c=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw _c(a,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const p=c.ok?d.errorMessage:d.error.message,[_,y]=p.split(" : ");if(_==="FEDERATED_USER_ID_ALREADY_LINKED")throw _c(a,"credential-already-in-use",d);if(_==="EMAIL_EXISTS")throw _c(a,"email-already-in-use",d);if(_==="USER_DISABLED")throw _c(a,"user-disabled",d);const A=r[_]||_.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw E0(a,A,y);Ji(a,A)}}catch(l){if(l instanceof es)throw l;Ji(a,"network-request-failed",{message:String(l)})}}async function S0(a,t,i,r,l={}){const c=await eo(a,t,i,r,l);return"mfaPendingCredential"in c&&Ji(a,"multi-factor-auth-required",{_serverResponse:c}),c}async function b0(a,t,i,r){const l=`${t}${i}?${r}`,c=a,d=c.config.emulator?fm(a.config,l):`${a.config.apiScheme}://${l}`;return sb.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}class ab{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,r)=>{this.timer=setTimeout(()=>r(Ei(this.auth,"network-request-failed")),rb.get())})}}function _c(a,t,i){const r={appName:a.name};i.email&&(r.email=i.email),i.phoneNumber&&(r.phoneNumber=i.phoneNumber);const l=Ei(a,t,r);return l.customData._tokenResponse=i,l}async function ob(a,t){return eo(a,"POST","/v1/accounts:delete",t)}async function kc(a,t){return eo(a,"POST","/v1/accounts:lookup",t)}function vl(a){if(a)try{const t=new Date(Number(a));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function lb(a,t=!1){const i=vn(a),r=await i.getIdToken(t),l=dm(r);pt(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c?.sign_in_provider;return{claims:l,token:r,authTime:vl(Nd(l.auth_time)),issuedAtTime:vl(Nd(l.iat)),expirationTime:vl(Nd(l.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Nd(a){return Number(a)*1e3}function dm(a){const[t,i,r]=a.split(".");if(t===void 0||i===void 0||r===void 0)return bc("JWT malformed, contained fewer than 3 sections"),null;try{const l=a0(i);return l?JSON.parse(l):(bc("Failed to decode base64 JWT payload"),null)}catch(l){return bc("Caught error parsing JWT payload as JSON",l?.toString()),null}}function L_(a){const t=dm(a);return pt(t,"internal-error"),pt(typeof t.exp<"u","internal-error"),pt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function wl(a,t,i=!1){if(i)return t;try{return await t}catch(r){throw r instanceof es&&ub(r)&&a.auth.currentUser===a&&await a.auth.signOut(),r}}function ub({code:a}){return a==="auth/user-disabled"||a==="auth/user-token-expired"}class cb{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Hd{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=vl(this.lastLoginAt),this.creationTime=vl(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Pc(a){const t=a.auth,i=await a.getIdToken(),r=await wl(a,kc(t,{idToken:i}));pt(r?.users.length,t,"internal-error");const l=r.users[0];a._notifyReloadListener(l);const c=l.providerUserInfo?.length?w0(l.providerUserInfo):[],d=fb(a.providerData,c),p=a.isAnonymous,_=!(a.email&&l.passwordHash)&&!d?.length,y=p?_:!1,A={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new Hd(l.createdAt,l.lastLoginAt),isAnonymous:y};Object.assign(a,A)}async function hb(a){const t=vn(a);await Pc(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function fb(a,t){return[...a.filter(r=>!t.some(l=>l.providerId===r.providerId)),...t]}function w0(a){return a.map(({providerId:t,...i})=>({providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function db(a,t){const i=await A0(a,{},async()=>{const r=xl({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:c}=a.config,d=await b0(a,l,"/v1/token",`key=${c}`),p=await a._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const _={method:"POST",headers:p,body:r};return a.emulatorConfig&&Wa(a.emulatorConfig.host)&&(_.credentials="include"),T0.fetch()(d,_)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function mb(a,t){return eo(a,"POST","/v2/accounts:revokeToken",eh(a,t))}class ja{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){pt(t.idToken,"internal-error"),pt(typeof t.idToken<"u","internal-error"),pt(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):L_(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){pt(t.length!==0,"internal-error");const i=L_(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(pt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:r,refreshToken:l,expiresIn:c}=await db(t,i);this.updateTokensAndExpiration(r,l,Number(c))}updateTokensAndExpiration(t,i,r){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(t,i){const{refreshToken:r,accessToken:l,expirationTime:c}=i,d=new ja;return r&&(pt(typeof r=="string","internal-error",{appName:t}),d.refreshToken=r),l&&(pt(typeof l=="string","internal-error",{appName:t}),d.accessToken=l),c&&(pt(typeof c=="number","internal-error",{appName:t}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new ja,this.toJSON())}_performRefresh(){return Ki("not implemented")}}function Us(a,t){pt(typeof a=="string"||typeof a>"u","internal-error",{appName:t})}class Yn{constructor({uid:t,auth:i,stsTokenManager:r,...l}){this.providerId="firebase",this.proactiveRefresh=new cb(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new Hd(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(t){const i=await wl(this,this.stsTokenManager.getToken(this.auth,t));return pt(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return lb(this,t)}reload(){return hb(this)}_assign(t){this!==t&&(pt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>({...i})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new Yn({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(t){pt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let r=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),i&&await Pc(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Kn(this.auth.app))return Promise.reject(Gs(this.auth));const t=await this.getIdToken();return await wl(this,ob(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){const r=i.displayName??void 0,l=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,p=i.tenantId??void 0,_=i._redirectEventId??void 0,y=i.createdAt??void 0,A=i.lastLoginAt??void 0,{uid:b,emailVerified:U,isAnonymous:K,providerData:W,stsTokenManager:nt}=i;pt(b&&nt,t,"internal-error");const J=ja.fromJSON(this.name,nt);pt(typeof b=="string",t,"internal-error"),Us(r,t.name),Us(l,t.name),pt(typeof U=="boolean",t,"internal-error"),pt(typeof K=="boolean",t,"internal-error"),Us(c,t.name),Us(d,t.name),Us(p,t.name),Us(_,t.name),Us(y,t.name),Us(A,t.name);const ht=new Yn({uid:b,auth:t,email:l,emailVerified:U,displayName:r,isAnonymous:K,photoURL:d,phoneNumber:c,tenantId:p,stsTokenManager:J,createdAt:y,lastLoginAt:A});return W&&Array.isArray(W)&&(ht.providerData=W.map(gt=>({...gt}))),_&&(ht._redirectEventId=_),ht}static async _fromIdTokenResponse(t,i,r=!1){const l=new ja;l.updateFromServerResponse(i);const c=new Yn({uid:i.localId,auth:t,stsTokenManager:l,isAnonymous:r});return await Pc(c),c}static async _fromGetAccountInfoResponse(t,i,r){const l=i.users[0];pt(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?w0(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!c?.length,p=new ja;p.updateFromIdToken(r);const _=new Yn({uid:l.localId,auth:t,stsTokenManager:p,isAnonymous:d}),y={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new Hd(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!c?.length};return Object.assign(_,y),_}}const k_=new Map;function Yi(a){$i(a instanceof Function,"Expected a class definition");let t=k_.get(a);return t?($i(t instanceof a,"Instance stored in cache mismatched with class"),t):(t=new a,k_.set(a,t),t)}class R0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}R0.type="NONE";const P_=R0;function wc(a,t,i){return`firebase:${a}:${t}:${i}`}class Ba{constructor(t,i,r){this.persistence=t,this.auth=i,this.userKey=r;const{config:l,name:c}=this.auth;this.fullUserKey=wc(this.userKey,l.apiKey,c),this.fullPersistenceKey=wc("persistence",l.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const i=await kc(this.auth,{idToken:t}).catch(()=>{});return i?Yn._fromGetAccountInfoResponse(this.auth,i,t):null}return Yn._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,r="authUser"){if(!i.length)return new Ba(Yi(P_),t,r);const l=(await Promise.all(i.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let c=l[0]||Yi(P_);const d=wc(r,t.config.apiKey,t.name);let p=null;for(const y of i)try{const A=await y._get(d);if(A){let b;if(typeof A=="string"){const U=await kc(t,{idToken:A}).catch(()=>{});if(!U)break;b=await Yn._fromGetAccountInfoResponse(t,U,A)}else b=Yn._fromJSON(t,A);y!==c&&(p=b),c=y;break}}catch{}const _=l.filter(y=>y._shouldAllowMigration);return!c._shouldAllowMigration||!_.length?new Ba(c,t,r):(c=_[0],p&&await c._set(d,p.toJSON()),await Promise.all(i.map(async y=>{if(y!==c)try{await y._remove(d)}catch{}})),new Ba(c,t,r))}}function z_(a){const t=a.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(D0(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(C0(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(M0(t))return"Blackberry";if(V0(t))return"Webos";if(I0(t))return"Safari";if((t.includes("chrome/")||N0(t))&&!t.includes("edge/"))return"Chrome";if(O0(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=a.match(i);if(r?.length===2)return r[1]}return"Other"}function C0(a=Je()){return/firefox\//i.test(a)}function I0(a=Je()){const t=a.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function N0(a=Je()){return/crios\//i.test(a)}function D0(a=Je()){return/iemobile/i.test(a)}function O0(a=Je()){return/android/i.test(a)}function M0(a=Je()){return/blackberry/i.test(a)}function V0(a=Je()){return/webos/i.test(a)}function mm(a=Je()){return/iphone|ipad|ipod/i.test(a)||/macintosh/i.test(a)&&/mobile/i.test(a)}function gb(a=Je()){return mm(a)&&!!window.navigator?.standalone}function pb(){return OA()&&document.documentMode===10}function x0(a=Je()){return mm(a)||O0(a)||V0(a)||M0(a)||/windows phone/i.test(a)||D0(a)}function U0(a,t=[]){let i;switch(a){case"Browser":i=z_(Je());break;case"Worker":i=`${z_(Je())}-${a}`;break;default:i=a}const r=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${to}/${r}`}class yb{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const r=c=>new Promise((d,p)=>{try{const _=t(c);d(_)}catch(_){p(_)}});r.onAbort=i,this.queue.push(r);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const r of this.queue)await r(t),r.onAbort&&i.push(r.onAbort)}catch(r){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function _b(a,t={}){return eo(a,"GET","/v2/passwordPolicy",eh(a,t))}const vb=6;class Eb{constructor(t){const i=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??vb,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,i),this.validatePasswordCharacterOptions(t,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(t,i){const r=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;r&&(i.meetsMinPasswordLength=t.length>=r),l&&(i.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let r;for(let l=0;l<t.length;l++)r=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(t,i,r,l,c){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=c))}}class Tb{constructor(t,i,r,l){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=r,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new j_(this),this.idTokenSubscription=new j_(this),this.beforeStateQueue=new yb(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=v0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=Yi(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Ba.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await kc(this,{idToken:t}),r=await Yn._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(r)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(Kn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let r=i,l=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=r?._redirectEventId,p=await this.tryRedirectSignIn(t);(!c||c===d)&&p?.user&&(r=p.user,l=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(r)}catch(c){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return pt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await Pc(t)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=nb()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Kn(this.app))return Promise.reject(Gs(this));const i=t?vn(t):null;return i&&pt(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&pt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Kn(this.app)?Promise.reject(Gs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Kn(this.app)?Promise.reject(Gs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Yi(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await _b(this),i=new Eb(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Vl("auth","Firebase",t())}onAuthStateChanged(t,i,r){return this.registerStateListener(this.authStateSubscription,t,i,r)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,r){return this.registerStateListener(this.idTokenSubscription,t,i,r)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const r=this.onAuthStateChanged(()=>{r(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(r.tenantId=this.tenantId),await mb(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,i){const r=await this.getOrInitRedirectPersistenceManager(i);return t===null?r.removeCurrentUser():r.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&Yi(t)||this._popupRedirectResolver;pt(i,this,"argument-error"),this.redirectPersistenceManager=await Ba.create(this,[Yi(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,r,l){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(pt(p,this,"internal-error"),p.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const _=t.addObserver(i,r,l);return()=>{d=!0,_()}}else{const _=t.addObserver(i);return()=>{d=!0,_()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return pt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=U0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){if(Kn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&WS(`Error while retrieving App Check token: ${t.error}`),t?.token}}function nh(a){return vn(a)}class j_{constructor(t){this.auth=t,this.observer=null,this.addObserver=zA(i=>this.observer=i)}get next(){return pt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let gm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Ab(a){gm=a}function Sb(a){return gm.loadJS(a)}function bb(){return gm.gapiScript}function wb(a){return`__${a}${Math.floor(Math.random()*1e6)}`}function Rb(a,t){const i=cm(a,"auth");if(i.isInitialized()){const l=i.getImmediate(),c=i.getOptions();if(Ur(c,t??{}))return l;Ji(l,"already-initialized")}return i.initialize({options:t})}function Cb(a,t){const i=t?.persistence||[],r=(Array.isArray(i)?i:[i]).map(Yi);t?.errorMap&&a._updateErrorMap(t.errorMap),a._initializeWithPersistence(r,t?.popupRedirectResolver)}function Ib(a,t,i){const r=nh(a);pt(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const l=!1,c=L0(t),{host:d,port:p}=Nb(t),_=p===null?"":`:${p}`,y={url:`${c}//${d}${_}/`},A=Object.freeze({host:d,port:p,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!r._canInitEmulator){pt(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),pt(Ur(y,r.config.emulator)&&Ur(A,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=y,r.emulatorConfig=A,r.settings.appVerificationDisabledForTesting=!0,Wa(d)?(c0(`${c}//${d}${_}`),h0("Auth",!0)):Db()}function L0(a){const t=a.indexOf(":");return t<0?"":a.substr(0,t+1)}function Nb(a){const t=L0(a),i=/(\/\/)?([^?#/]+)/.exec(a.substr(t.length));if(!i)return{host:"",port:null};const r=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(r);if(l){const c=l[1];return{host:c,port:B_(r.substr(c.length+1))}}else{const[c,d]=r.split(":");return{host:c,port:B_(d)}}}function B_(a){if(!a)return null;const t=Number(a);return isNaN(t)?null:t}function Db(){function a(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",a):a())}class k0{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return Ki("not implemented")}_getIdTokenResponse(t){return Ki("not implemented")}_linkToIdToken(t,i){return Ki("not implemented")}_getReauthenticationResolver(t){return Ki("not implemented")}}async function qa(a,t){return S0(a,"POST","/v1/accounts:signInWithIdp",eh(a,t))}const Ob="http://localhost";class kr extends k0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new kr(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):Ji("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:r,signInMethod:l,...c}=i;if(!r||!l)return null;const d=new kr(r,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(t){const i=this.buildRequest();return qa(t,i)}_linkToIdToken(t,i){const r=this.buildRequest();return r.idToken=i,qa(t,r)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,qa(t,i)}buildRequest(){const t={requestUri:Ob,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=xl(i)}return t}}class P0{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class Ll extends P0{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class Ls extends Ll{constructor(){super("facebook.com")}static credential(t){return kr._fromParams({providerId:Ls.PROVIDER_ID,signInMethod:Ls.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Ls.credentialFromTaggedObject(t)}static credentialFromError(t){return Ls.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Ls.credential(t.oauthAccessToken)}catch{return null}}}Ls.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ls.PROVIDER_ID="facebook.com";class ks extends Ll{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return kr._fromParams({providerId:ks.PROVIDER_ID,signInMethod:ks.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return ks.credentialFromTaggedObject(t)}static credentialFromError(t){return ks.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:r}=t;if(!i&&!r)return null;try{return ks.credential(i,r)}catch{return null}}}ks.GOOGLE_SIGN_IN_METHOD="google.com";ks.PROVIDER_ID="google.com";class Ps extends Ll{constructor(){super("github.com")}static credential(t){return kr._fromParams({providerId:Ps.PROVIDER_ID,signInMethod:Ps.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Ps.credentialFromTaggedObject(t)}static credentialFromError(t){return Ps.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Ps.credential(t.oauthAccessToken)}catch{return null}}}Ps.GITHUB_SIGN_IN_METHOD="github.com";Ps.PROVIDER_ID="github.com";class zs extends Ll{constructor(){super("twitter.com")}static credential(t,i){return kr._fromParams({providerId:zs.PROVIDER_ID,signInMethod:zs.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return zs.credentialFromTaggedObject(t)}static credentialFromError(t){return zs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:r}=t;if(!i||!r)return null;try{return zs.credential(i,r)}catch{return null}}}zs.TWITTER_SIGN_IN_METHOD="twitter.com";zs.PROVIDER_ID="twitter.com";async function Mb(a,t){return S0(a,"POST","/v1/accounts:signUp",eh(a,t))}class Ks{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,r,l=!1){const c=await Yn._fromIdTokenResponse(t,r,l),d=q_(r);return new Ks({user:c,providerId:d,_tokenResponse:r,operationType:i})}static async _forOperation(t,i,r){await t._updateTokensIfNecessary(r,!0);const l=q_(r);return new Ks({user:t,providerId:l,_tokenResponse:r,operationType:i})}}function q_(a){return a.providerId?a.providerId:"phoneNumber"in a?"phone":null}async function H_(a){if(Kn(a.app))return Promise.reject(Gs(a));const t=nh(a);if(await t._initializationPromise,t.currentUser?.isAnonymous)return new Ks({user:t.currentUser,providerId:null,operationType:"signIn"});const i=await Mb(t,{returnSecureToken:!0}),r=await Ks._fromIdTokenResponse(t,"signIn",i,!0);return await t._updateCurrentUser(r.user),r}class zc extends es{constructor(t,i,r,l){super(i.code,i.message),this.operationType=r,this.user=l,Object.setPrototypeOf(this,zc.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,i,r,l){return new zc(t,i,r,l)}}function z0(a,t,i,r){return(t==="reauthenticate"?i._getReauthenticationResolver(a):i._getIdTokenResponse(a)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?zc._fromErrorAndOperation(a,c,t,r):c})}async function Vb(a,t,i=!1){const r=await wl(a,t._linkToIdToken(a.auth,await a.getIdToken()),i);return Ks._forOperation(a,"link",r)}async function xb(a,t,i=!1){const{auth:r}=a;if(Kn(r.app))return Promise.reject(Gs(r));const l="reauthenticate";try{const c=await wl(a,z0(r,l,t,a),i);pt(c.idToken,r,"internal-error");const d=dm(c.idToken);pt(d,r,"internal-error");const{sub:p}=d;return pt(a.uid===p,r,"user-mismatch"),Ks._forOperation(a,l,c)}catch(c){throw c?.code==="auth/user-not-found"&&Ji(r,"user-mismatch"),c}}async function Ub(a,t,i=!1){if(Kn(a.app))return Promise.reject(Gs(a));const r="signIn",l=await z0(a,r,t),c=await Ks._fromIdTokenResponse(a,r,l);return i||await a._updateCurrentUser(c.user),c}function Lb(a,t,i,r){return vn(a).onIdTokenChanged(t,i,r)}function kb(a,t,i){return vn(a).beforeAuthStateChanged(t,i)}function Pb(a,t,i,r){return vn(a).onAuthStateChanged(t,i,r)}const jc="__sak";class j0{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(jc,"1"),this.storage.removeItem(jc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const zb=1e3,jb=10;class B0 extends j0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=x0(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const r=this.storage.getItem(i),l=this.localCache[i];r!==l&&t(i,l,r)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((d,p,_)=>{this.notifyListeners(d,_)});return}const r=t.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(r);!i&&this.localCache[r]===d||this.notifyListeners(r,d)},c=this.storage.getItem(r);pb()&&c!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,jb):l()}notifyListeners(t,i){this.localCache[t]=i;const r=this.listeners[t];if(r)for(const l of Array.from(r))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:r}),!0)})},zb)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}B0.type="LOCAL";const Bb=B0;class q0 extends j0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}q0.type="SESSION";const H0=q0;function qb(a){return Promise.all(a.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}class ih{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(l=>l.isListeningto(t));if(i)return i;const r=new ih(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:r,eventType:l,data:c}=i.data,d=this.handlersMap[l];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:r,eventType:l});const p=Array.from(d).map(async y=>y(i.origin,c)),_=await qb(p);i.ports[0].postMessage({status:"done",eventId:r,eventType:l,response:_})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ih.receivers=[];function pm(a="",t=10){let i="";for(let r=0;r<t;r++)i+=Math.floor(Math.random()*10);return a+i}class Hb{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,r=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((p,_)=>{const y=pm("",20);l.port1.start();const A=setTimeout(()=>{_(new Error("unsupported_event"))},r);d={messageChannel:l,onMessage(b){const U=b;if(U.data.eventId===y)switch(U.data.status){case"ack":clearTimeout(A),c=setTimeout(()=>{_(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),p(U.data.response);break;default:clearTimeout(A),clearTimeout(c),_(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:y,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Ti(){return window}function Gb(a){Ti().location.href=a}function G0(){return typeof Ti().WorkerGlobalScope<"u"&&typeof Ti().importScripts=="function"}async function Fb(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Qb(){return navigator?.serviceWorker?.controller||null}function Kb(){return G0()?self:null}const F0="firebaseLocalStorageDb",Yb=1,Bc="firebaseLocalStorage",Q0="fbase_key";class kl{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function sh(a,t){return a.transaction([Bc],t?"readwrite":"readonly").objectStore(Bc)}function Xb(){const a=indexedDB.deleteDatabase(F0);return new kl(a).toPromise()}function Gd(){const a=indexedDB.open(F0,Yb);return new Promise((t,i)=>{a.addEventListener("error",()=>{i(a.error)}),a.addEventListener("upgradeneeded",()=>{const r=a.result;try{r.createObjectStore(Bc,{keyPath:Q0})}catch(l){i(l)}}),a.addEventListener("success",async()=>{const r=a.result;r.objectStoreNames.contains(Bc)?t(r):(r.close(),await Xb(),t(await Gd()))})})}async function G_(a,t,i){const r=sh(a,!0).put({[Q0]:t,value:i});return new kl(r).toPromise()}async function Zb(a,t){const i=sh(a,!1).get(t),r=await new kl(i).toPromise();return r===void 0?null:r.value}function F_(a,t){const i=sh(a,!0).delete(t);return new kl(i).toPromise()}const Jb=800,$b=3;class K0{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Gd(),this.db)}async _withRetries(t){let i=0;for(;;)try{const r=await this._openDb();return await t(r)}catch(r){if(i++>$b)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return G0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ih._getInstance(Kb()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await Fb(),!this.activeServiceWorker)return;this.sender=new Hb(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||Qb()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Gd();return await G_(t,jc,"1"),await F_(t,jc),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(r=>G_(r,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(r=>Zb(r,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>F_(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const c=sh(l,!1).getAll();return new kl(c).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],r=new Set;if(t.length!==0)for(const{fbase_key:l,value:c}of t)r.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!r.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(t,i){this.localCache[t]=i;const r=this.listeners[t];if(r)for(const l of Array.from(r))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Jb)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}K0.type="LOCAL";const Wb=K0;new Ul(3e4,6e4);function tw(a,t){return t?Yi(t):(pt(a._popupRedirectResolver,a,"argument-error"),a._popupRedirectResolver)}class ym extends k0{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return qa(t,this._buildIdpRequest())}_linkToIdToken(t,i){return qa(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return qa(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function ew(a){return Ub(a.auth,new ym(a),a.bypassAuthState)}function nw(a){const{auth:t,user:i}=a;return pt(i,t,"internal-error"),xb(i,new ym(a),a.bypassAuthState)}async function iw(a){const{auth:t,user:i}=a;return pt(i,t,"internal-error"),Vb(i,new ym(a),a.bypassAuthState)}class Y0{constructor(t,i,r,l,c=!1){this.auth=t,this.resolver=r,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:r,postBody:l,tenantId:c,error:d,type:p}=t;if(d){this.reject(d);return}const _={auth:this.auth,requestUri:i,sessionId:r,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(_))}catch(y){this.reject(y)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return ew;case"linkViaPopup":case"linkViaRedirect":return iw;case"reauthViaPopup":case"reauthViaRedirect":return nw;default:Ji(this.auth,"internal-error")}}resolve(t){$i(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){$i(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const sw=new Ul(2e3,1e4);class za extends Y0{constructor(t,i,r,l,c){super(t,i,l,c),this.provider=r,this.authWindow=null,this.pollId=null,za.currentPopupAction&&za.currentPopupAction.cancel(),za.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return pt(t,this.auth,"internal-error"),t}async onExecution(){$i(this.filter.length===1,"Popup operations only handle one event");const t=pm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(Ei(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Ei(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,za.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ei(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,sw.get())};t()}}za.currentPopupAction=null;const rw="pendingRedirect",Rc=new Map;class aw extends Y0{constructor(t,i,r=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,r),this.eventId=null}async execute(){let t=Rc.get(this.auth._key());if(!t){try{const r=await ow(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(r)}catch(i){t=()=>Promise.reject(i)}Rc.set(this.auth._key(),t)}return this.bypassAuthState||Rc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function ow(a,t){const i=cw(t),r=uw(a);if(!await r._isAvailable())return!1;const l=await r._get(i)==="true";return await r._remove(i),l}function lw(a,t){Rc.set(a._key(),t)}function uw(a){return Yi(a._redirectPersistence)}function cw(a){return wc(rw,a.config.apiKey,a.name)}async function hw(a,t,i=!1){if(Kn(a.app))return Promise.reject(Gs(a));const r=nh(a),l=tw(r,t),d=await new aw(r,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await r._persistUserIfCurrent(d.user),await r._setRedirectUser(null,t)),d}const fw=600*1e3;class dw{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(t,r)&&(i=!0,this.sendToConsumer(t,r),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!mw(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){if(t.error&&!X0(t)){const r=t.error.code?.split("auth/")[1]||"internal-error";i.onError(Ei(this.auth,r))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const r=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&r}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=fw&&this.cachedEventUids.clear(),this.cachedEventUids.has(Q_(t))}saveEventToCache(t){this.cachedEventUids.add(Q_(t)),this.lastProcessedEventTime=Date.now()}}function Q_(a){return[a.type,a.eventId,a.sessionId,a.tenantId].filter(t=>t).join("-")}function X0({type:a,error:t}){return a==="unknown"&&t?.code==="auth/no-auth-event"}function mw(a){switch(a.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return X0(a);default:return!1}}async function gw(a,t={}){return eo(a,"GET","/v1/projects",t)}const pw=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,yw=/^https?/;async function _w(a){if(a.config.emulator)return;const{authorizedDomains:t}=await gw(a);for(const i of t)try{if(vw(i))return}catch{}Ji(a,"unauthorized-domain")}function vw(a){const t=qd(),{protocol:i,hostname:r}=new URL(t);if(a.startsWith("chrome-extension://")){const d=new URL(a);return d.hostname===""&&r===""?i==="chrome-extension:"&&a.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===r}if(!yw.test(i))return!1;if(pw.test(a))return r===a;const l=a.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(r)}const Ew=new Ul(3e4,6e4);function K_(){const a=Ti().___jsl;if(a?.H){for(const t of Object.keys(a.H))if(a.H[t].r=a.H[t].r||[],a.H[t].L=a.H[t].L||[],a.H[t].r=[...a.H[t].L],a.CP)for(let i=0;i<a.CP.length;i++)a.CP[i]=null}}function Tw(a){return new Promise((t,i)=>{function r(){K_(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{K_(),i(Ei(a,"network-request-failed"))},timeout:Ew.get()})}if(Ti().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Ti().gapi?.load)r();else{const l=wb("iframefcb");return Ti()[l]=()=>{gapi.load?r():i(Ei(a,"network-request-failed"))},Sb(`${bb()}?onload=${l}`).catch(c=>i(c))}}).catch(t=>{throw Cc=null,t})}let Cc=null;function Aw(a){return Cc=Cc||Tw(a),Cc}const Sw=new Ul(5e3,15e3),bw="__/auth/iframe",ww="emulator/auth/iframe",Rw={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Cw=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Iw(a){const t=a.config;pt(t.authDomain,a,"auth-domain-config-required");const i=t.emulator?fm(t,ww):`https://${a.config.authDomain}/${bw}`,r={apiKey:t.apiKey,appName:a.name,v:to},l=Cw.get(a.config.apiHost);l&&(r.eid=l);const c=a._getFrameworks();return c.length&&(r.fw=c.join(",")),`${i}?${xl(r).slice(1)}`}async function Nw(a){const t=await Aw(a),i=Ti().gapi;return pt(i,a,"internal-error"),t.open({where:document.body,url:Iw(a),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Rw,dontclear:!0},r=>new Promise(async(l,c)=>{await r.restyle({setHideOnLeave:!1});const d=Ei(a,"network-request-failed"),p=Ti().setTimeout(()=>{c(d)},Sw.get());function _(){Ti().clearTimeout(p),l(r)}r.ping(_).then(_,()=>{c(d)})}))}const Dw={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Ow=500,Mw=600,Vw="_blank",xw="http://localhost";class Y_{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Uw(a,t,i,r=Ow,l=Mw){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-r)/2,0).toString();let p="";const _={...Dw,width:r.toString(),height:l.toString(),top:c,left:d},y=Je().toLowerCase();i&&(p=N0(y)?Vw:i),C0(y)&&(t=t||xw,_.scrollbars="yes");const A=Object.entries(_).reduce((U,[K,W])=>`${U}${K}=${W},`,"");if(gb(y)&&p!=="_self")return Lw(t||"",p),new Y_(null);const b=window.open(t||"",p,A);pt(b,a,"popup-blocked");try{b.focus()}catch{}return new Y_(b)}function Lw(a,t){const i=document.createElement("a");i.href=a,i.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(r)}const kw="__/auth/handler",Pw="emulator/auth/handler",zw=encodeURIComponent("fac");async function X_(a,t,i,r,l,c){pt(a.config.authDomain,a,"auth-domain-config-required"),pt(a.config.apiKey,a,"invalid-api-key");const d={apiKey:a.config.apiKey,appName:a.name,authType:i,redirectUrl:r,v:to,eventId:l};if(t instanceof P0){t.setDefaultLanguage(a.languageCode),d.providerId=t.providerId||"",PA(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[A,b]of Object.entries({}))d[A]=b}if(t instanceof Ll){const A=t.getScopes().filter(b=>b!=="");A.length>0&&(d.scopes=A.join(","))}a.tenantId&&(d.tid=a.tenantId);const p=d;for(const A of Object.keys(p))p[A]===void 0&&delete p[A];const _=await a._getAppCheckToken(),y=_?`#${zw}=${encodeURIComponent(_)}`:"";return`${jw(a)}?${xl(p).slice(1)}${y}`}function jw({config:a}){return a.emulator?fm(a,Pw):`https://${a.authDomain}/${kw}`}const Dd="webStorageSupport";class Bw{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=H0,this._completeRedirectFn=hw,this._overrideRedirectResult=lw}async _openPopup(t,i,r,l){$i(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const c=await X_(t,i,r,qd(),l);return Uw(t,c,pm())}async _openRedirect(t,i,r,l){await this._originValidation(t);const c=await X_(t,i,r,qd(),l);return Gb(c),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:l,promise:c}=this.eventManagers[i];return l?Promise.resolve(l):($i(c,"If manager is not set, promise should be"),c)}const r=this.initAndGetManager(t);return this.eventManagers[i]={promise:r},r.catch(()=>{delete this.eventManagers[i]}),r}async initAndGetManager(t){const i=await Nw(t),r=new dw(t);return i.register("authEvent",l=>(pt(l?.authEvent,t,"invalid-auth-event"),{status:r.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=i,r}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(Dd,{type:Dd},l=>{const c=l?.[0]?.[Dd];c!==void 0&&i(!!c),Ji(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=_w(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return x0()||I0()||mm()}}const qw=Bw;var Z_="@firebase/auth",J_="1.11.1";class Hw{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(r=>{t(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){pt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Gw(a){switch(a){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Fw(a){Qa(new Lr("auth",(t,{options:i})=>{const r=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),c=t.getProvider("app-check-internal"),{apiKey:d,authDomain:p}=r.options;pt(d&&!d.includes(":"),"invalid-api-key",{appName:r.name});const _={apiKey:d,authDomain:p,clientPlatform:a,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:U0(a)},y=new Tb(r,l,c,_);return Cb(y,i),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,r)=>{t.getProvider("auth-internal").initialize()})),Qa(new Lr("auth-internal",t=>{const i=nh(t.getProvider("auth").getImmediate());return(r=>new Hw(r))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),Hs(Z_,J_,Gw(a)),Hs(Z_,J_,"esm2020")}const Qw=300,Kw=u0("authIdTokenMaxAge")||Qw;let $_=null;const Yw=a=>async t=>{const i=t&&await t.getIdTokenResult(),r=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(r&&r>Kw)return;const l=i?.token;$_!==l&&($_=l,await fetch(a,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function Xw(a=g0()){const t=cm(a,"auth");if(t.isInitialized())return t.getImmediate();const i=Rb(a,{popupRedirectResolver:qw,persistence:[Wb,Bb,H0]}),r=u0("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(r,location.origin);if(location.origin===c.origin){const d=Yw(c.toString());kb(i,d,()=>d(i.currentUser)),Lb(i,p=>d(p))}}const l=o0("auth");return l&&Ib(i,`http://${l}`),i}function Zw(){return document.getElementsByTagName("head")?.[0]??document}Ab({loadJS(a){return new Promise((t,i)=>{const r=document.createElement("script");r.setAttribute("src",a),r.onload=t,r.onerror=l=>{const c=Ei("internal-error");c.customData=l,i(c)},r.type="text/javascript",r.charset="UTF-8",Zw().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Fw("Browser");var W_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Fs,Z0;(function(){var a;function t(I,S){function w(){}w.prototype=S.prototype,I.F=S.prototype,I.prototype=new w,I.prototype.constructor=I,I.D=function(M,N,x){for(var R=Array(arguments.length-2),ie=2;ie<arguments.length;ie++)R[ie-2]=arguments[ie];return S.prototype[N].apply(M,R)}}function i(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(r,i),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(I,S,w){w||(w=0);const M=Array(16);if(typeof S=="string")for(var N=0;N<16;++N)M[N]=S.charCodeAt(w++)|S.charCodeAt(w++)<<8|S.charCodeAt(w++)<<16|S.charCodeAt(w++)<<24;else for(N=0;N<16;++N)M[N]=S[w++]|S[w++]<<8|S[w++]<<16|S[w++]<<24;S=I.g[0],w=I.g[1],N=I.g[2];let x=I.g[3],R;R=S+(x^w&(N^x))+M[0]+3614090360&4294967295,S=w+(R<<7&4294967295|R>>>25),R=x+(N^S&(w^N))+M[1]+3905402710&4294967295,x=S+(R<<12&4294967295|R>>>20),R=N+(w^x&(S^w))+M[2]+606105819&4294967295,N=x+(R<<17&4294967295|R>>>15),R=w+(S^N&(x^S))+M[3]+3250441966&4294967295,w=N+(R<<22&4294967295|R>>>10),R=S+(x^w&(N^x))+M[4]+4118548399&4294967295,S=w+(R<<7&4294967295|R>>>25),R=x+(N^S&(w^N))+M[5]+1200080426&4294967295,x=S+(R<<12&4294967295|R>>>20),R=N+(w^x&(S^w))+M[6]+2821735955&4294967295,N=x+(R<<17&4294967295|R>>>15),R=w+(S^N&(x^S))+M[7]+4249261313&4294967295,w=N+(R<<22&4294967295|R>>>10),R=S+(x^w&(N^x))+M[8]+1770035416&4294967295,S=w+(R<<7&4294967295|R>>>25),R=x+(N^S&(w^N))+M[9]+2336552879&4294967295,x=S+(R<<12&4294967295|R>>>20),R=N+(w^x&(S^w))+M[10]+4294925233&4294967295,N=x+(R<<17&4294967295|R>>>15),R=w+(S^N&(x^S))+M[11]+2304563134&4294967295,w=N+(R<<22&4294967295|R>>>10),R=S+(x^w&(N^x))+M[12]+1804603682&4294967295,S=w+(R<<7&4294967295|R>>>25),R=x+(N^S&(w^N))+M[13]+4254626195&4294967295,x=S+(R<<12&4294967295|R>>>20),R=N+(w^x&(S^w))+M[14]+2792965006&4294967295,N=x+(R<<17&4294967295|R>>>15),R=w+(S^N&(x^S))+M[15]+1236535329&4294967295,w=N+(R<<22&4294967295|R>>>10),R=S+(N^x&(w^N))+M[1]+4129170786&4294967295,S=w+(R<<5&4294967295|R>>>27),R=x+(w^N&(S^w))+M[6]+3225465664&4294967295,x=S+(R<<9&4294967295|R>>>23),R=N+(S^w&(x^S))+M[11]+643717713&4294967295,N=x+(R<<14&4294967295|R>>>18),R=w+(x^S&(N^x))+M[0]+3921069994&4294967295,w=N+(R<<20&4294967295|R>>>12),R=S+(N^x&(w^N))+M[5]+3593408605&4294967295,S=w+(R<<5&4294967295|R>>>27),R=x+(w^N&(S^w))+M[10]+38016083&4294967295,x=S+(R<<9&4294967295|R>>>23),R=N+(S^w&(x^S))+M[15]+3634488961&4294967295,N=x+(R<<14&4294967295|R>>>18),R=w+(x^S&(N^x))+M[4]+3889429448&4294967295,w=N+(R<<20&4294967295|R>>>12),R=S+(N^x&(w^N))+M[9]+568446438&4294967295,S=w+(R<<5&4294967295|R>>>27),R=x+(w^N&(S^w))+M[14]+3275163606&4294967295,x=S+(R<<9&4294967295|R>>>23),R=N+(S^w&(x^S))+M[3]+4107603335&4294967295,N=x+(R<<14&4294967295|R>>>18),R=w+(x^S&(N^x))+M[8]+1163531501&4294967295,w=N+(R<<20&4294967295|R>>>12),R=S+(N^x&(w^N))+M[13]+2850285829&4294967295,S=w+(R<<5&4294967295|R>>>27),R=x+(w^N&(S^w))+M[2]+4243563512&4294967295,x=S+(R<<9&4294967295|R>>>23),R=N+(S^w&(x^S))+M[7]+1735328473&4294967295,N=x+(R<<14&4294967295|R>>>18),R=w+(x^S&(N^x))+M[12]+2368359562&4294967295,w=N+(R<<20&4294967295|R>>>12),R=S+(w^N^x)+M[5]+4294588738&4294967295,S=w+(R<<4&4294967295|R>>>28),R=x+(S^w^N)+M[8]+2272392833&4294967295,x=S+(R<<11&4294967295|R>>>21),R=N+(x^S^w)+M[11]+1839030562&4294967295,N=x+(R<<16&4294967295|R>>>16),R=w+(N^x^S)+M[14]+4259657740&4294967295,w=N+(R<<23&4294967295|R>>>9),R=S+(w^N^x)+M[1]+2763975236&4294967295,S=w+(R<<4&4294967295|R>>>28),R=x+(S^w^N)+M[4]+1272893353&4294967295,x=S+(R<<11&4294967295|R>>>21),R=N+(x^S^w)+M[7]+4139469664&4294967295,N=x+(R<<16&4294967295|R>>>16),R=w+(N^x^S)+M[10]+3200236656&4294967295,w=N+(R<<23&4294967295|R>>>9),R=S+(w^N^x)+M[13]+681279174&4294967295,S=w+(R<<4&4294967295|R>>>28),R=x+(S^w^N)+M[0]+3936430074&4294967295,x=S+(R<<11&4294967295|R>>>21),R=N+(x^S^w)+M[3]+3572445317&4294967295,N=x+(R<<16&4294967295|R>>>16),R=w+(N^x^S)+M[6]+76029189&4294967295,w=N+(R<<23&4294967295|R>>>9),R=S+(w^N^x)+M[9]+3654602809&4294967295,S=w+(R<<4&4294967295|R>>>28),R=x+(S^w^N)+M[12]+3873151461&4294967295,x=S+(R<<11&4294967295|R>>>21),R=N+(x^S^w)+M[15]+530742520&4294967295,N=x+(R<<16&4294967295|R>>>16),R=w+(N^x^S)+M[2]+3299628645&4294967295,w=N+(R<<23&4294967295|R>>>9),R=S+(N^(w|~x))+M[0]+4096336452&4294967295,S=w+(R<<6&4294967295|R>>>26),R=x+(w^(S|~N))+M[7]+1126891415&4294967295,x=S+(R<<10&4294967295|R>>>22),R=N+(S^(x|~w))+M[14]+2878612391&4294967295,N=x+(R<<15&4294967295|R>>>17),R=w+(x^(N|~S))+M[5]+4237533241&4294967295,w=N+(R<<21&4294967295|R>>>11),R=S+(N^(w|~x))+M[12]+1700485571&4294967295,S=w+(R<<6&4294967295|R>>>26),R=x+(w^(S|~N))+M[3]+2399980690&4294967295,x=S+(R<<10&4294967295|R>>>22),R=N+(S^(x|~w))+M[10]+4293915773&4294967295,N=x+(R<<15&4294967295|R>>>17),R=w+(x^(N|~S))+M[1]+2240044497&4294967295,w=N+(R<<21&4294967295|R>>>11),R=S+(N^(w|~x))+M[8]+1873313359&4294967295,S=w+(R<<6&4294967295|R>>>26),R=x+(w^(S|~N))+M[15]+4264355552&4294967295,x=S+(R<<10&4294967295|R>>>22),R=N+(S^(x|~w))+M[6]+2734768916&4294967295,N=x+(R<<15&4294967295|R>>>17),R=w+(x^(N|~S))+M[13]+1309151649&4294967295,w=N+(R<<21&4294967295|R>>>11),R=S+(N^(w|~x))+M[4]+4149444226&4294967295,S=w+(R<<6&4294967295|R>>>26),R=x+(w^(S|~N))+M[11]+3174756917&4294967295,x=S+(R<<10&4294967295|R>>>22),R=N+(S^(x|~w))+M[2]+718787259&4294967295,N=x+(R<<15&4294967295|R>>>17),R=w+(x^(N|~S))+M[9]+3951481745&4294967295,I.g[0]=I.g[0]+S&4294967295,I.g[1]=I.g[1]+(N+(R<<21&4294967295|R>>>11))&4294967295,I.g[2]=I.g[2]+N&4294967295,I.g[3]=I.g[3]+x&4294967295}r.prototype.v=function(I,S){S===void 0&&(S=I.length);const w=S-this.blockSize,M=this.C;let N=this.h,x=0;for(;x<S;){if(N==0)for(;x<=w;)l(this,I,x),x+=this.blockSize;if(typeof I=="string"){for(;x<S;)if(M[N++]=I.charCodeAt(x++),N==this.blockSize){l(this,M),N=0;break}}else for(;x<S;)if(M[N++]=I[x++],N==this.blockSize){l(this,M),N=0;break}}this.h=N,this.o+=S},r.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var S=1;S<I.length-8;++S)I[S]=0;S=this.o*8;for(var w=I.length-8;w<I.length;++w)I[w]=S&255,S/=256;for(this.v(I),I=Array(16),S=0,w=0;w<4;++w)for(let M=0;M<32;M+=8)I[S++]=this.g[w]>>>M&255;return I};function c(I,S){var w=p;return Object.prototype.hasOwnProperty.call(w,I)?w[I]:w[I]=S(I)}function d(I,S){this.h=S;const w=[];let M=!0;for(let N=I.length-1;N>=0;N--){const x=I[N]|0;M&&x==S||(w[N]=x,M=!1)}this.g=w}var p={};function _(I){return-128<=I&&I<128?c(I,function(S){return new d([S|0],S<0?-1:0)}):new d([I|0],I<0?-1:0)}function y(I){if(isNaN(I)||!isFinite(I))return b;if(I<0)return J(y(-I));const S=[];let w=1;for(let M=0;I>=w;M++)S[M]=I/w|0,w*=4294967296;return new d(S,0)}function A(I,S){if(I.length==0)throw Error("number format error: empty string");if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(I.charAt(0)=="-")return J(A(I.substring(1),S));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const w=y(Math.pow(S,8));let M=b;for(let x=0;x<I.length;x+=8){var N=Math.min(8,I.length-x);const R=parseInt(I.substring(x,x+N),S);N<8?(N=y(Math.pow(S,N)),M=M.j(N).add(y(R))):(M=M.j(w),M=M.add(y(R)))}return M}var b=_(0),U=_(1),K=_(16777216);a=d.prototype,a.m=function(){if(nt(this))return-J(this).m();let I=0,S=1;for(let w=0;w<this.g.length;w++){const M=this.i(w);I+=(M>=0?M:4294967296+M)*S,S*=4294967296}return I},a.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(W(this))return"0";if(nt(this))return"-"+J(this).toString(I);const S=y(Math.pow(I,6));var w=this;let M="";for(;;){const N=Bt(w,S).g;w=ht(w,N.j(S));let x=((w.g.length>0?w.g[0]:w.h)>>>0).toString(I);if(w=N,W(w))return x+M;for(;x.length<6;)x="0"+x;M=x+M}},a.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function W(I){if(I.h!=0)return!1;for(let S=0;S<I.g.length;S++)if(I.g[S]!=0)return!1;return!0}function nt(I){return I.h==-1}a.l=function(I){return I=ht(this,I),nt(I)?-1:W(I)?0:1};function J(I){const S=I.g.length,w=[];for(let M=0;M<S;M++)w[M]=~I.g[M];return new d(w,~I.h).add(U)}a.abs=function(){return nt(this)?J(this):this},a.add=function(I){const S=Math.max(this.g.length,I.g.length),w=[];let M=0;for(let N=0;N<=S;N++){let x=M+(this.i(N)&65535)+(I.i(N)&65535),R=(x>>>16)+(this.i(N)>>>16)+(I.i(N)>>>16);M=R>>>16,x&=65535,R&=65535,w[N]=R<<16|x}return new d(w,w[w.length-1]&-2147483648?-1:0)};function ht(I,S){return I.add(J(S))}a.j=function(I){if(W(this)||W(I))return b;if(nt(this))return nt(I)?J(this).j(J(I)):J(J(this).j(I));if(nt(I))return J(this.j(J(I)));if(this.l(K)<0&&I.l(K)<0)return y(this.m()*I.m());const S=this.g.length+I.g.length,w=[];for(var M=0;M<2*S;M++)w[M]=0;for(M=0;M<this.g.length;M++)for(let N=0;N<I.g.length;N++){const x=this.i(M)>>>16,R=this.i(M)&65535,ie=I.i(N)>>>16,Ce=I.i(N)&65535;w[2*M+2*N]+=R*Ce,gt(w,2*M+2*N),w[2*M+2*N+1]+=x*Ce,gt(w,2*M+2*N+1),w[2*M+2*N+1]+=R*ie,gt(w,2*M+2*N+1),w[2*M+2*N+2]+=x*ie,gt(w,2*M+2*N+2)}for(I=0;I<S;I++)w[I]=w[2*I+1]<<16|w[2*I];for(I=S;I<2*S;I++)w[I]=0;return new d(w,0)};function gt(I,S){for(;(I[S]&65535)!=I[S];)I[S+1]+=I[S]>>>16,I[S]&=65535,S++}function dt(I,S){this.g=I,this.h=S}function Bt(I,S){if(W(S))throw Error("division by zero");if(W(I))return new dt(b,b);if(nt(I))return S=Bt(J(I),S),new dt(J(S.g),J(S.h));if(nt(S))return S=Bt(I,J(S)),new dt(J(S.g),S.h);if(I.g.length>30){if(nt(I)||nt(S))throw Error("slowDivide_ only works with positive integers.");for(var w=U,M=S;M.l(I)<=0;)w=Jt(w),M=Jt(M);var N=Mt(w,1),x=Mt(M,1);for(M=Mt(M,2),w=Mt(w,2);!W(M);){var R=x.add(M);R.l(I)<=0&&(N=N.add(w),x=R),M=Mt(M,1),w=Mt(w,1)}return S=ht(I,N.j(S)),new dt(N,S)}for(N=b;I.l(S)>=0;){for(w=Math.max(1,Math.floor(I.m()/S.m())),M=Math.ceil(Math.log(w)/Math.LN2),M=M<=48?1:Math.pow(2,M-48),x=y(w),R=x.j(S);nt(R)||R.l(I)>0;)w-=M,x=y(w),R=x.j(S);W(x)&&(x=U),N=N.add(x),I=ht(I,R)}return new dt(N,I)}a.B=function(I){return Bt(this,I).h},a.and=function(I){const S=Math.max(this.g.length,I.g.length),w=[];for(let M=0;M<S;M++)w[M]=this.i(M)&I.i(M);return new d(w,this.h&I.h)},a.or=function(I){const S=Math.max(this.g.length,I.g.length),w=[];for(let M=0;M<S;M++)w[M]=this.i(M)|I.i(M);return new d(w,this.h|I.h)},a.xor=function(I){const S=Math.max(this.g.length,I.g.length),w=[];for(let M=0;M<S;M++)w[M]=this.i(M)^I.i(M);return new d(w,this.h^I.h)};function Jt(I){const S=I.g.length+1,w=[];for(let M=0;M<S;M++)w[M]=I.i(M)<<1|I.i(M-1)>>>31;return new d(w,I.h)}function Mt(I,S){const w=S>>5;S%=32;const M=I.g.length-w,N=[];for(let x=0;x<M;x++)N[x]=S>0?I.i(x+w)>>>S|I.i(x+w+1)<<32-S:I.i(x+w);return new d(N,I.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,Z0=r,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=y,d.fromString=A,Fs=d}).apply(typeof W_<"u"?W_:typeof self<"u"?self:typeof window<"u"?window:{});var vc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var J0,ml,$0,Ic,Fd,W0,tE,eE;(function(){var a,t=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof vc=="object"&&vc];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var r=i(this);function l(u,m){if(m)t:{var v=r;u=u.split(".");for(var T=0;T<u.length-1;T++){var L=u[T];if(!(L in v))break t;v=v[L]}u=u[u.length-1],T=v[u],m=m(T),m!=T&&m!=null&&t(v,u,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(m){var v=[],T;for(T in m)Object.prototype.hasOwnProperty.call(m,T)&&v.push([T,m[T]]);return v}});var c=c||{},d=this||self;function p(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function _(u,m,v){return u.call.apply(u.bind,arguments)}function y(u,m,v){return y=_,y.apply(null,arguments)}function A(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var T=v.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function b(u,m){function v(){}v.prototype=m.prototype,u.Z=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Ob=function(T,L,j){for(var $=Array(arguments.length-2),Tt=2;Tt<arguments.length;Tt++)$[Tt-2]=arguments[Tt];return m.prototype[L].apply(T,$)}}var U=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function K(u){const m=u.length;if(m>0){const v=Array(m);for(let T=0;T<m;T++)v[T]=u[T];return v}return[]}function W(u,m){for(let T=1;T<arguments.length;T++){const L=arguments[T];var v=typeof L;if(v=v!="object"?v:L?Array.isArray(L)?"array":v:"null",v=="array"||v=="object"&&typeof L.length=="number"){v=u.length||0;const j=L.length||0;u.length=v+j;for(let $=0;$<j;$++)u[v+$]=L[$]}else u.push(L)}}class nt{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function J(u){d.setTimeout(()=>{throw u},0)}function ht(){var u=I;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class gt{constructor(){this.h=this.g=null}add(m,v){const T=dt.get();T.set(m,v),this.h?this.h.next=T:this.g=T,this.h=T}}var dt=new nt(()=>new Bt,u=>u.reset());class Bt{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let Jt,Mt=!1,I=new gt,S=()=>{const u=Promise.resolve(void 0);Jt=()=>{u.then(w)}};function w(){for(var u;u=ht();){try{u.h.call(u.g)}catch(v){J(v)}var m=dt;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}Mt=!1}function M(){this.u=this.u,this.C=this.C}M.prototype.u=!1,M.prototype.dispose=function(){this.u||(this.u=!0,this.N())},M.prototype[Symbol.dispose]=function(){this.dispose()},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function N(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}N.prototype.h=function(){this.defaultPrevented=!0};var x=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return u})();function R(u){return/^[\s\xa0]*$/.test(u)}function ie(u,m){N.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}b(ie,N),ie.prototype.init=function(u,m){const v=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&ie.Z.h.call(this)},ie.prototype.h=function(){ie.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Ce="closure_listenable_"+(Math.random()*1e6|0),G=0;function tt(u,m,v,T,L){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!T,this.ha=L,this.key=++G,this.da=this.fa=!1}function ut(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Lt(u,m,v){for(const T in u)m.call(v,u[T],T,u)}function Ht(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function O(u){const m={};for(const v in u)m[v]=u[v];return m}const Y="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function et(u,m){let v,T;for(let L=1;L<arguments.length;L++){T=arguments[L];for(v in T)u[v]=T[v];for(let j=0;j<Y.length;j++)v=Y[j],Object.prototype.hasOwnProperty.call(T,v)&&(u[v]=T[v])}}function st(u){this.src=u,this.g={},this.h=0}st.prototype.add=function(u,m,v,T,L){const j=u.toString();u=this.g[j],u||(u=this.g[j]=[],this.h++);const $=St(u,m,T,L);return $>-1?(m=u[$],v||(m.fa=!1)):(m=new tt(m,this.src,j,!!T,L),m.fa=v,u.push(m)),m};function yt(u,m){const v=m.type;if(v in u.g){var T=u.g[v],L=Array.prototype.indexOf.call(T,m,void 0),j;(j=L>=0)&&Array.prototype.splice.call(T,L,1),j&&(ut(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function St(u,m,v,T){for(let L=0;L<u.length;++L){const j=u[L];if(!j.da&&j.listener==m&&j.capture==!!v&&j.ha==T)return L}return-1}var xt="closure_lm_"+(Math.random()*1e6|0),Ie={};function se(u,m,v,T,L){if(Array.isArray(m)){for(let j=0;j<m.length;j++)se(u,m[j],v,T,L);return null}return v=lo(v),u&&u[Ce]?u.J(m,v,p(T)?!!T.capture:!1,L):tr(u,m,v,!1,T,L)}function tr(u,m,v,T,L,j){if(!m)throw Error("Invalid event type");const $=p(L)?!!L.capture:!!L;let Tt=er(u);if(Tt||(u[xt]=Tt=new st(u)),v=Tt.add(m,v,T,$,j),v.proxy)return v;if(T=Gr(),v.proxy=T,T.src=u,T.listener=v,u.addEventListener)x||(L=$),L===void 0&&(L=!1),u.addEventListener(m.toString(),T,L);else if(u.attachEvent)u.attachEvent(Jn(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Gr(){function u(v){return m.call(u.src,u.listener,v)}const m=ao;return u}function Fr(u,m,v,T,L){if(Array.isArray(m))for(var j=0;j<m.length;j++)Fr(u,m[j],v,T,L);else T=p(T)?!!T.capture:!!T,v=lo(v),u&&u[Ce]?(u=u.i,j=String(m).toString(),j in u.g&&(m=u.g[j],v=St(m,v,T,L),v>-1&&(ut(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete u.g[j],u.h--)))):u&&(u=er(u))&&(m=u.g[m.toString()],u=-1,m&&(u=St(m,v,T,L)),(v=u>-1?m[u]:null)&&Qr(v))}function Qr(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Ce])yt(m.i,u);else{var v=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(v,T,u.capture):m.detachEvent?m.detachEvent(Jn(v),T):m.addListener&&m.removeListener&&m.removeListener(T),(v=er(m))?(yt(v,u),v.h==0&&(v.src=null,m[xt]=null)):ut(u)}}}function Jn(u){return u in Ie?Ie[u]:Ie[u]="on"+u}function ao(u,m){if(u.da)u=!0;else{m=new ie(m,this);const v=u.listener,T=u.ha||u.src;u.fa&&Qr(u),u=v.call(T,m)}return u}function er(u){return u=u[xt],u instanceof st?u:null}var oo="__closure_events_fn_"+(Math.random()*1e9>>>0);function lo(u){return typeof u=="function"?u:(u[oo]||(u[oo]=function(m){return u.handleEvent(m)}),u[oo])}function pe(){M.call(this),this.i=new st(this),this.M=this,this.G=null}b(pe,M),pe.prototype[Ce]=!0,pe.prototype.removeEventListener=function(u,m,v,T){Fr(this,u,m,v,T)};function Ne(u,m){var v,T=u.G;if(T)for(v=[];T;T=T.G)v.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new N(m,u);else if(m instanceof N)m.target=m.target||u;else{var L=m;m=new N(T,u),et(m,L)}L=!0;let j,$;if(v)for($=v.length-1;$>=0;$--)j=m.g=v[$],L=ns(j,T,!0,m)&&L;if(j=m.g=u,L=ns(j,T,!0,m)&&L,L=ns(j,T,!1,m)&&L,v)for($=0;$<v.length;$++)j=m.g=v[$],L=ns(j,T,!1,m)&&L}pe.prototype.N=function(){if(pe.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const v=u.g[m];for(let T=0;T<v.length;T++)ut(v[T]);delete u.g[m],u.h--}}this.G=null},pe.prototype.J=function(u,m,v,T){return this.i.add(String(u),m,!1,v,T)},pe.prototype.K=function(u,m,v,T){return this.i.add(String(u),m,!0,v,T)};function ns(u,m,v,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let L=!0;for(let j=0;j<m.length;++j){const $=m[j];if($&&!$.da&&$.capture==v){const Tt=$.listener,fe=$.ha||$.src;$.fa&&yt(u.i,$),L=Tt.call(fe,T)!==!1&&L}}return L&&!T.defaultPrevented}function vh(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=y(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function Hl(u){u.g=vh(()=>{u.g=null,u.i&&(u.i=!1,Hl(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class $e extends M{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Hl(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function nr(u){M.call(this),this.h=u,this.g={}}b(nr,M);var uo=[];function co(u){Lt(u.g,function(m,v){this.g.hasOwnProperty(v)&&Qr(m)},u),u.g={}}nr.prototype.N=function(){nr.Z.N.call(this),co(this)},nr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var is=d.JSON.stringify,Eh=d.JSON.parse,Gl=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function Fl(){}function Ql(){}var Un={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Pe(){N.call(this,"d")}b(Pe,N);function En(){N.call(this,"c")}b(En,N);var he={},Kl=null;function Kr(){return Kl=Kl||new pe}he.Ia="serverreachability";function Yl(u){N.call(this,he.Ia,u)}b(Yl,N);function $n(u){const m=Kr();Ne(m,new Yl(m))}he.STAT_EVENT="statevent";function ir(u,m){N.call(this,he.STAT_EVENT,u),this.stat=m}b(ir,N);function ye(u){const m=Kr();Ne(m,new ir(m,u))}he.Ja="timingevent";function Wn(u,m){N.call(this,he.Ja,u),this.size=m}b(Wn,N);function ti(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function Ln(){this.g=!0}Ln.prototype.ua=function(){this.g=!1};function Th(u,m,v,T,L,j){u.info(function(){if(u.g)if(j){var $="",Tt=j.split("&");for(let zt=0;zt<Tt.length;zt++){var fe=Tt[zt].split("=");if(fe.length>1){const re=fe[0];fe=fe[1];const bn=re.split("_");$=bn.length>=2&&bn[1]=="type"?$+(re+"="+fe+"&"):$+(re+"=redacted&")}}}else $=null;else $=j;return"XMLHTTP REQ ("+T+") [attempt "+L+"]: "+m+`
`+v+`
`+$})}function Xl(u,m,v,T,L,j,$){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+L+"]: "+m+`
`+v+`
`+j+" "+$})}function ei(u,m,v,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Ah(u,v)+(T?" "+T:"")})}function sr(u,m){u.info(function(){return"TIMEOUT: "+m})}Ln.prototype.info=function(){};function Ah(u,m){if(!u.g)return m;if(!m)return null;try{const j=JSON.parse(m);if(j){for(u=0;u<j.length;u++)if(Array.isArray(j[u])){var v=j[u];if(!(v.length<2)){var T=v[1];if(Array.isArray(T)&&!(T.length<1)){var L=T[0];if(L!="noop"&&L!="stop"&&L!="close")for(let $=1;$<T.length;$++)T[$]=""}}}}return is(j)}catch{return m}}var rr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},ho={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},fo;function ar(){}b(ar,Fl),ar.prototype.g=function(){return new XMLHttpRequest},fo=new ar;function Ii(u){return encodeURIComponent(String(u))}function Zl(u){var m=1;u=u.split(":");const v=[];for(;m>0&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function kn(u,m,v,T){this.j=u,this.i=m,this.l=v,this.S=T||1,this.V=new nr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Pn}function Pn(){this.i=null,this.g="",this.h=!1}var _e={},xe={};function ni(u,m,v){u.M=1,u.A=or(Ee(m)),u.u=v,u.R=!0,Yr(u,null)}function Yr(u,m){u.F=Date.now(),ii(u),u.B=Ee(u.A);var v=u.B,T=u.S;Array.isArray(T)||(T=[String(T)]),$r(v.i,"t",T),u.C=0,v=u.j.L,u.h=new Pn,u.g=hu(u.j,v?m:null,!u.u),u.P>0&&(u.O=new $e(y(u.Y,u,u.g),u.P)),m=u.V,v=u.g,T=u.ba;var L="readystatechange";Array.isArray(L)||(L&&(uo[0]=L.toString()),L=uo);for(let j=0;j<L.length;j++){const $=se(v,L[j],T||m.handleEvent,!1,m.h||m);if(!$)break;m.g[$.key]=$}m=u.J?O(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),$n(),Th(u.i,u.v,u.B,u.l,u.S,u.u)}kn.prototype.ba=function(u){u=u.target;const m=this.O;m&&Bn(u)==3?m.j():this.Y(u)},kn.prototype.Y=function(u){try{if(u==this.g)t:{const Tt=Bn(this.g),fe=this.g.ya(),zt=this.g.ca();if(!(Tt<3)&&(Tt!=3||this.g&&(this.h.h||this.g.la()||ze(this.g)))){this.K||Tt!=4||fe==7||(fe==8||zt<=0?$n(3):$n(2)),si(this);var m=this.g.ca();this.X=m;var v=Sh(this);if(this.o=m==200,Xl(this.i,this.v,this.B,this.l,this.S,Tt,m),this.o){if(this.U&&!this.L){e:{if(this.g){var T,L=this.g;if((T=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(T)){var j=T;break e}}j=null}if(u=j)ei(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ri(this,u);else{this.o=!1,this.m=3,ye(12),cn(this),Tn(this);break t}}if(this.R){u=!0;let re;for(;!this.K&&this.C<v.length;)if(re=$l(this,v),re==xe){Tt==4&&(this.m=4,ye(14),u=!1),ei(this.i,this.l,null,"[Incomplete Response]");break}else if(re==_e){this.m=4,ye(15),ei(this.i,this.l,v,"[Invalid Chunk]"),u=!1;break}else ei(this.i,this.l,re,null),ri(this,re);if(Jl(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Tt!=4||v.length!=0||this.h.h||(this.m=1,ye(16),u=!1),this.o=this.o&&u,!u)ei(this.i,this.l,v,"[Invalid Chunked Response]"),cn(this),Tn(this);else if(v.length>0&&!this.W){this.W=!0;var $=this.j;$.g==this&&$.aa&&!$.P&&($.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),Io($),$.P=!0,ye(11))}}else ei(this.i,this.l,v,null),ri(this,v);Tt==4&&cn(this),this.o&&!this.K&&(Tt==4?ou(this.j,this):(this.o=!1,ii(this)))}else Di(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,ye(12)):(this.m=0,ye(13)),cn(this),Tn(this)}}}catch{}finally{}};function Sh(u){if(!Jl(u))return u.g.la();const m=ze(u.g);if(m==="")return"";let v="";const T=m.length,L=Bn(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return cn(u),Tn(u),"";u.h.i=new d.TextDecoder}for(let j=0;j<T;j++)u.h.h=!0,v+=u.h.i.decode(m[j],{stream:!(L&&j==T-1)});return m.length=0,u.h.g+=v,u.C=0,u.h.g}function Jl(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function $l(u,m){var v=u.C,T=m.indexOf(`
`,v);return T==-1?xe:(v=Number(m.substring(v,T)),isNaN(v)?_e:(T+=1,T+v>m.length?xe:(m=m.slice(T,T+v),u.C=T+v,m)))}kn.prototype.cancel=function(){this.K=!0,cn(this)};function ii(u){u.T=Date.now()+u.H,Xr(u,u.H)}function Xr(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=ti(y(u.aa,u),m)}function si(u){u.D&&(d.clearTimeout(u.D),u.D=null)}kn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(sr(this.i,this.B),this.M!=2&&($n(),ye(17)),cn(this),this.m=2,Tn(this)):Xr(this,this.T-u)};function Tn(u){u.j.I==0||u.K||ou(u.j,u)}function cn(u){si(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,co(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function ri(u,m){try{var v=u.j;if(v.I!=0&&(v.g==u||oi(v.h,u))){if(!u.L&&oi(v.h,u)&&v.I==3){try{var T=v.Ba.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var L=T;if(L[0]==0){t:if(!v.v){if(v.g)if(v.g.F+3e3<u.F)ia(v),hs(v);else break t;mr(v),ye(18)}}else v.xa=L[1],0<v.xa-v.K&&L[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=ti(y(v.Va,v),6e3));ai(v.h)<=1&&v.ta&&(v.ta=void 0)}else di(v,11)}else if((u.L||v.g==u)&&ia(v),!R(m))for(L=v.Ba.g.parse(m),m=0;m<L.length;m++){let zt=L[m];const re=zt[0];if(!(re<=v.K))if(v.K=re,zt=zt[1],v.I==2)if(zt[0]=="c"){v.M=zt[1],v.ba=zt[2];const bn=zt[3];bn!=null&&(v.ka=bn,v.j.info("VER="+v.ka));const mi=zt[4];mi!=null&&(v.za=mi,v.j.info("SVER="+v.za));const qn=zt[5];qn!=null&&typeof qn=="number"&&qn>0&&(T=1.5*qn,v.O=T,v.j.info("backChannelRequestTimeoutMs_="+T)),T=v;const Hn=u.g;if(Hn){const gr=Hn.g?Hn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(gr){var j=T.h;j.g||gr.indexOf("spdy")==-1&&gr.indexOf("quic")==-1&&gr.indexOf("h2")==-1||(j.j=j.l,j.g=new Set,j.h&&(po(j,j.h),j.h=null))}if(T.G){const sa=Hn.g?Hn.g.getResponseHeader("X-HTTP-Session-Id"):null;sa&&(T.wa=sa,Gt(T.J,T.G,sa))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-u.F,v.j.info("Handshake RTT: "+v.T+"ms")),T=v;var $=u;if(T.na=cu(T,T.L?T.ba:null,T.W),$.L){yo(T.h,$);var Tt=$,fe=T.O;fe&&(Tt.H=fe),Tt.D&&(si(Tt),ii(Tt)),T.g=$}else ru(T);v.i.length>0&&fi(v)}else zt[0]!="stop"&&zt[0]!="close"||di(v,7);else v.I==3&&(zt[0]=="stop"||zt[0]=="close"?zt[0]=="stop"?di(v,7):Ro(v):zt[0]!="noop"&&v.l&&v.l.qa(zt),v.A=0)}}$n(4)}catch{}}var ve=class{constructor(u,m){this.g=u,this.map=m}};function mo(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function go(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function ai(u){return u.h?1:u.g?u.g.size:0}function oi(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function po(u,m){u.g?u.g.add(m):u.h=m}function yo(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}mo.prototype.cancel=function(){if(this.i=_o(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function _o(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.G);return m}return K(u.i)}var Wl=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Zr(u,m){if(u){u=u.split("&");for(let v=0;v<u.length;v++){const T=u[v].indexOf("=");let L,j=null;T>=0?(L=u[v].substring(0,T),j=u[v].substring(T+1)):L=u[v],m(L,j?decodeURIComponent(j.replace(/\+/g," ")):"")}}}function hn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof hn?(this.l=u.l,Ue(this,u.j),this.o=u.o,this.g=u.g,ss(this,u.u),this.h=u.h,vo(this,iu(u.i)),this.m=u.m):u&&(m=String(u).match(Wl))?(this.l=!1,Ue(this,m[1]||"",!0),this.o=li(m[2]||""),this.g=li(m[3]||"",!0),ss(this,m[4]),this.h=li(m[5]||"",!0),vo(this,m[6]||"",!0),this.m=li(m[7]||"")):(this.l=!1,this.i=new as(null,this.l))}hn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(lr(m,Jr,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(lr(m,Jr,!0),"@"),u.push(Ii(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&u.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(lr(v,v.charAt(0)=="/"?Eo:tu,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",lr(v,eu)),u.join("")},hn.prototype.resolve=function(u){const m=Ee(this);let v=!!u.j;v?Ue(m,u.j):v=!!u.o,v?m.o=u.o:v=!!u.g,v?m.g=u.g:v=u.u!=null;var T=u.h;if(v)ss(m,u.u);else if(v=!!u.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var L=m.h.lastIndexOf("/");L!=-1&&(T=m.h.slice(0,L+1)+T)}if(L=T,L==".."||L==".")T="";else if(L.indexOf("./")!=-1||L.indexOf("/.")!=-1){T=L.lastIndexOf("/",0)==0,L=L.split("/");const j=[];for(let $=0;$<L.length;){const Tt=L[$++];Tt=="."?T&&$==L.length&&j.push(""):Tt==".."?((j.length>1||j.length==1&&j[0]!="")&&j.pop(),T&&$==L.length&&j.push("")):(j.push(Tt),T=!0)}T=j.join("/")}else T=L}return v?m.h=T:v=u.i.toString()!=="",v?vo(m,iu(u.i)):v=!!u.m,v&&(m.m=u.m),m};function Ee(u){return new hn(u)}function Ue(u,m,v){u.j=v?li(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function ss(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function vo(u,m,v){m instanceof as?(u.i=m,Wr(u.i,u.l)):(v||(m=lr(m,rs)),u.i=new as(m,u.l))}function Gt(u,m,v){u.i.set(m,v)}function or(u){return Gt(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function li(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function lr(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,en),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function en(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Jr=/[#\/\?@]/g,tu=/[#\?:]/g,Eo=/[#\?]/g,rs=/[#\?@]/g,eu=/#/g;function as(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function nn(u){u.g||(u.g=new Map,u.h=0,u.i&&Zr(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}a=as.prototype,a.add=function(u,m){nn(this),this.i=null,u=os(this,u);let v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function nu(u,m){nn(u),m=os(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function To(u,m){return nn(u),m=os(u,m),u.g.has(m)}a.forEach=function(u,m){nn(this),this.g.forEach(function(v,T){v.forEach(function(L){u.call(m,L,T,this)},this)},this)};function Ao(u,m){nn(u);let v=[];if(typeof m=="string")To(u,m)&&(v=v.concat(u.g.get(os(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)v=v.concat(u[m]);return v}a.set=function(u,m){return nn(this),this.i=null,u=os(this,u),To(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},a.get=function(u,m){return u?(u=Ao(this,u),u.length>0?String(u[0]):m):m};function $r(u,m,v){nu(u,m),v.length>0&&(u.i=null,u.g.set(os(u,m),K(v)),u.h+=v.length)}a.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let T=0;T<m.length;T++){var v=m[T];const L=Ii(v);v=Ao(this,v);for(let j=0;j<v.length;j++){let $=L;v[j]!==""&&($+="="+Ii(v[j])),u.push($)}}return this.i=u.join("&")};function iu(u){const m=new as;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function os(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function Wr(u,m){m&&!u.j&&(nn(u),u.i=null,u.g.forEach(function(v,T){const L=T.toLowerCase();T!=L&&(nu(this,T),$r(this,L,v))},u)),u.j=m}function zn(u,m){const v=new Ln;if(d.Image){const T=new Image;T.onload=A(An,v,"TestLoadImage: loaded",!0,m,T),T.onerror=A(An,v,"TestLoadImage: error",!1,m,T),T.onabort=A(An,v,"TestLoadImage: abort",!1,m,T),T.ontimeout=A(An,v,"TestLoadImage: timeout",!1,m,T),d.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function So(u,m){const v=new Ln,T=new AbortController,L=setTimeout(()=>{T.abort(),An(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(j=>{clearTimeout(L),j.ok?An(v,"TestPingServer: ok",!0,m):An(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),An(v,"TestPingServer: error",!1,m)})}function An(u,m,v,T,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),T(v)}catch{}}function ls(){this.g=new Gl}function ui(u){this.i=u.Sb||null,this.h=u.ab||!1}b(ui,Fl),ui.prototype.g=function(){return new ur(this.i,this.h)};function ur(u,m){pe.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}b(ur,pe),a=ur.prototype,a.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,jn(this)},a.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},a.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,us(this)),this.readyState=0},a.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,jn(this)),this.g&&(this.readyState=3,jn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ta(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function ta(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}a.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?us(this):jn(this),this.readyState==3&&ta(this)}},a.Oa=function(u){this.g&&(this.response=this.responseText=u,us(this))},a.Na=function(u){this.g&&(this.response=u,us(this))},a.ga=function(){this.g&&us(this)};function us(u){u.readyState=4,u.l=null,u.j=null,u.B=null,jn(u)}a.setRequestHeader=function(u,m){this.A.append(u,m)},a.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},a.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function jn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(ur.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Sn(u){let m="";return Lt(u,function(v,T){m+=T,m+=":",m+=v,m+=`\r
`}),m}function cr(u,m,v){t:{for(T in v){var T=!1;break t}T=!0}T||(v=Sn(v),typeof u=="string"?v!=null&&Ii(v):Gt(u,m,v))}function Kt(u){pe.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}b(Kt,pe);var ci=/^https?$/i,bo=["POST","PUT"];a=Kt.prototype,a.Fa=function(u){this.H=u},a.ea=function(u,m,v,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():fo.g(),this.g.onreadystatechange=U(y(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(j){hr(this,j);return}if(u=v||"",v=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var L in T)v.set(L,T[L]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const j of T.keys())v.set(j,T.get(j));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(v.keys()).find(j=>j.toLowerCase()=="content-type"),L=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(bo,m,void 0)>=0)||T||L||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[j,$]of v)this.g.setRequestHeader(j,$);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(j){hr(this,j)}};function hr(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,wo(u),Ni(u)}function wo(u){u.A||(u.A=!0,Ne(u,"complete"),Ne(u,"error"))}a.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,Ne(this,"complete"),Ne(this,"abort"),Ni(this))},a.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ni(this,!0)),Kt.Z.N.call(this)},a.Ca=function(){this.u||(this.B||this.v||this.j?fr(this):this.Xa())},a.Xa=function(){fr(this)};function fr(u){if(u.h&&typeof c<"u"){if(u.v&&Bn(u)==4)setTimeout(u.Ca.bind(u),0);else if(Ne(u,"readystatechange"),Bn(u)==4){u.h=!1;try{const j=u.ca();t:switch(j){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var v;if(!(v=m)){var T;if(T=j===0){let $=String(u.D).match(Wl)[1]||null;!$&&d.self&&d.self.location&&($=d.self.location.protocol.slice(0,-1)),T=!ci.test($?$.toLowerCase():"")}v=T}if(v)Ne(u,"complete"),Ne(u,"success");else{u.o=6;try{var L=Bn(u)>2?u.g.statusText:""}catch{L=""}u.l=L+" ["+u.ca()+"]",wo(u)}}finally{Ni(u)}}}}function Ni(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const v=u.g;u.g=null,m||Ne(u,"ready");try{v.onreadystatechange=null}catch{}}}a.isActive=function(){return!!this.g};function Bn(u){return u.g?u.g.readyState:0}a.ca=function(){try{return Bn(this)>2?this.g.status:-1}catch{return-1}},a.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},a.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Eh(m)}};function ze(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Di(u){const m={};u=(u.g&&Bn(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(R(u[T]))continue;var v=Zl(u[T]);const L=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const j=m[L]||[];m[L]=j,j.push(v)}Ht(m,function(T){return T.join(", ")})}a.ya=function(){return this.o},a.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function hi(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function cs(u){this.za=0,this.i=[],this.j=new Ln,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=hi("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=hi("baseRetryDelayMs",5e3,u),this.Za=hi("retryDelaySeedMs",1e4,u),this.Ta=hi("forwardChannelMaxRetries",2,u),this.va=hi("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new mo(u&&u.concurrentRequestLimit),this.Ba=new ls,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}a=cs.prototype,a.ka=8,a.I=1,a.connect=function(u,m,v,T){ye(0),this.W=u,this.H=m||{},v&&T!==void 0&&(this.H.OSID=v,this.H.OAID=T),this.F=this.X,this.J=cu(this,null,this.W),fi(this)};function Ro(u){if(ea(u),u.I==3){var m=u.V++,v=Ee(u.J);if(Gt(v,"SID",u.M),Gt(v,"RID",m),Gt(v,"TYPE","terminate"),dr(u,v),m=new kn(u,u.j,m),m.M=2,m.A=or(Ee(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=hu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),ii(m)}uu(u)}function hs(u){u.g&&(Io(u),u.g.cancel(),u.g=null)}function ea(u){hs(u),u.v&&(d.clearTimeout(u.v),u.v=null),ia(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function fi(u){if(!go(u.h)&&!u.m){u.m=!0;var m=u.Ea;Jt||S(),Mt||(Jt(),Mt=!0),I.add(m,u),u.D=0}}function na(u,m){return ai(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=ti(y(u.Ea,u,m),lu(u,u.D)),u.D++,!0)}a.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const L=new kn(this,this.j,u);let j=this.o;if(this.U&&(j?(j=O(j),et(j,this.U)):j=this.U),this.u!==null||this.R||(L.J=j,j=null),this.S)t:{for(var m=0,v=0;v<this.i.length;v++){e:{var T=this.i[v];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,m>4096){m=v;break t}if(m===4096||v===this.i.length-1){m=v+1;break t}}m=1e3}else m=1e3;m=su(this,L,m),v=Ee(this.J),Gt(v,"RID",u),Gt(v,"CVER",22),this.G&&Gt(v,"X-HTTP-Session-Id",this.G),dr(this,v),j&&(this.R?m="headers="+Ii(Sn(j))+"&"+m:this.u&&cr(v,this.u,j)),po(this.h,L),this.Ra&&Gt(v,"TYPE","init"),this.S?(Gt(v,"$req",m),Gt(v,"SID","null"),L.U=!0,ni(L,v,null)):ni(L,v,m),this.I=2}}else this.I==3&&(u?Co(this,u):this.i.length==0||go(this.h)||Co(this))};function Co(u,m){var v;m?v=m.l:v=u.V++;const T=Ee(u.J);Gt(T,"SID",u.M),Gt(T,"RID",v),Gt(T,"AID",u.K),dr(u,T),u.u&&u.o&&cr(T,u.u,u.o),v=new kn(u,u.j,v,u.D+1),u.u===null&&(v.J=u.o),m&&(u.i=m.G.concat(u.i)),m=su(u,v,1e3),v.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),po(u.h,v),ni(v,T,m)}function dr(u,m){u.H&&Lt(u.H,function(v,T){Gt(m,T,v)}),u.l&&Lt({},function(v,T){Gt(m,T,v)})}function su(u,m,v){v=Math.min(u.i.length,v);const T=u.l?y(u.l.Ka,u.l,u):null;t:{var L=u.i;let Tt=-1;for(;;){const fe=["count="+v];Tt==-1?v>0?(Tt=L[0].g,fe.push("ofs="+Tt)):Tt=0:fe.push("ofs="+Tt);let zt=!0;for(let re=0;re<v;re++){var j=L[re].g;const bn=L[re].map;if(j-=Tt,j<0)Tt=Math.max(0,L[re].g-100),zt=!1;else try{j="req"+j+"_"||"";try{var $=bn instanceof Map?bn:Object.entries(bn);for(const[mi,qn]of $){let Hn=qn;p(qn)&&(Hn=is(qn)),fe.push(j+mi+"="+encodeURIComponent(Hn))}}catch(mi){throw fe.push(j+"type="+encodeURIComponent("_badmap")),mi}}catch{T&&T(bn)}}if(zt){$=fe.join("&");break t}}$=void 0}return u=u.i.splice(0,v),m.G=u,$}function ru(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;Jt||S(),Mt||(Jt(),Mt=!0),I.add(m,u),u.A=0}}function mr(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=ti(y(u.Da,u),lu(u,u.A)),u.A++,!0)}a.Da=function(){if(this.v=null,au(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=ti(y(this.Wa,this),u)}},a.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,ye(10),hs(this),au(this))};function Io(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function au(u){u.g=new kn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=Ee(u.na);Gt(m,"RID","rpc"),Gt(m,"SID",u.M),Gt(m,"AID",u.K),Gt(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Gt(m,"TO",u.ia),Gt(m,"TYPE","xmlhttp"),dr(u,m),u.u&&u.o&&cr(m,u.u,u.o),u.O&&(u.g.H=u.O);var v=u.g;u=u.ba,v.M=1,v.A=or(Ee(m)),v.u=null,v.R=!0,Yr(v,u)}a.Va=function(){this.C!=null&&(this.C=null,hs(this),mr(this),ye(19))};function ia(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function ou(u,m){var v=null;if(u.g==m){ia(u),Io(u),u.g=null;var T=2}else if(oi(u.h,m))v=m.G,yo(u.h,m),T=1;else return;if(u.I!=0){if(m.o)if(T==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var L=u.D;T=Kr(),Ne(T,new Wn(T,v)),fi(u)}else ru(u);else if(L=m.m,L==3||L==0&&m.X>0||!(T==1&&na(u,m)||T==2&&mr(u)))switch(v&&v.length>0&&(m=u.h,m.i=m.i.concat(v)),L){case 1:di(u,5);break;case 4:di(u,10);break;case 3:di(u,6);break;default:di(u,2)}}}function lu(u,m){let v=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(v*=2),v*m}function di(u,m){if(u.j.info("Error code "+m),m==2){var v=y(u.bb,u),T=u.Ua;const L=!T;T=new hn(T||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Ue(T,"https"),or(T),L?zn(T.toString(),v):So(T.toString(),v)}else ye(2);u.I=0,u.l&&u.l.pa(m),uu(u),ea(u)}a.bb=function(u){u?(this.j.info("Successfully pinged google.com"),ye(2)):(this.j.info("Failed to ping google.com"),ye(1))};function uu(u){if(u.I=0,u.ja=[],u.l){const m=_o(u.h);(m.length!=0||u.i.length!=0)&&(W(u.ja,m),W(u.ja,u.i),u.h.i.length=0,K(u.i),u.i.length=0),u.l.oa()}}function cu(u,m,v){var T=v instanceof hn?Ee(v):new hn(v);if(T.g!="")m&&(T.g=m+"."+T.g),ss(T,T.u);else{var L=d.location;T=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;const j=new hn(null);T&&Ue(j,T),m&&(j.g=m),L&&ss(j,L),v&&(j.h=v),T=j}return v=u.G,m=u.wa,v&&m&&Gt(T,v,m),Gt(T,"VER",u.ka),dr(u,T),T}function hu(u,m,v){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new Kt(new ui({ab:v})):new Kt(u.ma),m.Fa(u.L),m}a.isActive=function(){return!!this.l&&this.l.isActive(this)};function fu(){}a=fu.prototype,a.ra=function(){},a.qa=function(){},a.pa=function(){},a.oa=function(){},a.isActive=function(){return!0},a.Ka=function(){};function fs(){}fs.prototype.g=function(u,m){return new We(u,m)};function We(u,m){pe.call(this),this.g=new cs(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!R(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!R(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Oi(this)}b(We,pe),We.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},We.prototype.close=function(){Ro(this.g)},We.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.v&&(v={},v.__data__=is(u),u=v);m.i.push(new ve(m.Ya++,u)),m.I==3&&fi(m)},We.prototype.N=function(){this.g.l=null,delete this.j,Ro(this.g),delete this.g,We.Z.N.call(this)};function du(u){Pe.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const v in m){u=v;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}b(du,Pe);function mu(){En.call(this),this.status=1}b(mu,En);function Oi(u){this.g=u}b(Oi,fu),Oi.prototype.ra=function(){Ne(this.g,"a")},Oi.prototype.qa=function(u){Ne(this.g,new du(u))},Oi.prototype.pa=function(u){Ne(this.g,new mu)},Oi.prototype.oa=function(){Ne(this.g,"b")},fs.prototype.createWebChannel=fs.prototype.g,We.prototype.send=We.prototype.o,We.prototype.open=We.prototype.m,We.prototype.close=We.prototype.close,eE=function(){return new fs},tE=function(){return Kr()},W0=he,Fd={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},rr.NO_ERROR=0,rr.TIMEOUT=8,rr.HTTP_ERROR=6,Ic=rr,ho.COMPLETE="complete",$0=ho,Ql.EventType=Un,Un.OPEN="a",Un.CLOSE="b",Un.ERROR="c",Un.MESSAGE="d",pe.prototype.listen=pe.prototype.J,ml=Ql,Kt.prototype.listenOnce=Kt.prototype.K,Kt.prototype.getLastError=Kt.prototype.Ha,Kt.prototype.getLastErrorCode=Kt.prototype.ya,Kt.prototype.getStatus=Kt.prototype.ca,Kt.prototype.getResponseJson=Kt.prototype.La,Kt.prototype.getResponseText=Kt.prototype.la,Kt.prototype.send=Kt.prototype.ea,Kt.prototype.setWithCredentials=Kt.prototype.Fa,J0=Kt}).apply(typeof vc<"u"?vc:typeof self<"u"?self:typeof window<"u"?window:{});const tv="@firebase/firestore",ev="4.9.2";let Xe=class{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}};Xe.UNAUTHENTICATED=new Xe(null),Xe.GOOGLE_CREDENTIALS=new Xe("google-credentials-uid"),Xe.FIRST_PARTY=new Xe("first-party-uid"),Xe.MOCK_USER=new Xe("mock-user");let no="12.3.0";const Pr=new lm("@firebase/firestore");function Ua(){return Pr.logLevel}function it(a,...t){if(Pr.logLevel<=Nt.DEBUG){const i=t.map(_m);Pr.debug(`Firestore (${no}): ${a}`,...i)}}function Wi(a,...t){if(Pr.logLevel<=Nt.ERROR){const i=t.map(_m);Pr.error(`Firestore (${no}): ${a}`,...i)}}function Ka(a,...t){if(Pr.logLevel<=Nt.WARN){const i=t.map(_m);Pr.warn(`Firestore (${no}): ${a}`,...i)}}function _m(a){if(typeof a=="string")return a;try{return(function(i){return JSON.stringify(i)})(a)}catch{return a}}function mt(a,t,i){let r="Unexpected state";typeof t=="string"?r=t:i=t,nE(a,r,i)}function nE(a,t,i){let r=`FIRESTORE (${no}) INTERNAL ASSERTION FAILED: ${t} (ID: ${a.toString(16)})`;if(i!==void 0)try{r+=" CONTEXT: "+JSON.stringify(i)}catch{r+=" CONTEXT: "+i}throw Wi(r),new Error(r)}function qt(a,t,i,r){let l="Unexpected state";typeof i=="string"?l=i:r=i,a||nE(t,l,r)}function Et(a,t){return a}const Z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ot extends es{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Vr{constructor(){this.promise=new Promise(((t,i)=>{this.resolve=t,this.reject=i}))}}class iE{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class Jw{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable((()=>i(Xe.UNAUTHENTICATED)))}shutdown(){}}class $w{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class Ww{constructor(t){this.t=t,this.currentUser=Xe.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){qt(this.o===void 0,42304);let r=this.i;const l=_=>this.i!==r?(r=this.i,i(_)):Promise.resolve();let c=new Vr;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Vr,t.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const _=c;t.enqueueRetryable((async()=>{await _.promise,await l(this.currentUser)}))},p=_=>{it("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((_=>p(_))),setTimeout((()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?p(_):(it("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Vr)}}),0),d()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((r=>this.i!==t?(it("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(qt(typeof r.accessToken=="string",31837,{l:r}),new iE(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return qt(t===null||typeof t=="string",2055,{h:t}),new Xe(t)}}class tR{constructor(t,i,r){this.P=t,this.T=i,this.I=r,this.type="FirstParty",this.user=Xe.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class eR{constructor(t,i,r){this.P=t,this.T=i,this.I=r}getToken(){return Promise.resolve(new tR(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable((()=>i(Xe.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class nv{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class nR{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Kn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){qt(this.o===void 0,3512);const r=c=>{c.error!=null&&it("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,it("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable((()=>r(c)))};const l=c=>{it("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):it("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new nv(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((i=>i?(qt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new nv(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function iR(a){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(a);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let r=0;r<a;r++)i[r]=Math.floor(256*Math.random());return i}class vm{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const l=iR(40);for(let c=0;c<l.length;++c)r.length<20&&l[c]<i&&(r+=t.charAt(l[c]%62))}return r}}function Dt(a,t){return a<t?-1:a>t?1:0}function Qd(a,t){const i=Math.min(a.length,t.length);for(let r=0;r<i;r++){const l=a.charAt(r),c=t.charAt(r);if(l!==c)return Od(l)===Od(c)?Dt(l,c):Od(l)?1:-1}return Dt(a.length,t.length)}const sR=55296,rR=57343;function Od(a){const t=a.charCodeAt(0);return t>=sR&&t<=rR}function Ya(a,t,i){return a.length===t.length&&a.every(((r,l)=>i(r,t[l])))}const iv="__name__";class vi{constructor(t,i,r){i===void 0?i=0:i>t.length&&mt(637,{offset:i,range:t.length}),r===void 0?r=t.length-i:r>t.length-i&&mt(1746,{length:r,range:t.length-i}),this.segments=t,this.offset=i,this.len=r}get length(){return this.len}isEqual(t){return vi.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof vi?t.forEach((r=>{i.push(r)})):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,r=this.limit();i<r;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const r=Math.min(t.length,i.length);for(let l=0;l<r;l++){const c=vi.compareSegments(t.get(l),i.get(l));if(c!==0)return c}return Dt(t.length,i.length)}static compareSegments(t,i){const r=vi.isNumericId(t),l=vi.isNumericId(i);return r&&!l?-1:!r&&l?1:r&&l?vi.extractNumericId(t).compare(vi.extractNumericId(i)):Qd(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Fs.fromString(t.substring(4,t.length-2))}}class ee extends vi{construct(t,i,r){return new ee(t,i,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const r of t){if(r.indexOf("//")>=0)throw new ot(Z.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);i.push(...r.split("/").filter((l=>l.length>0)))}return new ee(i)}static emptyPath(){return new ee([])}}const aR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Fe extends vi{construct(t,i,r){return new Fe(t,i,r)}static isValidIdentifier(t){return aR.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Fe.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===iv}static keyField(){return new Fe([iv])}static fromServerFormat(t){const i=[];let r="",l=0;const c=()=>{if(r.length===0)throw new ot(Z.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(r),r=""};let d=!1;for(;l<t.length;){const p=t[l];if(p==="\\"){if(l+1===t.length)throw new ot(Z.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const _=t[l+1];if(_!=="\\"&&_!=="."&&_!=="`")throw new ot(Z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=_,l+=2}else p==="`"?(d=!d,l++):p!=="."||d?(r+=p,l++):(c(),l++)}if(c(),d)throw new ot(Z.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Fe(i)}static emptyPath(){return new Fe([])}}class ct{constructor(t){this.path=t}static fromPath(t){return new ct(ee.fromString(t))}static fromName(t){return new ct(ee.fromString(t).popFirst(5))}static empty(){return new ct(ee.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ee.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return ee.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new ct(new ee(t.slice()))}}function sE(a,t,i){if(!i)throw new ot(Z.INVALID_ARGUMENT,`Function ${a}() cannot be called with an empty ${t}.`)}function oR(a,t,i,r){if(t===!0&&r===!0)throw new ot(Z.INVALID_ARGUMENT,`${a} and ${i} cannot be used together.`)}function sv(a){if(!ct.isDocumentKey(a))throw new ot(Z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${a} has ${a.length}.`)}function rv(a){if(ct.isDocumentKey(a))throw new ot(Z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${a} has ${a.length}.`)}function rE(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}function Em(a){if(a===void 0)return"undefined";if(a===null)return"null";if(typeof a=="string")return a.length>20&&(a=`${a.substring(0,20)}...`),JSON.stringify(a);if(typeof a=="number"||typeof a=="boolean")return""+a;if(typeof a=="object"){if(a instanceof Array)return"an array";{const t=(function(r){return r.constructor?r.constructor.name:null})(a);return t?`a custom ${t} object`:"an object"}}return typeof a=="function"?"a function":mt(12329,{type:typeof a})}function Ha(a,t){if("_delegate"in a&&(a=a._delegate),!(a instanceof t)){if(t.name===a.constructor.name)throw new ot(Z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Em(a);throw new ot(Z.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return a}function Re(a,t){const i={typeString:a};return t&&(i.value=t),i}function Pl(a,t){if(!rE(a))throw new ot(Z.INVALID_ARGUMENT,"JSON must be an object");let i;for(const r in t)if(t[r]){const l=t[r].typeString,c="value"in t[r]?{value:t[r].value}:void 0;if(!(r in a)){i=`JSON missing required field: '${r}'`;break}const d=a[r];if(l&&typeof d!==l){i=`JSON field '${r}' must be a ${l}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${r}' field to equal '${c.value}'`;break}}if(i)throw new ot(Z.INVALID_ARGUMENT,i);return!0}const av=-62135596800,ov=1e6;class ne{static now(){return ne.fromMillis(Date.now())}static fromDate(t){return ne.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),r=Math.floor((t-1e3*i)*ov);return new ne(i,r)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new ot(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ot(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<av)throw new ot(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ot(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/ov}_compareTo(t){return this.seconds===t.seconds?Dt(this.nanoseconds,t.nanoseconds):Dt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ne._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Pl(t,ne._jsonSchema))return new ne(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-av;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ne._jsonSchemaVersion="firestore/timestamp/1.0",ne._jsonSchema={type:Re("string",ne._jsonSchemaVersion),seconds:Re("number"),nanoseconds:Re("number")};class _t{static fromTimestamp(t){return new _t(t)}static min(){return new _t(new ne(0,0))}static max(){return new _t(new ne(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Rl=-1;function lR(a,t){const i=a.toTimestamp().seconds,r=a.toTimestamp().nanoseconds+1,l=_t.fromTimestamp(r===1e9?new ne(i+1,0):new ne(i,r));return new Ys(l,ct.empty(),t)}function uR(a){return new Ys(a.readTime,a.key,Rl)}class Ys{constructor(t,i,r){this.readTime=t,this.documentKey=i,this.largestBatchId=r}static min(){return new Ys(_t.min(),ct.empty(),Rl)}static max(){return new Ys(_t.max(),ct.empty(),Rl)}}function cR(a,t){let i=a.readTime.compareTo(t.readTime);return i!==0?i:(i=ct.comparator(a.documentKey,t.documentKey),i!==0?i:Dt(a.largestBatchId,t.largestBatchId))}const hR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class fR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function io(a){if(a.code!==Z.FAILED_PRECONDITION||a.message!==hR)throw a;it("LocalStore","Unexpectedly lost primary lease")}class X{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&mt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new X(((r,l)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(r,l)},this.catchCallback=c=>{this.wrapFailure(i,c).next(r,l)}}))}toPromise(){return new Promise(((t,i)=>{this.next(t,i)}))}wrapUserFunction(t){try{const i=t();return i instanceof X?i:X.resolve(i)}catch(i){return X.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction((()=>t(i))):X.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction((()=>t(i))):X.reject(i)}static resolve(t){return new X(((i,r)=>{i(t)}))}static reject(t){return new X(((i,r)=>{r(t)}))}static waitFor(t){return new X(((i,r)=>{let l=0,c=0,d=!1;t.forEach((p=>{++l,p.next((()=>{++c,d&&c===l&&i()}),(_=>r(_)))})),d=!0,c===l&&i()}))}static or(t){let i=X.resolve(!1);for(const r of t)i=i.next((l=>l?X.resolve(l):r()));return i}static forEach(t,i){const r=[];return t.forEach(((l,c)=>{r.push(i.call(this,l,c))})),this.waitFor(r)}static mapArray(t,i){return new X(((r,l)=>{const c=t.length,d=new Array(c);let p=0;for(let _=0;_<c;_++){const y=_;i(t[y]).next((A=>{d[y]=A,++p,p===c&&r(d)}),(A=>l(A)))}}))}static doWhile(t,i){return new X(((r,l)=>{const c=()=>{t()===!0?i().next((()=>{c()}),l):r()};c()}))}}function dR(a){const t=a.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function so(a){return a.name==="IndexedDbTransactionError"}class rh{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>i.writeSequenceNumber(r))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}rh.ce=-1;const Tm=-1;function ah(a){return a==null}function qc(a){return a===0&&1/a==-1/0}function mR(a){return typeof a=="number"&&Number.isInteger(a)&&!qc(a)&&a<=Number.MAX_SAFE_INTEGER&&a>=Number.MIN_SAFE_INTEGER}const aE="";function gR(a){let t="";for(let i=0;i<a.length;i++)t.length>0&&(t=lv(t)),t=pR(a.get(i),t);return lv(t)}function pR(a,t){let i=t;const r=a.length;for(let l=0;l<r;l++){const c=a.charAt(l);switch(c){case"\0":i+="";break;case aE:i+="";break;default:i+=c}}return i}function lv(a){return a+aE+""}function uv(a){let t=0;for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&t++;return t}function jr(a,t){for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&t(i,a[i])}function oE(a){for(const t in a)if(Object.prototype.hasOwnProperty.call(a,t))return!1;return!0}class le{constructor(t,i){this.comparator=t,this.root=i||Ge.EMPTY}insert(t,i){return new le(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,Ge.BLACK,null,null))}remove(t){return new le(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ge.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(r===0)return i.value;r<0?i=i.left:r>0&&(i=i.right)}return null}indexOf(t){let i=0,r=this.root;for(;!r.isEmpty();){const l=this.comparator(t,r.key);if(l===0)return i+r.left.size;l<0?r=r.left:(i+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((i,r)=>(t(i,r),!1)))}toString(){const t=[];return this.inorderTraversal(((i,r)=>(t.push(`${i}:${r}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Ec(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Ec(this.root,t,this.comparator,!1)}getReverseIterator(){return new Ec(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Ec(this.root,t,this.comparator,!0)}}class Ec{constructor(t,i,r,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=i?r(t.key,i):1,i&&l&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Ge{constructor(t,i,r,l,c){this.key=t,this.value=i,this.color=r??Ge.RED,this.left=l??Ge.EMPTY,this.right=c??Ge.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,r,l,c){return new Ge(t??this.key,i??this.value,r??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,r){let l=this;const c=r(t,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(t,i,r),null):c===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(t,i,r)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Ge.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let r,l=this;if(i(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(t,l.key)===0){if(l.right.isEmpty())return Ge.EMPTY;r=l.right.min(),l=l.copy(r.key,r.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Ge.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Ge.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw mt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw mt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw mt(27949);return t+(this.isRed()?0:1)}}Ge.EMPTY=null,Ge.RED=!0,Ge.BLACK=!1;Ge.EMPTY=new class{constructor(){this.size=0}get key(){throw mt(57766)}get value(){throw mt(16141)}get color(){throw mt(16727)}get left(){throw mt(29726)}get right(){throw mt(36894)}copy(t,i,r,l,c){return this}insert(t,i,r){return new Ge(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ve{constructor(t){this.comparator=t,this.data=new le(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((i,r)=>(t(i),!1)))}forEachInRange(t,i){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const l=r.getNext();if(this.comparator(l.key,t[1])>=0)return;i(l.key)}}forEachWhile(t,i){let r;for(r=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new cv(this.data.getIterator())}getIteratorFrom(t){return new cv(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach((r=>{i=i.add(r)})),i}isEqual(t){if(!(t instanceof Ve)||this.size!==t.size)return!1;const i=this.data.getIterator(),r=t.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=r.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((i=>{t.push(i)})),t}toString(){const t=[];return this.forEach((i=>t.push(i))),"SortedSet("+t.toString()+")"}copy(t){const i=new Ve(this.comparator);return i.data=t,i}}class cv{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Xn{constructor(t){this.fields=t,t.sort(Fe.comparator)}static empty(){return new Xn([])}unionWith(t){let i=new Ve(Fe.comparator);for(const r of this.fields)i=i.add(r);for(const r of t)i=i.add(r);return new Xn(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return Ya(this.fields,t.fields,((i,r)=>i.isEqual(r)))}}class lE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Qe{constructor(t){this.binaryString=t}static fromBase64String(t){const i=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new lE("Invalid base64 string: "+c):c}})(t);return new Qe(i)}static fromUint8Array(t){const i=(function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c})(t);return new Qe(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const r=new Uint8Array(i.length);for(let l=0;l<i.length;l++)r[l]=i.charCodeAt(l);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Dt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Qe.EMPTY_BYTE_STRING=new Qe("");const yR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Xs(a){if(qt(!!a,39018),typeof a=="string"){let t=0;const i=yR.exec(a);if(qt(!!i,46558,{timestamp:a}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),t=Number(l)}const r=new Date(a);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:ge(a.seconds),nanos:ge(a.nanos)}}function ge(a){return typeof a=="number"?a:typeof a=="string"?Number(a):0}function Zs(a){return typeof a=="string"?Qe.fromBase64String(a):Qe.fromUint8Array(a)}const uE="server_timestamp",cE="__type__",hE="__previous_value__",fE="__local_write_time__";function Am(a){return(a?.mapValue?.fields||{})[cE]?.stringValue===uE}function oh(a){const t=a.mapValue.fields[hE];return Am(t)?oh(t):t}function Cl(a){const t=Xs(a.mapValue.fields[fE].timestampValue);return new ne(t.seconds,t.nanos)}class _R{constructor(t,i,r,l,c,d,p,_,y,A){this.databaseId=t,this.appId=i,this.persistenceKey=r,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=_,this.useFetchStreams=y,this.isUsingEmulator=A}}const Hc="(default)";class Il{constructor(t,i){this.projectId=t,this.database=i||Hc}static empty(){return new Il("","")}get isDefaultDatabase(){return this.database===Hc}isEqual(t){return t instanceof Il&&t.projectId===this.projectId&&t.database===this.database}}const dE="__type__",vR="__max__",Tc={mapValue:{}},mE="__vector__",Gc="value";function Js(a){return"nullValue"in a?0:"booleanValue"in a?1:"integerValue"in a||"doubleValue"in a?2:"timestampValue"in a?3:"stringValue"in a?5:"bytesValue"in a?6:"referenceValue"in a?7:"geoPointValue"in a?8:"arrayValue"in a?9:"mapValue"in a?Am(a)?4:TR(a)?9007199254740991:ER(a)?10:11:mt(28295,{value:a})}function Ri(a,t){if(a===t)return!0;const i=Js(a);if(i!==Js(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return a.booleanValue===t.booleanValue;case 4:return Cl(a).isEqual(Cl(t));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=Xs(l.timestampValue),p=Xs(c.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos})(a,t);case 5:return a.stringValue===t.stringValue;case 6:return(function(l,c){return Zs(l.bytesValue).isEqual(Zs(c.bytesValue))})(a,t);case 7:return a.referenceValue===t.referenceValue;case 8:return(function(l,c){return ge(l.geoPointValue.latitude)===ge(c.geoPointValue.latitude)&&ge(l.geoPointValue.longitude)===ge(c.geoPointValue.longitude)})(a,t);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return ge(l.integerValue)===ge(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=ge(l.doubleValue),p=ge(c.doubleValue);return d===p?qc(d)===qc(p):isNaN(d)&&isNaN(p)}return!1})(a,t);case 9:return Ya(a.arrayValue.values||[],t.arrayValue.values||[],Ri);case 10:case 11:return(function(l,c){const d=l.mapValue.fields||{},p=c.mapValue.fields||{};if(uv(d)!==uv(p))return!1;for(const _ in d)if(d.hasOwnProperty(_)&&(p[_]===void 0||!Ri(d[_],p[_])))return!1;return!0})(a,t);default:return mt(52216,{left:a})}}function Nl(a,t){return(a.values||[]).find((i=>Ri(i,t)))!==void 0}function Xa(a,t){if(a===t)return 0;const i=Js(a),r=Js(t);if(i!==r)return Dt(i,r);switch(i){case 0:case 9007199254740991:return 0;case 1:return Dt(a.booleanValue,t.booleanValue);case 2:return(function(c,d){const p=ge(c.integerValue||c.doubleValue),_=ge(d.integerValue||d.doubleValue);return p<_?-1:p>_?1:p===_?0:isNaN(p)?isNaN(_)?0:-1:1})(a,t);case 3:return hv(a.timestampValue,t.timestampValue);case 4:return hv(Cl(a),Cl(t));case 5:return Qd(a.stringValue,t.stringValue);case 6:return(function(c,d){const p=Zs(c),_=Zs(d);return p.compareTo(_)})(a.bytesValue,t.bytesValue);case 7:return(function(c,d){const p=c.split("/"),_=d.split("/");for(let y=0;y<p.length&&y<_.length;y++){const A=Dt(p[y],_[y]);if(A!==0)return A}return Dt(p.length,_.length)})(a.referenceValue,t.referenceValue);case 8:return(function(c,d){const p=Dt(ge(c.latitude),ge(d.latitude));return p!==0?p:Dt(ge(c.longitude),ge(d.longitude))})(a.geoPointValue,t.geoPointValue);case 9:return fv(a.arrayValue,t.arrayValue);case 10:return(function(c,d){const p=c.fields||{},_=d.fields||{},y=p[Gc]?.arrayValue,A=_[Gc]?.arrayValue,b=Dt(y?.values?.length||0,A?.values?.length||0);return b!==0?b:fv(y,A)})(a.mapValue,t.mapValue);case 11:return(function(c,d){if(c===Tc.mapValue&&d===Tc.mapValue)return 0;if(c===Tc.mapValue)return 1;if(d===Tc.mapValue)return-1;const p=c.fields||{},_=Object.keys(p),y=d.fields||{},A=Object.keys(y);_.sort(),A.sort();for(let b=0;b<_.length&&b<A.length;++b){const U=Qd(_[b],A[b]);if(U!==0)return U;const K=Xa(p[_[b]],y[A[b]]);if(K!==0)return K}return Dt(_.length,A.length)})(a.mapValue,t.mapValue);default:throw mt(23264,{he:i})}}function hv(a,t){if(typeof a=="string"&&typeof t=="string"&&a.length===t.length)return Dt(a,t);const i=Xs(a),r=Xs(t),l=Dt(i.seconds,r.seconds);return l!==0?l:Dt(i.nanos,r.nanos)}function fv(a,t){const i=a.values||[],r=t.values||[];for(let l=0;l<i.length&&l<r.length;++l){const c=Xa(i[l],r[l]);if(c)return c}return Dt(i.length,r.length)}function Za(a){return Kd(a)}function Kd(a){return"nullValue"in a?"null":"booleanValue"in a?""+a.booleanValue:"integerValue"in a?""+a.integerValue:"doubleValue"in a?""+a.doubleValue:"timestampValue"in a?(function(i){const r=Xs(i);return`time(${r.seconds},${r.nanos})`})(a.timestampValue):"stringValue"in a?a.stringValue:"bytesValue"in a?(function(i){return Zs(i).toBase64()})(a.bytesValue):"referenceValue"in a?(function(i){return ct.fromName(i).toString()})(a.referenceValue):"geoPointValue"in a?(function(i){return`geo(${i.latitude},${i.longitude})`})(a.geoPointValue):"arrayValue"in a?(function(i){let r="[",l=!0;for(const c of i.values||[])l?l=!1:r+=",",r+=Kd(c);return r+"]"})(a.arrayValue):"mapValue"in a?(function(i){const r=Object.keys(i.fields||{}).sort();let l="{",c=!0;for(const d of r)c?c=!1:l+=",",l+=`${d}:${Kd(i.fields[d])}`;return l+"}"})(a.mapValue):mt(61005,{value:a})}function Nc(a){switch(Js(a)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=oh(a);return t?16+Nc(t):16;case 5:return 2*a.stringValue.length;case 6:return Zs(a.bytesValue).approximateByteSize();case 7:return a.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((l,c)=>l+Nc(c)),0)})(a.arrayValue);case 10:case 11:return(function(r){let l=0;return jr(r.fields,((c,d)=>{l+=c.length+Nc(d)})),l})(a.mapValue);default:throw mt(13486,{value:a})}}function Yd(a){return!!a&&"integerValue"in a}function Sm(a){return!!a&&"arrayValue"in a}function dv(a){return!!a&&"nullValue"in a}function mv(a){return!!a&&"doubleValue"in a&&isNaN(Number(a.doubleValue))}function Dc(a){return!!a&&"mapValue"in a}function ER(a){return(a?.mapValue?.fields||{})[dE]?.stringValue===mE}function El(a){if(a.geoPointValue)return{geoPointValue:{...a.geoPointValue}};if(a.timestampValue&&typeof a.timestampValue=="object")return{timestampValue:{...a.timestampValue}};if(a.mapValue){const t={mapValue:{fields:{}}};return jr(a.mapValue.fields,((i,r)=>t.mapValue.fields[i]=El(r))),t}if(a.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(a.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=El(a.arrayValue.values[i]);return t}return{...a}}function TR(a){return(((a.mapValue||{}).fields||{}).__type__||{}).stringValue===vR}class Vn{constructor(t){this.value=t}static empty(){return new Vn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let r=0;r<t.length-1;++r)if(i=(i.mapValue.fields||{})[t.get(r)],!Dc(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=El(i)}setAll(t){let i=Fe.emptyPath(),r={},l=[];t.forEach(((d,p)=>{if(!i.isImmediateParentOf(p)){const _=this.getFieldsMap(i);this.applyChanges(_,r,l),r={},l=[],i=p.popLast()}d?r[p.lastSegment()]=El(d):l.push(p.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,r,l)}delete(t){const i=this.field(t.popLast());Dc(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return Ri(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let r=0;r<t.length;++r){let l=i.mapValue.fields[t.get(r)];Dc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[t.get(r)]=l),i=l}return i.mapValue.fields}applyChanges(t,i,r){jr(i,((l,c)=>t[l]=c));for(const l of r)delete t[l]}clone(){return new Vn(El(this.value))}}function gE(a){const t=[];return jr(a.fields,((i,r)=>{const l=new Fe([i]);if(Dc(r)){const c=gE(r.mapValue).fields;if(c.length===0)t.push(l);else for(const d of c)t.push(l.child(d))}else t.push(l)})),new Xn(t)}class Ze{constructor(t,i,r,l,c,d,p){this.key=t,this.documentType=i,this.version=r,this.readTime=l,this.createTime=c,this.data=d,this.documentState=p}static newInvalidDocument(t){return new Ze(t,0,_t.min(),_t.min(),_t.min(),Vn.empty(),0)}static newFoundDocument(t,i,r,l){return new Ze(t,1,i,_t.min(),r,l,0)}static newNoDocument(t,i){return new Ze(t,2,i,_t.min(),_t.min(),Vn.empty(),0)}static newUnknownDocument(t,i){return new Ze(t,3,i,_t.min(),_t.min(),Vn.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(_t.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Vn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Vn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=_t.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Ze&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Ze(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Fc{constructor(t,i){this.position=t,this.inclusive=i}}function gv(a,t,i){let r=0;for(let l=0;l<a.position.length;l++){const c=t[l],d=a.position[l];if(c.field.isKeyField()?r=ct.comparator(ct.fromName(d.referenceValue),i.key):r=Xa(d,i.data.field(c.field)),c.dir==="desc"&&(r*=-1),r!==0)break}return r}function pv(a,t){if(a===null)return t===null;if(t===null||a.inclusive!==t.inclusive||a.position.length!==t.position.length)return!1;for(let i=0;i<a.position.length;i++)if(!Ri(a.position[i],t.position[i]))return!1;return!0}class Qc{constructor(t,i="asc"){this.field=t,this.dir=i}}function AR(a,t){return a.dir===t.dir&&a.field.isEqual(t.field)}class pE{}class Oe extends pE{constructor(t,i,r){super(),this.field=t,this.op=i,this.value=r}static create(t,i,r){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,r):new bR(t,i,r):i==="array-contains"?new CR(t,r):i==="in"?new IR(t,r):i==="not-in"?new NR(t,r):i==="array-contains-any"?new DR(t,r):new Oe(t,i,r)}static createKeyFieldInFilter(t,i,r){return i==="in"?new wR(t,r):new RR(t,r)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Xa(i,this.value)):i!==null&&Js(this.value)===Js(i)&&this.matchesComparison(Xa(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return mt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ci extends pE{constructor(t,i){super(),this.filters=t,this.op=i,this.Pe=null}static create(t,i){return new Ci(t,i)}matches(t){return yE(this)?this.filters.find((i=>!i.matches(t)))===void 0:this.filters.find((i=>i.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,i)=>t.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function yE(a){return a.op==="and"}function _E(a){return SR(a)&&yE(a)}function SR(a){for(const t of a.filters)if(t instanceof Ci)return!1;return!0}function Xd(a){if(a instanceof Oe)return a.field.canonicalString()+a.op.toString()+Za(a.value);if(_E(a))return a.filters.map((t=>Xd(t))).join(",");{const t=a.filters.map((i=>Xd(i))).join(",");return`${a.op}(${t})`}}function vE(a,t){return a instanceof Oe?(function(r,l){return l instanceof Oe&&r.op===l.op&&r.field.isEqual(l.field)&&Ri(r.value,l.value)})(a,t):a instanceof Ci?(function(r,l){return l instanceof Ci&&r.op===l.op&&r.filters.length===l.filters.length?r.filters.reduce(((c,d,p)=>c&&vE(d,l.filters[p])),!0):!1})(a,t):void mt(19439)}function EE(a){return a instanceof Oe?(function(i){return`${i.field.canonicalString()} ${i.op} ${Za(i.value)}`})(a):a instanceof Ci?(function(i){return i.op.toString()+" {"+i.getFilters().map(EE).join(" ,")+"}"})(a):"Filter"}class bR extends Oe{constructor(t,i,r){super(t,i,r),this.key=ct.fromName(r.referenceValue)}matches(t){const i=ct.comparator(t.key,this.key);return this.matchesComparison(i)}}class wR extends Oe{constructor(t,i){super(t,"in",i),this.keys=TE("in",i)}matches(t){return this.keys.some((i=>i.isEqual(t.key)))}}class RR extends Oe{constructor(t,i){super(t,"not-in",i),this.keys=TE("not-in",i)}matches(t){return!this.keys.some((i=>i.isEqual(t.key)))}}function TE(a,t){return(t.arrayValue?.values||[]).map((i=>ct.fromName(i.referenceValue)))}class CR extends Oe{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return Sm(i)&&Nl(i.arrayValue,this.value)}}class IR extends Oe{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&Nl(this.value.arrayValue,i)}}class NR extends Oe{constructor(t,i){super(t,"not-in",i)}matches(t){if(Nl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Nl(this.value.arrayValue,i)}}class DR extends Oe{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!Sm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((r=>Nl(this.value.arrayValue,r)))}}class OR{constructor(t,i=null,r=[],l=[],c=null,d=null,p=null){this.path=t,this.collectionGroup=i,this.orderBy=r,this.filters=l,this.limit=c,this.startAt=d,this.endAt=p,this.Te=null}}function yv(a,t=null,i=[],r=[],l=null,c=null,d=null){return new OR(a,t,i,r,l,c,d)}function bm(a){const t=Et(a);if(t.Te===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map((r=>Xd(r))).join(","),i+="|ob:",i+=t.orderBy.map((r=>(function(c){return c.field.canonicalString()+c.dir})(r))).join(","),ah(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((r=>Za(r))).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((r=>Za(r))).join(",")),t.Te=i}return t.Te}function wm(a,t){if(a.limit!==t.limit||a.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<a.orderBy.length;i++)if(!AR(a.orderBy[i],t.orderBy[i]))return!1;if(a.filters.length!==t.filters.length)return!1;for(let i=0;i<a.filters.length;i++)if(!vE(a.filters[i],t.filters[i]))return!1;return a.collectionGroup===t.collectionGroup&&!!a.path.isEqual(t.path)&&!!pv(a.startAt,t.startAt)&&pv(a.endAt,t.endAt)}function Zd(a){return ct.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}class lh{constructor(t,i=null,r=[],l=[],c=null,d="F",p=null,_=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=r,this.filters=l,this.limit=c,this.limitType=d,this.startAt=p,this.endAt=_,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function MR(a,t,i,r,l,c,d,p){return new lh(a,t,i,r,l,c,d,p)}function Rm(a){return new lh(a)}function _v(a){return a.filters.length===0&&a.limit===null&&a.startAt==null&&a.endAt==null&&(a.explicitOrderBy.length===0||a.explicitOrderBy.length===1&&a.explicitOrderBy[0].field.isKeyField())}function VR(a){return a.collectionGroup!==null}function Tl(a){const t=Et(a);if(t.Ie===null){t.Ie=[];const i=new Set;for(const c of t.explicitOrderBy)t.Ie.push(c),i.add(c.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new Ve(Fe.comparator);return d.filters.forEach((_=>{_.getFlattenedFilters().forEach((y=>{y.isInequality()&&(p=p.add(y.field))}))})),p})(t).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||t.Ie.push(new Qc(c,r))})),i.has(Fe.keyField().canonicalString())||t.Ie.push(new Qc(Fe.keyField(),r))}return t.Ie}function Ai(a){const t=Et(a);return t.Ee||(t.Ee=xR(t,Tl(a))),t.Ee}function xR(a,t){if(a.limitType==="F")return yv(a.path,a.collectionGroup,t,a.filters,a.limit,a.startAt,a.endAt);{t=t.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new Qc(l.field,c)}));const i=a.endAt?new Fc(a.endAt.position,a.endAt.inclusive):null,r=a.startAt?new Fc(a.startAt.position,a.startAt.inclusive):null;return yv(a.path,a.collectionGroup,t,a.filters,a.limit,i,r)}}function Jd(a,t,i){return new lh(a.path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),t,i,a.startAt,a.endAt)}function uh(a,t){return wm(Ai(a),Ai(t))&&a.limitType===t.limitType}function AE(a){return`${bm(Ai(a))}|lt:${a.limitType}`}function La(a){return`Query(target=${(function(i){let r=i.path.canonicalString();return i.collectionGroup!==null&&(r+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(r+=`, filters: [${i.filters.map((l=>EE(l))).join(", ")}]`),ah(i.limit)||(r+=", limit: "+i.limit),i.orderBy.length>0&&(r+=`, orderBy: [${i.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),i.startAt&&(r+=", startAt: ",r+=i.startAt.inclusive?"b:":"a:",r+=i.startAt.position.map((l=>Za(l))).join(",")),i.endAt&&(r+=", endAt: ",r+=i.endAt.inclusive?"a:":"b:",r+=i.endAt.position.map((l=>Za(l))).join(",")),`Target(${r})`})(Ai(a))}; limitType=${a.limitType})`}function ch(a,t){return t.isFoundDocument()&&(function(r,l){const c=l.key.path;return r.collectionGroup!==null?l.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(c):ct.isDocumentKey(r.path)?r.path.isEqual(c):r.path.isImmediateParentOf(c)})(a,t)&&(function(r,l){for(const c of Tl(r))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(a,t)&&(function(r,l){for(const c of r.filters)if(!c.matches(l))return!1;return!0})(a,t)&&(function(r,l){return!(r.startAt&&!(function(d,p,_){const y=gv(d,p,_);return d.inclusive?y<=0:y<0})(r.startAt,Tl(r),l)||r.endAt&&!(function(d,p,_){const y=gv(d,p,_);return d.inclusive?y>=0:y>0})(r.endAt,Tl(r),l))})(a,t)}function UR(a){return a.collectionGroup||(a.path.length%2==1?a.path.lastSegment():a.path.get(a.path.length-2))}function SE(a){return(t,i)=>{let r=!1;for(const l of Tl(a)){const c=LR(l,t,i);if(c!==0)return c;r=r||l.field.isKeyField()}return 0}}function LR(a,t,i){const r=a.field.isKeyField()?ct.comparator(t.key,i.key):(function(c,d,p){const _=d.data.field(c),y=p.data.field(c);return _!==null&&y!==null?Xa(_,y):mt(42886)})(a.field,t,i);switch(a.dir){case"asc":return r;case"desc":return-1*r;default:return mt(19790,{direction:a.dir})}}class Br{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),r=this.inner[i];if(r!==void 0){for(const[l,c]of r)if(this.equalsFn(l,t))return c}}has(t){return this.get(t)!==void 0}set(t,i){const r=this.mapKeyFn(t),l=this.inner[r];if(l===void 0)return this.inner[r]=[[t,i]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],t))return void(l[c]=[t,i]);l.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),r=this.inner[i];if(r===void 0)return!1;for(let l=0;l<r.length;l++)if(this.equalsFn(r[l][0],t))return r.length===1?delete this.inner[i]:r.splice(l,1),this.innerSize--,!0;return!1}forEach(t){jr(this.inner,((i,r)=>{for(const[l,c]of r)t(l,c)}))}isEmpty(){return oE(this.inner)}size(){return this.innerSize}}const kR=new le(ct.comparator);function ts(){return kR}const bE=new le(ct.comparator);function gl(...a){let t=bE;for(const i of a)t=t.insert(i.key,i);return t}function wE(a){let t=bE;return a.forEach(((i,r)=>t=t.insert(i,r.overlayedDocument))),t}function Mr(){return Al()}function RE(){return Al()}function Al(){return new Br((a=>a.toString()),((a,t)=>a.isEqual(t)))}const PR=new le(ct.comparator),zR=new Ve(ct.comparator);function Ot(...a){let t=zR;for(const i of a)t=t.add(i);return t}const jR=new Ve(Dt);function BR(){return jR}function Cm(a,t){if(a.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:qc(t)?"-0":t}}function CE(a){return{integerValue:""+a}}function qR(a,t){return mR(t)?CE(t):Cm(a,t)}class hh{constructor(){this._=void 0}}function HR(a,t,i){return a instanceof Dl?(function(l,c){const d={fields:{[cE]:{stringValue:uE},[fE]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&Am(c)&&(c=oh(c)),c&&(d.fields[hE]=c),{mapValue:d}})(i,t):a instanceof Ol?NE(a,t):a instanceof Ml?DE(a,t):(function(l,c){const d=IE(l,c),p=vv(d)+vv(l.Ae);return Yd(d)&&Yd(l.Ae)?CE(p):Cm(l.serializer,p)})(a,t)}function GR(a,t,i){return a instanceof Ol?NE(a,t):a instanceof Ml?DE(a,t):i}function IE(a,t){return a instanceof Kc?(function(r){return Yd(r)||(function(c){return!!c&&"doubleValue"in c})(r)})(t)?t:{integerValue:0}:null}class Dl extends hh{}class Ol extends hh{constructor(t){super(),this.elements=t}}function NE(a,t){const i=OE(t);for(const r of a.elements)i.some((l=>Ri(l,r)))||i.push(r);return{arrayValue:{values:i}}}class Ml extends hh{constructor(t){super(),this.elements=t}}function DE(a,t){let i=OE(t);for(const r of a.elements)i=i.filter((l=>!Ri(l,r)));return{arrayValue:{values:i}}}class Kc extends hh{constructor(t,i){super(),this.serializer=t,this.Ae=i}}function vv(a){return ge(a.integerValue||a.doubleValue)}function OE(a){return Sm(a)&&a.arrayValue.values?a.arrayValue.values.slice():[]}class FR{constructor(t,i){this.field=t,this.transform=i}}function QR(a,t){return a.field.isEqual(t.field)&&(function(r,l){return r instanceof Ol&&l instanceof Ol||r instanceof Ml&&l instanceof Ml?Ya(r.elements,l.elements,Ri):r instanceof Kc&&l instanceof Kc?Ri(r.Ae,l.Ae):r instanceof Dl&&l instanceof Dl})(a.transform,t.transform)}class KR{constructor(t,i){this.version=t,this.transformResults=i}}class Xi{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new Xi}static exists(t){return new Xi(void 0,t)}static updateTime(t){return new Xi(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Oc(a,t){return a.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(a.updateTime):a.exists===void 0||a.exists===t.isFoundDocument()}class fh{}function ME(a,t){if(!a.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return a.isNoDocument()?new xE(a.key,Xi.none()):new zl(a.key,a.data,Xi.none());{const i=a.data,r=Vn.empty();let l=new Ve(Fe.comparator);for(let c of t.fields)if(!l.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?r.delete(c):r.set(c,d),l=l.add(c)}return new qr(a.key,r,new Xn(l.toArray()),Xi.none())}}function YR(a,t,i){a instanceof zl?(function(l,c,d){const p=l.value.clone(),_=Tv(l.fieldTransforms,c,d.transformResults);p.setAll(_),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(a,t,i):a instanceof qr?(function(l,c,d){if(!Oc(l.precondition,c))return void c.convertToUnknownDocument(d.version);const p=Tv(l.fieldTransforms,c,d.transformResults),_=c.data;_.setAll(VE(l)),_.setAll(p),c.convertToFoundDocument(d.version,_).setHasCommittedMutations()})(a,t,i):(function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,t,i)}function Sl(a,t,i,r){return a instanceof zl?(function(c,d,p,_){if(!Oc(c.precondition,d))return p;const y=c.value.clone(),A=Av(c.fieldTransforms,_,d);return y.setAll(A),d.convertToFoundDocument(d.version,y).setHasLocalMutations(),null})(a,t,i,r):a instanceof qr?(function(c,d,p,_){if(!Oc(c.precondition,d))return p;const y=Av(c.fieldTransforms,_,d),A=d.data;return A.setAll(VE(c)),A.setAll(y),d.convertToFoundDocument(d.version,A).setHasLocalMutations(),p===null?null:p.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((b=>b.field)))})(a,t,i,r):(function(c,d,p){return Oc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p})(a,t,i)}function XR(a,t){let i=null;for(const r of a.fieldTransforms){const l=t.data.field(r.field),c=IE(r.transform,l||null);c!=null&&(i===null&&(i=Vn.empty()),i.set(r.field,c))}return i||null}function Ev(a,t){return a.type===t.type&&!!a.key.isEqual(t.key)&&!!a.precondition.isEqual(t.precondition)&&!!(function(r,l){return r===void 0&&l===void 0||!(!r||!l)&&Ya(r,l,((c,d)=>QR(c,d)))})(a.fieldTransforms,t.fieldTransforms)&&(a.type===0?a.value.isEqual(t.value):a.type!==1||a.data.isEqual(t.data)&&a.fieldMask.isEqual(t.fieldMask))}class zl extends fh{constructor(t,i,r,l=[]){super(),this.key=t,this.value=i,this.precondition=r,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class qr extends fh{constructor(t,i,r,l,c=[]){super(),this.key=t,this.data=i,this.fieldMask=r,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function VE(a){const t=new Map;return a.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const r=a.data.field(i);t.set(i,r)}})),t}function Tv(a,t,i){const r=new Map;qt(a.length===i.length,32656,{Re:i.length,Ve:a.length});for(let l=0;l<i.length;l++){const c=a[l],d=c.transform,p=t.data.field(c.field);r.set(c.field,GR(d,p,i[l]))}return r}function Av(a,t,i){const r=new Map;for(const l of a){const c=l.transform,d=i.data.field(l.field);r.set(l.field,HR(c,d,t))}return r}class xE extends fh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class ZR extends fh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class JR{constructor(t,i,r,l){this.batchId=t,this.localWriteTime=i,this.baseMutations=r,this.mutations=l}applyToRemoteDocument(t,i){const r=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(t.key)&&YR(c,t,r[l])}}applyToLocalView(t,i){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(i=Sl(r,t,i,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(i=Sl(r,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const r=RE();return this.mutations.forEach((l=>{const c=t.get(l.key),d=c.overlayedDocument;let p=this.applyToLocalView(d,c.mutatedFields);p=i.has(l.key)?null:p;const _=ME(d,p);_!==null&&r.set(l.key,_),d.isValidDocument()||d.convertToNoDocument(_t.min())})),r}keys(){return this.mutations.reduce(((t,i)=>t.add(i.key)),Ot())}isEqual(t){return this.batchId===t.batchId&&Ya(this.mutations,t.mutations,((i,r)=>Ev(i,r)))&&Ya(this.baseMutations,t.baseMutations,((i,r)=>Ev(i,r)))}}class Im{constructor(t,i,r,l){this.batch=t,this.commitVersion=i,this.mutationResults=r,this.docVersions=l}static from(t,i,r){qt(t.mutations.length===r.length,58842,{me:t.mutations.length,fe:r.length});let l=(function(){return PR})();const c=t.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,r[d].version);return new Im(t,i,r,l)}}class $R{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class WR{constructor(t,i){this.count=t,this.unchangedNames=i}}var we,Ut;function t2(a){switch(a){case Z.OK:return mt(64938);case Z.CANCELLED:case Z.UNKNOWN:case Z.DEADLINE_EXCEEDED:case Z.RESOURCE_EXHAUSTED:case Z.INTERNAL:case Z.UNAVAILABLE:case Z.UNAUTHENTICATED:return!1;case Z.INVALID_ARGUMENT:case Z.NOT_FOUND:case Z.ALREADY_EXISTS:case Z.PERMISSION_DENIED:case Z.FAILED_PRECONDITION:case Z.ABORTED:case Z.OUT_OF_RANGE:case Z.UNIMPLEMENTED:case Z.DATA_LOSS:return!0;default:return mt(15467,{code:a})}}function UE(a){if(a===void 0)return Wi("GRPC error has no .code"),Z.UNKNOWN;switch(a){case we.OK:return Z.OK;case we.CANCELLED:return Z.CANCELLED;case we.UNKNOWN:return Z.UNKNOWN;case we.DEADLINE_EXCEEDED:return Z.DEADLINE_EXCEEDED;case we.RESOURCE_EXHAUSTED:return Z.RESOURCE_EXHAUSTED;case we.INTERNAL:return Z.INTERNAL;case we.UNAVAILABLE:return Z.UNAVAILABLE;case we.UNAUTHENTICATED:return Z.UNAUTHENTICATED;case we.INVALID_ARGUMENT:return Z.INVALID_ARGUMENT;case we.NOT_FOUND:return Z.NOT_FOUND;case we.ALREADY_EXISTS:return Z.ALREADY_EXISTS;case we.PERMISSION_DENIED:return Z.PERMISSION_DENIED;case we.FAILED_PRECONDITION:return Z.FAILED_PRECONDITION;case we.ABORTED:return Z.ABORTED;case we.OUT_OF_RANGE:return Z.OUT_OF_RANGE;case we.UNIMPLEMENTED:return Z.UNIMPLEMENTED;case we.DATA_LOSS:return Z.DATA_LOSS;default:return mt(39323,{code:a})}}(Ut=we||(we={}))[Ut.OK=0]="OK",Ut[Ut.CANCELLED=1]="CANCELLED",Ut[Ut.UNKNOWN=2]="UNKNOWN",Ut[Ut.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ut[Ut.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ut[Ut.NOT_FOUND=5]="NOT_FOUND",Ut[Ut.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ut[Ut.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ut[Ut.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ut[Ut.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ut[Ut.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ut[Ut.ABORTED=10]="ABORTED",Ut[Ut.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ut[Ut.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ut[Ut.INTERNAL=13]="INTERNAL",Ut[Ut.UNAVAILABLE=14]="UNAVAILABLE",Ut[Ut.DATA_LOSS=15]="DATA_LOSS";function e2(){return new TextEncoder}const n2=new Fs([4294967295,4294967295],0);function Sv(a){const t=e2().encode(a),i=new Z0;return i.update(t),new Uint8Array(i.digest())}function bv(a){const t=new DataView(a.buffer),i=t.getUint32(0,!0),r=t.getUint32(4,!0),l=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new Fs([i,r],0),new Fs([l,c],0)]}class Nm{constructor(t,i,r){if(this.bitmap=t,this.padding=i,this.hashCount=r,i<0||i>=8)throw new pl(`Invalid padding: ${i}`);if(r<0)throw new pl(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new pl(`Invalid hash count: ${r}`);if(t.length===0&&i!==0)throw new pl(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*t.length-i,this.pe=Fs.fromNumber(this.ge)}ye(t,i,r){let l=t.add(i.multiply(Fs.fromNumber(r)));return l.compare(n2)===1&&(l=new Fs([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const i=Sv(t),[r,l]=bv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(r,l,c);if(!this.we(d))return!1}return!0}static create(t,i,r){const l=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),d=new Nm(c,l,i);return r.forEach((p=>d.insert(p))),d}insert(t){if(this.ge===0)return;const i=Sv(t),[r,l]=bv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(r,l,c);this.Se(d)}}Se(t){const i=Math.floor(t/8),r=t%8;this.bitmap[i]|=1<<r}}class pl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class dh{constructor(t,i,r,l,c){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=r,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,i,r){const l=new Map;return l.set(t,jl.createSynthesizedTargetChangeForCurrentChange(t,i,r)),new dh(_t.min(),l,new le(Dt),ts(),Ot())}}class jl{constructor(t,i,r,l,c){this.resumeToken=t,this.current=i,this.addedDocuments=r,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,i,r){return new jl(r,i,Ot(),Ot(),Ot())}}class Mc{constructor(t,i,r,l){this.be=t,this.removedTargetIds=i,this.key=r,this.De=l}}class LE{constructor(t,i){this.targetId=t,this.Ce=i}}class kE{constructor(t,i,r=Qe.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=i,this.resumeToken=r,this.cause=l}}class wv{constructor(){this.ve=0,this.Fe=Rv(),this.Me=Qe.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Ot(),i=Ot(),r=Ot();return this.Fe.forEach(((l,c)=>{switch(c){case 0:t=t.add(l);break;case 2:i=i.add(l);break;case 1:r=r.add(l);break;default:mt(38017,{changeType:c})}})),new jl(this.Me,this.xe,t,i,r)}qe(){this.Oe=!1,this.Fe=Rv()}Qe(t,i){this.Oe=!0,this.Fe=this.Fe.insert(t,i)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,qt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class i2{constructor(t){this.Ge=t,this.ze=new Map,this.je=ts(),this.Je=Ac(),this.He=Ac(),this.Ye=new le(Dt)}Ze(t){for(const i of t.be)t.De&&t.De.isFoundDocument()?this.Xe(i,t.De):this.et(i,t.key,t.De);for(const i of t.removedTargetIds)this.et(i,t.key,t.De)}tt(t){this.forEachTarget(t,(i=>{const r=this.nt(i);switch(t.state){case 0:this.rt(i)&&r.Le(t.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(t.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(r.We(),r.Le(t.resumeToken));break;case 4:this.rt(i)&&(this.it(i),r.Le(t.resumeToken));break;default:mt(56790,{state:t.state})}}))}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.ze.forEach(((r,l)=>{this.rt(l)&&i(l)}))}st(t){const i=t.targetId,r=t.Ce.count,l=this.ot(i);if(l){const c=l.target;if(Zd(c))if(r===0){const d=new ct(c.path);this.et(i,d,Ze.newNoDocument(d,_t.min()))}else qt(r===1,20013,{expectedCount:r});else{const d=this._t(i);if(d!==r){const p=this.ut(t),_=p?this.ct(p,t,d):1;if(_!==0){this.it(i);const y=_===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,y)}}}}}ut(t){const i=t.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:r="",padding:l=0},hashCount:c=0}=i;let d,p;try{d=Zs(r).toUint8Array()}catch(_){if(_ instanceof lE)return Ka("Decoding the base64 bloom filter in existence filter failed ("+_.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw _}try{p=new Nm(d,l,c)}catch(_){return Ka(_ instanceof pl?"BloomFilter error: ":"Applying bloom filter failed: ",_),null}return p.ge===0?null:p}ct(t,i,r){return i.Ce.count===r-this.Pt(t,i.targetId)?0:2}Pt(t,i){const r=this.Ge.getRemoteKeysForTarget(i);let l=0;return r.forEach((c=>{const d=this.Ge.ht(),p=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;t.mightContain(p)||(this.et(i,c,null),l++)})),l}Tt(t){const i=new Map;this.ze.forEach(((c,d)=>{const p=this.ot(d);if(p){if(c.current&&Zd(p.target)){const _=new ct(p.target.path);this.It(_).has(d)||this.Et(d,_)||this.et(d,_,Ze.newNoDocument(_,t))}c.Be&&(i.set(d,c.ke()),c.qe())}}));let r=Ot();this.He.forEach(((c,d)=>{let p=!0;d.forEachWhile((_=>{const y=this.ot(_);return!y||y.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(r=r.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(t)));const l=new dh(t,i,this.Ye,this.je,r);return this.je=ts(),this.Je=Ac(),this.He=Ac(),this.Ye=new le(Dt),l}Xe(t,i){if(!this.rt(t))return;const r=this.Et(t,i.key)?2:0;this.nt(t).Qe(i.key,r),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(t)),this.He=this.He.insert(i.key,this.dt(i.key).add(t))}et(t,i,r){if(!this.rt(t))return;const l=this.nt(t);this.Et(t,i)?l.Qe(i,1):l.$e(i),this.He=this.He.insert(i,this.dt(i).delete(t)),this.He=this.He.insert(i,this.dt(i).add(t)),r&&(this.je=this.je.insert(i,r))}removeTarget(t){this.ze.delete(t)}_t(t){const i=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let i=this.ze.get(t);return i||(i=new wv,this.ze.set(t,i)),i}dt(t){let i=this.He.get(t);return i||(i=new Ve(Dt),this.He=this.He.insert(t,i)),i}It(t){let i=this.Je.get(t);return i||(i=new Ve(Dt),this.Je=this.Je.insert(t,i)),i}rt(t){const i=this.ot(t)!==null;return i||it("WatchChangeAggregator","Detected inactive target",t),i}ot(t){const i=this.ze.get(t);return i&&i.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new wv),this.Ge.getRemoteKeysForTarget(t).forEach((i=>{this.et(t,i,null)}))}Et(t,i){return this.Ge.getRemoteKeysForTarget(t).has(i)}}function Ac(){return new le(ct.comparator)}function Rv(){return new le(ct.comparator)}const s2={asc:"ASCENDING",desc:"DESCENDING"},r2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},a2={and:"AND",or:"OR"};class o2{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function $d(a,t){return a.useProto3Json||ah(t)?t:{value:t}}function Yc(a,t){return a.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function PE(a,t){return a.useProto3Json?t.toBase64():t.toUint8Array()}function l2(a,t){return Yc(a,t.toTimestamp())}function Si(a){return qt(!!a,49232),_t.fromTimestamp((function(i){const r=Xs(i);return new ne(r.seconds,r.nanos)})(a))}function Dm(a,t){return Wd(a,t).canonicalString()}function Wd(a,t){const i=(function(l){return new ee(["projects",l.projectId,"databases",l.database])})(a).child("documents");return t===void 0?i:i.child(t)}function zE(a){const t=ee.fromString(a);return qt(GE(t),10190,{key:t.toString()}),t}function tm(a,t){return Dm(a.databaseId,t.path)}function Md(a,t){const i=zE(t);if(i.get(1)!==a.databaseId.projectId)throw new ot(Z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+a.databaseId.projectId);if(i.get(3)!==a.databaseId.database)throw new ot(Z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+a.databaseId.database);return new ct(BE(i))}function jE(a,t){return Dm(a.databaseId,t)}function u2(a){const t=zE(a);return t.length===4?ee.emptyPath():BE(t)}function em(a){return new ee(["projects",a.databaseId.projectId,"databases",a.databaseId.database]).canonicalString()}function BE(a){return qt(a.length>4&&a.get(4)==="documents",29091,{key:a.toString()}),a.popFirst(5)}function Cv(a,t,i){return{name:tm(a,t),fields:i.value.mapValue.fields}}function c2(a,t){let i;if("targetChange"in t){t.targetChange;const r=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:mt(39313,{state:y})})(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],c=(function(y,A){return y.useProto3Json?(qt(A===void 0||typeof A=="string",58123),Qe.fromBase64String(A||"")):(qt(A===void 0||A instanceof Buffer||A instanceof Uint8Array,16193),Qe.fromUint8Array(A||new Uint8Array))})(a,t.targetChange.resumeToken),d=t.targetChange.cause,p=d&&(function(y){const A=y.code===void 0?Z.UNKNOWN:UE(y.code);return new ot(A,y.message||"")})(d);i=new kE(r,l,c,p||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const l=Md(a,r.document.name),c=Si(r.document.updateTime),d=r.document.createTime?Si(r.document.createTime):_t.min(),p=new Vn({mapValue:{fields:r.document.fields}}),_=Ze.newFoundDocument(l,c,d,p),y=r.targetIds||[],A=r.removedTargetIds||[];i=new Mc(y,A,_.key,_)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const l=Md(a,r.document),c=r.readTime?Si(r.readTime):_t.min(),d=Ze.newNoDocument(l,c),p=r.removedTargetIds||[];i=new Mc([],p,d.key,d)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const l=Md(a,r.document),c=r.removedTargetIds||[];i=new Mc([],c,l,null)}else{if(!("filter"in t))return mt(11601,{Rt:t});{t.filter;const r=t.filter;r.targetId;const{count:l=0,unchangedNames:c}=r,d=new WR(l,c),p=r.targetId;i=new LE(p,d)}}return i}function h2(a,t){let i;if(t instanceof zl)i={update:Cv(a,t.key,t.value)};else if(t instanceof xE)i={delete:tm(a,t.key)};else if(t instanceof qr)i={update:Cv(a,t.key,t.data),updateMask:E2(t.fieldMask)};else{if(!(t instanceof ZR))return mt(16599,{Vt:t.type});i={verify:tm(a,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map((r=>(function(c,d){const p=d.transform;if(p instanceof Dl)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof Ol)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof Ml)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof Kc)return{fieldPath:d.field.canonicalString(),increment:p.Ae};throw mt(20930,{transform:d.transform})})(0,r)))),t.precondition.isNone||(i.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:l2(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:mt(27497)})(a,t.precondition)),i}function f2(a,t){return a&&a.length>0?(qt(t!==void 0,14353),a.map((i=>(function(l,c){let d=l.updateTime?Si(l.updateTime):Si(c);return d.isEqual(_t.min())&&(d=Si(c)),new KR(d,l.transformResults||[])})(i,t)))):[]}function d2(a,t){return{documents:[jE(a,t.path)]}}function m2(a,t){const i={structuredQuery:{}},r=t.path;let l;t.collectionGroup!==null?(l=r,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=r.popLast(),i.structuredQuery.from=[{collectionId:r.lastSegment()}]),i.parent=jE(a,l);const c=(function(y){if(y.length!==0)return HE(Ci.create(y,"and"))})(t.filters);c&&(i.structuredQuery.where=c);const d=(function(y){if(y.length!==0)return y.map((A=>(function(U){return{field:ka(U.field),direction:y2(U.dir)}})(A)))})(t.orderBy);d&&(i.structuredQuery.orderBy=d);const p=$d(a,t.limit);return p!==null&&(i.structuredQuery.limit=p),t.startAt&&(i.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(t.startAt)),t.endAt&&(i.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(t.endAt)),{ft:i,parent:l}}function g2(a){let t=u2(a.parent);const i=a.structuredQuery,r=i.from?i.from.length:0;let l=null;if(r>0){qt(r===1,65062);const A=i.from[0];A.allDescendants?l=A.collectionId:t=t.child(A.collectionId)}let c=[];i.where&&(c=(function(b){const U=qE(b);return U instanceof Ci&&_E(U)?U.getFilters():[U]})(i.where));let d=[];i.orderBy&&(d=(function(b){return b.map((U=>(function(W){return new Qc(Pa(W.field),(function(J){switch(J){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(W.direction))})(U)))})(i.orderBy));let p=null;i.limit&&(p=(function(b){let U;return U=typeof b=="object"?b.value:b,ah(U)?null:U})(i.limit));let _=null;i.startAt&&(_=(function(b){const U=!!b.before,K=b.values||[];return new Fc(K,U)})(i.startAt));let y=null;return i.endAt&&(y=(function(b){const U=!b.before,K=b.values||[];return new Fc(K,U)})(i.endAt)),MR(t,l,d,c,p,"F",_,y)}function p2(a,t){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return mt(28987,{purpose:l})}})(t.purpose);return i==null?null:{"goog-listen-tags":i}}function qE(a){return a.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const r=Pa(i.unaryFilter.field);return Oe.create(r,"==",{doubleValue:NaN});case"IS_NULL":const l=Pa(i.unaryFilter.field);return Oe.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Pa(i.unaryFilter.field);return Oe.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Pa(i.unaryFilter.field);return Oe.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return mt(61313);default:return mt(60726)}})(a):a.fieldFilter!==void 0?(function(i){return Oe.create(Pa(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return mt(58110);default:return mt(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(a):a.compositeFilter!==void 0?(function(i){return Ci.create(i.compositeFilter.filters.map((r=>qE(r))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return mt(1026)}})(i.compositeFilter.op))})(a):mt(30097,{filter:a})}function y2(a){return s2[a]}function _2(a){return r2[a]}function v2(a){return a2[a]}function ka(a){return{fieldPath:a.canonicalString()}}function Pa(a){return Fe.fromServerFormat(a.fieldPath)}function HE(a){return a instanceof Oe?(function(i){if(i.op==="=="){if(mv(i.value))return{unaryFilter:{field:ka(i.field),op:"IS_NAN"}};if(dv(i.value))return{unaryFilter:{field:ka(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(mv(i.value))return{unaryFilter:{field:ka(i.field),op:"IS_NOT_NAN"}};if(dv(i.value))return{unaryFilter:{field:ka(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ka(i.field),op:_2(i.op),value:i.value}}})(a):a instanceof Ci?(function(i){const r=i.getFilters().map((l=>HE(l)));return r.length===1?r[0]:{compositeFilter:{op:v2(i.op),filters:r}}})(a):mt(54877,{filter:a})}function E2(a){const t=[];return a.fields.forEach((i=>t.push(i.canonicalString()))),{fieldPaths:t}}function GE(a){return a.length>=4&&a.get(0)==="projects"&&a.get(2)==="databases"}class js{constructor(t,i,r,l,c=_t.min(),d=_t.min(),p=Qe.EMPTY_BYTE_STRING,_=null){this.target=t,this.targetId=i,this.purpose=r,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=_}withSequenceNumber(t){return new js(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new js(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new js(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new js(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class T2{constructor(t){this.yt=t}}function A2(a){const t=g2({parent:a.parent,structuredQuery:a.structuredQuery});return a.limitType==="LAST"?Jd(t,t.limit,"L"):t}class S2{constructor(){this.Cn=new b2}addToCollectionParentIndex(t,i){return this.Cn.add(i),X.resolve()}getCollectionParents(t,i){return X.resolve(this.Cn.getEntries(i))}addFieldIndex(t,i){return X.resolve()}deleteFieldIndex(t,i){return X.resolve()}deleteAllFieldIndexes(t){return X.resolve()}createTargetIndexes(t,i){return X.resolve()}getDocumentsMatchingTarget(t,i){return X.resolve(null)}getIndexType(t,i){return X.resolve(0)}getFieldIndexes(t,i){return X.resolve([])}getNextCollectionGroupToUpdate(t){return X.resolve(null)}getMinOffset(t,i){return X.resolve(Ys.min())}getMinOffsetFromCollectionGroup(t,i){return X.resolve(Ys.min())}updateCollectionGroup(t,i,r){return X.resolve()}updateIndexEntries(t,i){return X.resolve()}}class b2{constructor(){this.index={}}add(t){const i=t.lastSegment(),r=t.popLast(),l=this.index[i]||new Ve(ee.comparator),c=!l.has(r);return this.index[i]=l.add(r),c}has(t){const i=t.lastSegment(),r=t.popLast(),l=this.index[i];return l&&l.has(r)}getEntries(t){return(this.index[t]||new Ve(ee.comparator)).toArray()}}const Iv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},FE=41943040;class un{static withCacheSize(t){return new un(t,un.DEFAULT_COLLECTION_PERCENTILE,un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=r}}un.DEFAULT_COLLECTION_PERCENTILE=10,un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,un.DEFAULT=new un(FE,un.DEFAULT_COLLECTION_PERCENTILE,un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),un.DISABLED=new un(-1,0,0);class Ja{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new Ja(0)}static cr(){return new Ja(-1)}}const Nv="LruGarbageCollector",w2=1048576;function Dv([a,t],[i,r]){const l=Dt(a,i);return l===0?Dt(t,r):l}class R2{constructor(t){this.Ir=t,this.buffer=new Ve(Dv),this.Er=0}dr(){return++this.Er}Ar(t){const i=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const r=this.buffer.last();Dv(i,r)<0&&(this.buffer=this.buffer.delete(r).add(i))}}get maxValue(){return this.buffer.last()[0]}}class C2{constructor(t,i,r){this.garbageCollector=t,this.asyncQueue=i,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){it(Nv,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){so(i)?it(Nv,"Ignoring IndexedDB error during garbage collection: ",i):await io(i)}await this.Vr(3e5)}))}}class I2{constructor(t,i){this.mr=t,this.params=i}calculateTargetCount(t,i){return this.mr.gr(t).next((r=>Math.floor(i/100*r)))}nthSequenceNumber(t,i){if(i===0)return X.resolve(rh.ce);const r=new R2(i);return this.mr.forEachTarget(t,(l=>r.Ar(l.sequenceNumber))).next((()=>this.mr.pr(t,(l=>r.Ar(l))))).next((()=>r.maxValue))}removeTargets(t,i,r){return this.mr.removeTargets(t,i,r)}removeOrphanedDocuments(t,i){return this.mr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(it("LruGarbageCollector","Garbage collection skipped; disabled"),X.resolve(Iv)):this.getCacheSize(t).next((r=>r<this.params.cacheSizeCollectionThreshold?(it("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Iv):this.yr(t,i)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,i){let r,l,c,d,p,_,y;const A=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((b=>(b>this.params.maximumSequenceNumbersToCollect?(it("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),l=this.params.maximumSequenceNumbersToCollect):l=b,d=Date.now(),this.nthSequenceNumber(t,l)))).next((b=>(r=b,p=Date.now(),this.removeTargets(t,r,i)))).next((b=>(c=b,_=Date.now(),this.removeOrphanedDocuments(t,r)))).next((b=>(y=Date.now(),Ua()<=Nt.DEBUG&&it("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-A}ms
	Determined least recently used ${l} in `+(p-d)+`ms
	Removed ${c} targets in `+(_-p)+`ms
	Removed ${b} documents in `+(y-_)+`ms
Total Duration: ${y-A}ms`),X.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:b}))))}}function N2(a,t){return new I2(a,t)}class D2{constructor(){this.changes=new Br((t=>t.toString()),((t,i)=>t.isEqual(i))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,Ze.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const r=this.changes.get(i);return r!==void 0?X.resolve(r):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class O2{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}class M2{constructor(t,i,r,l){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=r,this.indexManager=l}getDocument(t,i){let r=null;return this.documentOverlayCache.getOverlay(t,i).next((l=>(r=l,this.remoteDocumentCache.getEntry(t,i)))).next((l=>(r!==null&&Sl(r.mutation,l,Xn.empty(),ne.now()),l)))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next((r=>this.getLocalViewOfDocuments(t,r,Ot()).next((()=>r))))}getLocalViewOfDocuments(t,i,r=Ot()){const l=Mr();return this.populateOverlays(t,l,i).next((()=>this.computeViews(t,i,l,r).next((c=>{let d=gl();return c.forEach(((p,_)=>{d=d.insert(p,_.overlayedDocument)})),d}))))}getOverlayedDocuments(t,i){const r=Mr();return this.populateOverlays(t,r,i).next((()=>this.computeViews(t,i,r,Ot())))}populateOverlays(t,i,r){const l=[];return r.forEach((c=>{i.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(t,l).next((c=>{c.forEach(((d,p)=>{i.set(d,p)}))}))}computeViews(t,i,r,l){let c=ts();const d=Al(),p=(function(){return Al()})();return i.forEach(((_,y)=>{const A=r.get(y.key);l.has(y.key)&&(A===void 0||A.mutation instanceof qr)?c=c.insert(y.key,y):A!==void 0?(d.set(y.key,A.mutation.getFieldMask()),Sl(A.mutation,y,A.mutation.getFieldMask(),ne.now())):d.set(y.key,Xn.empty())})),this.recalculateAndSaveOverlays(t,c).next((_=>(_.forEach(((y,A)=>d.set(y,A))),i.forEach(((y,A)=>p.set(y,new O2(A,d.get(y)??null)))),p)))}recalculateAndSaveOverlays(t,i){const r=Al();let l=new le(((d,p)=>d-p)),c=Ot();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next((d=>{for(const p of d)p.keys().forEach((_=>{const y=i.get(_);if(y===null)return;let A=r.get(_)||Xn.empty();A=p.applyToLocalView(y,A),r.set(_,A);const b=(l.get(p.batchId)||Ot()).add(_);l=l.insert(p.batchId,b)}))})).next((()=>{const d=[],p=l.getReverseIterator();for(;p.hasNext();){const _=p.getNext(),y=_.key,A=_.value,b=RE();A.forEach((U=>{if(!c.has(U)){const K=ME(i.get(U),r.get(U));K!==null&&b.set(U,K),c=c.add(U)}})),d.push(this.documentOverlayCache.saveOverlays(t,y,b))}return X.waitFor(d)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next((r=>this.recalculateAndSaveOverlays(t,r)))}getDocumentsMatchingQuery(t,i,r,l){return(function(d){return ct.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):VR(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,r,l):this.getDocumentsMatchingCollectionQuery(t,i,r,l)}getNextDocuments(t,i,r,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,r,l).next((c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,r.largestBatchId,l-c.size):X.resolve(Mr());let p=Rl,_=c;return d.next((y=>X.forEach(y,((A,b)=>(p<b.largestBatchId&&(p=b.largestBatchId),c.get(A)?X.resolve():this.remoteDocumentCache.getEntry(t,A).next((U=>{_=_.insert(A,U)}))))).next((()=>this.populateOverlays(t,y,c))).next((()=>this.computeViews(t,_,y,Ot()))).next((A=>({batchId:p,changes:wE(A)})))))}))}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new ct(i)).next((r=>{let l=gl();return r.isFoundDocument()&&(l=l.insert(r.key,r)),l}))}getDocumentsMatchingCollectionGroupQuery(t,i,r,l){const c=i.collectionGroup;let d=gl();return this.indexManager.getCollectionParents(t,c).next((p=>X.forEach(p,(_=>{const y=(function(b,U){return new lh(U,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)})(i,_.child(c));return this.getDocumentsMatchingCollectionQuery(t,y,r,l).next((A=>{A.forEach(((b,U)=>{d=d.insert(b,U)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(t,i,r,l){let c;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,r.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,r,c,l)))).next((d=>{c.forEach(((_,y)=>{const A=y.getKey();d.get(A)===null&&(d=d.insert(A,Ze.newInvalidDocument(A)))}));let p=gl();return d.forEach(((_,y)=>{const A=c.get(_);A!==void 0&&Sl(A.mutation,y,Xn.empty(),ne.now()),ch(i,y)&&(p=p.insert(_,y))})),p}))}}class V2{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,i){return X.resolve(this.Lr.get(i))}saveBundleMetadata(t,i){return this.Lr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:Si(l.createTime)}})(i)),X.resolve()}getNamedQuery(t,i){return X.resolve(this.kr.get(i))}saveNamedQuery(t,i){return this.kr.set(i.name,(function(l){return{name:l.name,query:A2(l.bundledQuery),readTime:Si(l.readTime)}})(i)),X.resolve()}}class x2{constructor(){this.overlays=new le(ct.comparator),this.qr=new Map}getOverlay(t,i){return X.resolve(this.overlays.get(i))}getOverlays(t,i){const r=Mr();return X.forEach(i,(l=>this.getOverlay(t,l).next((c=>{c!==null&&r.set(l,c)})))).next((()=>r))}saveOverlays(t,i,r){return r.forEach(((l,c)=>{this.St(t,i,c)})),X.resolve()}removeOverlaysForBatchId(t,i,r){const l=this.qr.get(r);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(r)),X.resolve()}getOverlaysForCollection(t,i,r){const l=Mr(),c=i.length+1,d=new ct(i.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const _=p.getNext().value,y=_.getKey();if(!i.isPrefixOf(y.path))break;y.path.length===c&&_.largestBatchId>r&&l.set(_.getKey(),_)}return X.resolve(l)}getOverlaysForCollectionGroup(t,i,r,l){let c=new le(((y,A)=>y-A));const d=this.overlays.getIterator();for(;d.hasNext();){const y=d.getNext().value;if(y.getKey().getCollectionGroup()===i&&y.largestBatchId>r){let A=c.get(y.largestBatchId);A===null&&(A=Mr(),c=c.insert(y.largestBatchId,A)),A.set(y.getKey(),y)}}const p=Mr(),_=c.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach(((y,A)=>p.set(y,A))),!(p.size()>=l)););return X.resolve(p)}St(t,i,r){const l=this.overlays.get(r.key);if(l!==null){const d=this.qr.get(l.largestBatchId).delete(r.key);this.qr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new $R(i,r));let c=this.qr.get(i);c===void 0&&(c=Ot(),this.qr.set(i,c)),this.qr.set(i,c.add(r.key))}}class U2{constructor(){this.sessionToken=Qe.EMPTY_BYTE_STRING}getSessionToken(t){return X.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,X.resolve()}}class Om{constructor(){this.Qr=new Ve(ke.$r),this.Ur=new Ve(ke.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,i){const r=new ke(t,i);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(t,i){t.forEach((r=>this.addReference(r,i)))}removeReference(t,i){this.Gr(new ke(t,i))}zr(t,i){t.forEach((r=>this.removeReference(r,i)))}jr(t){const i=new ct(new ee([])),r=new ke(i,t),l=new ke(i,t+1),c=[];return this.Ur.forEachInRange([r,l],(d=>{this.Gr(d),c.push(d.key)})),c}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const i=new ct(new ee([])),r=new ke(i,t),l=new ke(i,t+1);let c=Ot();return this.Ur.forEachInRange([r,l],(d=>{c=c.add(d.key)})),c}containsKey(t){const i=new ke(t,0),r=this.Qr.firstAfterOrEqual(i);return r!==null&&t.isEqual(r.key)}}class ke{constructor(t,i){this.key=t,this.Yr=i}static $r(t,i){return ct.comparator(t.key,i.key)||Dt(t.Yr,i.Yr)}static Kr(t,i){return Dt(t.Yr,i.Yr)||ct.comparator(t.key,i.key)}}class L2{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new Ve(ke.$r)}checkEmpty(t){return X.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,r,l){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new JR(c,i,r,l);this.mutationQueue.push(d);for(const p of l)this.Zr=this.Zr.add(new ke(p.key,c)),this.indexManager.addToCollectionParentIndex(t,p.key.path.popLast());return X.resolve(d)}lookupMutationBatch(t,i){return X.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(t,i){const r=i+1,l=this.ei(r),c=l<0?0:l;return X.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return X.resolve(this.mutationQueue.length===0?Tm:this.tr-1)}getAllMutationBatches(t){return X.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const r=new ke(i,0),l=new ke(i,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([r,l],(d=>{const p=this.Xr(d.Yr);c.push(p)})),X.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,i){let r=new Ve(Dt);return i.forEach((l=>{const c=new ke(l,0),d=new ke(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,d],(p=>{r=r.add(p.Yr)}))})),X.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(t,i){const r=i.path,l=r.length+1;let c=r;ct.isDocumentKey(c)||(c=c.child(""));const d=new ke(new ct(c),0);let p=new Ve(Dt);return this.Zr.forEachWhile((_=>{const y=_.key.path;return!!r.isPrefixOf(y)&&(y.length===l&&(p=p.add(_.Yr)),!0)}),d),X.resolve(this.ti(p))}ti(t){const i=[];return t.forEach((r=>{const l=this.Xr(r);l!==null&&i.push(l)})),i}removeMutationBatch(t,i){qt(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return X.forEach(i.mutations,(l=>{const c=new ke(l.key,i.batchId);return r=r.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)})).next((()=>{this.Zr=r}))}ir(t){}containsKey(t,i){const r=new ke(i,0),l=this.Zr.firstAfterOrEqual(r);return X.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,X.resolve()}ni(t,i){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const i=this.ei(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class k2{constructor(t){this.ri=t,this.docs=(function(){return new le(ct.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const r=i.key,l=this.docs.get(r),c=l?l.size:0,d=this.ri(i);return this.docs=this.docs.insert(r,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const r=this.docs.get(i);return X.resolve(r?r.document.mutableCopy():Ze.newInvalidDocument(i))}getEntries(t,i){let r=ts();return i.forEach((l=>{const c=this.docs.get(l);r=r.insert(l,c?c.document.mutableCopy():Ze.newInvalidDocument(l))})),X.resolve(r)}getDocumentsMatchingQuery(t,i,r,l){let c=ts();const d=i.path,p=new ct(d.child("__id-9223372036854775808__")),_=this.docs.getIteratorFrom(p);for(;_.hasNext();){const{key:y,value:{document:A}}=_.getNext();if(!d.isPrefixOf(y.path))break;y.path.length>d.length+1||cR(uR(A),r)<=0||(l.has(A.key)||ch(i,A))&&(c=c.insert(A.key,A.mutableCopy()))}return X.resolve(c)}getAllFromCollectionGroup(t,i,r,l){mt(9500)}ii(t,i){return X.forEach(this.docs,(r=>i(r)))}newChangeBuffer(t){return new P2(this)}getSize(t){return X.resolve(this.size)}}class P2 extends D2{constructor(t){super(),this.Nr=t}applyChanges(t){const i=[];return this.changes.forEach(((r,l)=>{l.isValidDocument()?i.push(this.Nr.addEntry(t,l)):this.Nr.removeEntry(r)})),X.waitFor(i)}getFromCache(t,i){return this.Nr.getEntry(t,i)}getAllFromCache(t,i){return this.Nr.getEntries(t,i)}}class z2{constructor(t){this.persistence=t,this.si=new Br((i=>bm(i)),wm),this.lastRemoteSnapshotVersion=_t.min(),this.highestTargetId=0,this.oi=0,this._i=new Om,this.targetCount=0,this.ai=Ja.ur()}forEachTarget(t,i){return this.si.forEach(((r,l)=>i(l))),X.resolve()}getLastRemoteSnapshotVersion(t){return X.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return X.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),X.resolve(this.highestTargetId)}setTargetsMetadata(t,i,r){return r&&(this.lastRemoteSnapshotVersion=r),i>this.oi&&(this.oi=i),X.resolve()}Pr(t){this.si.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.ai=new Ja(i),this.highestTargetId=i),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,i){return this.Pr(i),this.targetCount+=1,X.resolve()}updateTargetData(t,i){return this.Pr(i),X.resolve()}removeTargetData(t,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,X.resolve()}removeTargets(t,i,r){let l=0;const c=[];return this.si.forEach(((d,p)=>{p.sequenceNumber<=i&&r.get(p.targetId)===null&&(this.si.delete(d),c.push(this.removeMatchingKeysForTargetId(t,p.targetId)),l++)})),X.waitFor(c).next((()=>l))}getTargetCount(t){return X.resolve(this.targetCount)}getTargetData(t,i){const r=this.si.get(i)||null;return X.resolve(r)}addMatchingKeys(t,i,r){return this._i.Wr(i,r),X.resolve()}removeMatchingKeys(t,i,r){this._i.zr(i,r);const l=this.persistence.referenceDelegate,c=[];return l&&i.forEach((d=>{c.push(l.markPotentiallyOrphaned(t,d))})),X.waitFor(c)}removeMatchingKeysForTargetId(t,i){return this._i.jr(i),X.resolve()}getMatchingKeysForTargetId(t,i){const r=this._i.Hr(i);return X.resolve(r)}containsKey(t,i){return X.resolve(this._i.containsKey(i))}}class QE{constructor(t,i){this.ui={},this.overlays={},this.ci=new rh(0),this.li=!1,this.li=!0,this.hi=new U2,this.referenceDelegate=t(this),this.Pi=new z2(this),this.indexManager=new S2,this.remoteDocumentCache=(function(l){return new k2(l)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new T2(i),this.Ii=new V2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new x2,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let r=this.ui[t.toKey()];return r||(r=new L2(i,this.referenceDelegate),this.ui[t.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,i,r){it("MemoryPersistence","Starting transaction:",t);const l=new j2(this.ci.next());return this.referenceDelegate.Ei(),r(l).next((c=>this.referenceDelegate.di(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ai(t,i){return X.or(Object.values(this.ui).map((r=>()=>r.containsKey(t,i))))}}class j2 extends fR{constructor(t){super(),this.currentSequenceNumber=t}}class Mm{constructor(t){this.persistence=t,this.Ri=new Om,this.Vi=null}static mi(t){return new Mm(t)}get fi(){if(this.Vi)return this.Vi;throw mt(60996)}addReference(t,i,r){return this.Ri.addReference(r,i),this.fi.delete(r.toString()),X.resolve()}removeReference(t,i,r){return this.Ri.removeReference(r,i),this.fi.add(r.toString()),X.resolve()}markPotentiallyOrphaned(t,i){return this.fi.add(i.toString()),X.resolve()}removeTarget(t,i){this.Ri.jr(i.targetId).forEach((l=>this.fi.add(l.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,i.targetId).next((l=>{l.forEach((c=>this.fi.add(c.toString())))})).next((()=>r.removeTargetData(t,i)))}Ei(){this.Vi=new Set}di(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return X.forEach(this.fi,(r=>{const l=ct.fromPath(r);return this.gi(t,l).next((c=>{c||i.removeEntry(l,_t.min())}))})).next((()=>(this.Vi=null,i.apply(t))))}updateLimboDocument(t,i){return this.gi(t,i).next((r=>{r?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(t){return 0}gi(t,i){return X.or([()=>X.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Ai(t,i)])}}class Xc{constructor(t,i){this.persistence=t,this.pi=new Br((r=>gR(r.path)),((r,l)=>r.isEqual(l))),this.garbageCollector=N2(this,i)}static mi(t,i){return new Xc(t,i)}Ei(){}di(t){return X.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}gr(t){const i=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((r=>i.next((l=>r+l))))}wr(t){let i=0;return this.pr(t,(r=>{i++})).next((()=>i))}pr(t,i){return X.forEach(this.pi,((r,l)=>this.br(t,r,l).next((c=>c?X.resolve():i(l)))))}removeTargets(t,i,r){return this.persistence.getTargetCache().removeTargets(t,i,r)}removeOrphanedDocuments(t,i){let r=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ii(t,(d=>this.br(t,d,i).next((p=>{p||(r++,c.removeEntry(d,_t.min()))})))).next((()=>c.apply(t))).next((()=>r))}markPotentiallyOrphaned(t,i){return this.pi.set(i,t.currentSequenceNumber),X.resolve()}removeTarget(t,i){const r=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,r)}addReference(t,i,r){return this.pi.set(r,t.currentSequenceNumber),X.resolve()}removeReference(t,i,r){return this.pi.set(r,t.currentSequenceNumber),X.resolve()}updateLimboDocument(t,i){return this.pi.set(i,t.currentSequenceNumber),X.resolve()}Ti(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=Nc(t.data.value)),i}br(t,i,r){return X.or([()=>this.persistence.Ai(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const l=this.pi.get(i);return X.resolve(l!==void 0&&l>r)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class Vm{constructor(t,i,r,l){this.targetId=t,this.fromCache=i,this.Es=r,this.ds=l}static As(t,i){let r=Ot(),l=Ot();for(const c of i.docChanges)switch(c.type){case 0:r=r.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new Vm(t,i.fromCache,r,l)}}class B2{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class q2{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return MA()?8:dR(Je())>0?6:4})()}initialize(t,i){this.ps=t,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(t,i,r,l){const c={result:null};return this.ys(t,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ws(t,i,l,r).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new B2;return this.Ss(t,i,d).next((p=>{if(c.result=p,this.Vs)return this.bs(t,i,d,p.size)}))})).next((()=>c.result))}bs(t,i,r,l){return r.documentReadCount<this.fs?(Ua()<=Nt.DEBUG&&it("QueryEngine","SDK will not create cache indexes for query:",La(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),X.resolve()):(Ua()<=Nt.DEBUG&&it("QueryEngine","Query:",La(i),"scans",r.documentReadCount,"local documents and returns",l,"documents as results."),r.documentReadCount>this.gs*l?(Ua()<=Nt.DEBUG&&it("QueryEngine","The SDK decides to create cache indexes for query:",La(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Ai(i))):X.resolve())}ys(t,i){if(_v(i))return X.resolve(null);let r=Ai(i);return this.indexManager.getIndexType(t,r).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=Jd(i,null,"F"),r=Ai(i)),this.indexManager.getDocumentsMatchingTarget(t,r).next((c=>{const d=Ot(...c);return this.ps.getDocuments(t,d).next((p=>this.indexManager.getMinOffset(t,r).next((_=>{const y=this.Ds(i,p);return this.Cs(i,y,d,_.readTime)?this.ys(t,Jd(i,null,"F")):this.vs(t,y,i,_)}))))})))))}ws(t,i,r,l){return _v(i)||l.isEqual(_t.min())?X.resolve(null):this.ps.getDocuments(t,r).next((c=>{const d=this.Ds(i,c);return this.Cs(i,d,r,l)?X.resolve(null):(Ua()<=Nt.DEBUG&&it("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),La(i)),this.vs(t,d,i,lR(l,Rl)).next((p=>p)))}))}Ds(t,i){let r=new Ve(SE(t));return i.forEach(((l,c)=>{ch(t,c)&&(r=r.add(c))})),r}Cs(t,i,r,l){if(t.limit===null)return!1;if(r.size!==i.size)return!0;const c=t.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}Ss(t,i,r){return Ua()<=Nt.DEBUG&&it("QueryEngine","Using full collection scan to execute query:",La(i)),this.ps.getDocumentsMatchingQuery(t,i,Ys.min(),r)}vs(t,i,r,l){return this.ps.getDocumentsMatchingQuery(t,r,l).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const xm="LocalStore",H2=3e8;class G2{constructor(t,i,r,l){this.persistence=t,this.Fs=i,this.serializer=l,this.Ms=new le(Dt),this.xs=new Br((c=>bm(c)),wm),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(r)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new M2(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>t.collect(i,this.Ms)))}}function F2(a,t,i,r){return new G2(a,t,i,r)}async function KE(a,t){const i=Et(a);return await i.persistence.runTransaction("Handle user change","readonly",(r=>{let l;return i.mutationQueue.getAllMutationBatches(r).next((c=>(l=c,i.Bs(t),i.mutationQueue.getAllMutationBatches(r)))).next((c=>{const d=[],p=[];let _=Ot();for(const y of l){d.push(y.batchId);for(const A of y.mutations)_=_.add(A.key)}for(const y of c){p.push(y.batchId);for(const A of y.mutations)_=_.add(A.key)}return i.localDocuments.getDocuments(r,_).next((y=>({Ls:y,removedBatchIds:d,addedBatchIds:p})))}))}))}function Q2(a,t){const i=Et(a);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const l=t.batch.keys(),c=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(p,_,y,A){const b=y.batch,U=b.keys();let K=X.resolve();return U.forEach((W=>{K=K.next((()=>A.getEntry(_,W))).next((nt=>{const J=y.docVersions.get(W);qt(J!==null,48541),nt.version.compareTo(J)<0&&(b.applyToRemoteDocument(nt,y),nt.isValidDocument()&&(nt.setReadTime(y.commitVersion),A.addEntry(nt)))}))})),K.next((()=>p.mutationQueue.removeMutationBatch(_,b)))})(i,r,t,c).next((()=>c.apply(r))).next((()=>i.mutationQueue.performConsistencyCheck(r))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(r,l,t.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(p){let _=Ot();for(let y=0;y<p.mutationResults.length;++y)p.mutationResults[y].transformResults.length>0&&(_=_.add(p.batch.mutations[y].key));return _})(t)))).next((()=>i.localDocuments.getDocuments(r,l)))}))}function YE(a){const t=Et(a);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>t.Pi.getLastRemoteSnapshotVersion(i)))}function K2(a,t){const i=Et(a),r=t.snapshotVersion;let l=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});l=i.Ms;const p=[];t.targetChanges.forEach(((A,b)=>{const U=l.get(b);if(!U)return;p.push(i.Pi.removeMatchingKeys(c,A.removedDocuments,b).next((()=>i.Pi.addMatchingKeys(c,A.addedDocuments,b))));let K=U.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(b)!==null?K=K.withResumeToken(Qe.EMPTY_BYTE_STRING,_t.min()).withLastLimboFreeSnapshotVersion(_t.min()):A.resumeToken.approximateByteSize()>0&&(K=K.withResumeToken(A.resumeToken,r)),l=l.insert(b,K),(function(nt,J,ht){return nt.resumeToken.approximateByteSize()===0||J.snapshotVersion.toMicroseconds()-nt.snapshotVersion.toMicroseconds()>=H2?!0:ht.addedDocuments.size+ht.modifiedDocuments.size+ht.removedDocuments.size>0})(U,K,A)&&p.push(i.Pi.updateTargetData(c,K))}));let _=ts(),y=Ot();if(t.documentUpdates.forEach((A=>{t.resolvedLimboDocuments.has(A)&&p.push(i.persistence.referenceDelegate.updateLimboDocument(c,A))})),p.push(Y2(c,d,t.documentUpdates).next((A=>{_=A.ks,y=A.qs}))),!r.isEqual(_t.min())){const A=i.Pi.getLastRemoteSnapshotVersion(c).next((b=>i.Pi.setTargetsMetadata(c,c.currentSequenceNumber,r)));p.push(A)}return X.waitFor(p).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,_,y))).next((()=>_))})).then((c=>(i.Ms=l,c)))}function Y2(a,t,i){let r=Ot(),l=Ot();return i.forEach((c=>r=r.add(c))),t.getEntries(a,r).next((c=>{let d=ts();return i.forEach(((p,_)=>{const y=c.get(p);_.isFoundDocument()!==y.isFoundDocument()&&(l=l.add(p)),_.isNoDocument()&&_.version.isEqual(_t.min())?(t.removeEntry(p,_.readTime),d=d.insert(p,_)):!y.isValidDocument()||_.version.compareTo(y.version)>0||_.version.compareTo(y.version)===0&&y.hasPendingWrites?(t.addEntry(_),d=d.insert(p,_)):it(xm,"Ignoring outdated watch update for ",p,". Current version:",y.version," Watch version:",_.version)})),{ks:d,qs:l}}))}function X2(a,t){const i=Et(a);return i.persistence.runTransaction("Get next mutation batch","readonly",(r=>(t===void 0&&(t=Tm),i.mutationQueue.getNextMutationBatchAfterBatchId(r,t))))}function Z2(a,t){const i=Et(a);return i.persistence.runTransaction("Allocate target","readwrite",(r=>{let l;return i.Pi.getTargetData(r,t).next((c=>c?(l=c,X.resolve(l)):i.Pi.allocateTargetId(r).next((d=>(l=new js(t,d,"TargetPurposeListen",r.currentSequenceNumber),i.Pi.addTargetData(r,l).next((()=>l)))))))})).then((r=>{const l=i.Ms.get(r.targetId);return(l===null||r.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(r.targetId,r),i.xs.set(t,r.targetId)),r}))}async function nm(a,t,i){const r=Et(a),l=r.Ms.get(t),c=i?"readwrite":"readwrite-primary";try{i||await r.persistence.runTransaction("Release target",c,(d=>r.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!so(d))throw d;it(xm,`Failed to update sequence numbers for target ${t}: ${d}`)}r.Ms=r.Ms.remove(t),r.xs.delete(l.target)}function Ov(a,t,i){const r=Et(a);let l=_t.min(),c=Ot();return r.persistence.runTransaction("Execute query","readwrite",(d=>(function(_,y,A){const b=Et(_),U=b.xs.get(A);return U!==void 0?X.resolve(b.Ms.get(U)):b.Pi.getTargetData(y,A)})(r,d,Ai(t)).next((p=>{if(p)return l=p.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(d,p.targetId).next((_=>{c=_}))})).next((()=>r.Fs.getDocumentsMatchingQuery(d,t,i?l:_t.min(),i?c:Ot()))).next((p=>(J2(r,UR(t),p),{documents:p,Qs:c})))))}function J2(a,t,i){let r=a.Os.get(t)||_t.min();i.forEach(((l,c)=>{c.readTime.compareTo(r)>0&&(r=c.readTime)})),a.Os.set(t,r)}class Mv{constructor(){this.activeTargetIds=BR()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class $2{constructor(){this.Mo=new Mv,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,r){}addLocalQueryTarget(t,i=!0){return i&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,i,r){this.xo[t]=i}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new Mv,Promise.resolve()}handleUserChange(t,i,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class W2{Oo(t){}shutdown(){}}const Vv="ConnectivityMonitor";class xv{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){it(Vv,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){it(Vv,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Sc=null;function im(){return Sc===null?Sc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Sc++,"0x"+Sc.toString(16)}const Vd="RestConnection",tC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class eC{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+t.host,this.Ko=`projects/${r}/databases/${l}`,this.Wo=this.databaseId.database===Hc?`project_id=${r}`:`project_id=${r}&database_id=${l}`}Go(t,i,r,l,c){const d=im(),p=this.zo(t,i.toUriEncodedString());it(Vd,`Sending RPC '${t}' ${d}:`,p,r);const _={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(_,l,c);const{host:y}=new URL(p),A=Wa(y);return this.Jo(t,p,_,r,A).then((b=>(it(Vd,`Received RPC '${t}' ${d}: `,b),b)),(b=>{throw Ka(Vd,`RPC '${t}' ${d} failed with error: `,b,"url: ",p,"request:",r),b}))}Ho(t,i,r,l,c,d){return this.Go(t,i,r,l,c)}jo(t,i,r){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+no})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,c)=>t[c]=l)),r&&r.headers.forEach(((l,c)=>t[c]=l))}zo(t,i){const r=tC[t];return`${this.Uo}/v1/${i}:${r}`}terminate(){}}class nC{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}const Ye="WebChannelConnection";class iC extends eC{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,i,r,l,c){const d=im();return new Promise(((p,_)=>{const y=new J0;y.setWithCredentials(!0),y.listenOnce($0.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case Ic.NO_ERROR:const b=y.getResponseJson();it(Ye,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(b)),p(b);break;case Ic.TIMEOUT:it(Ye,`RPC '${t}' ${d} timed out`),_(new ot(Z.DEADLINE_EXCEEDED,"Request time out"));break;case Ic.HTTP_ERROR:const U=y.getStatus();if(it(Ye,`RPC '${t}' ${d} failed with status:`,U,"response text:",y.getResponseText()),U>0){let K=y.getResponseJson();Array.isArray(K)&&(K=K[0]);const W=K?.error;if(W&&W.status&&W.message){const nt=(function(ht){const gt=ht.toLowerCase().replace(/_/g,"-");return Object.values(Z).indexOf(gt)>=0?gt:Z.UNKNOWN})(W.status);_(new ot(nt,W.message))}else _(new ot(Z.UNKNOWN,"Server responded with status "+y.getStatus()))}else _(new ot(Z.UNAVAILABLE,"Connection failed."));break;default:mt(9055,{l_:t,streamId:d,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{it(Ye,`RPC '${t}' ${d} completed.`)}}));const A=JSON.stringify(l);it(Ye,`RPC '${t}' ${d} sending request:`,l),y.send(i,"POST",A,r,15)}))}T_(t,i,r){const l=im(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=eE(),p=tE(),_={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(_.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(_.useFetchStreams=!0),this.jo(_.initMessageHeaders,i,r),_.encodeInitMessageHeaders=!0;const A=c.join("");it(Ye,`Creating RPC '${t}' stream ${l}: ${A}`,_);const b=d.createWebChannel(A,_);this.I_(b);let U=!1,K=!1;const W=new nC({Yo:J=>{K?it(Ye,`Not sending because RPC '${t}' stream ${l} is closed:`,J):(U||(it(Ye,`Opening RPC '${t}' stream ${l} transport.`),b.open(),U=!0),it(Ye,`RPC '${t}' stream ${l} sending:`,J),b.send(J))},Zo:()=>b.close()}),nt=(J,ht,gt)=>{J.listen(ht,(dt=>{try{gt(dt)}catch(Bt){setTimeout((()=>{throw Bt}),0)}}))};return nt(b,ml.EventType.OPEN,(()=>{K||(it(Ye,`RPC '${t}' stream ${l} transport opened.`),W.o_())})),nt(b,ml.EventType.CLOSE,(()=>{K||(K=!0,it(Ye,`RPC '${t}' stream ${l} transport closed`),W.a_(),this.E_(b))})),nt(b,ml.EventType.ERROR,(J=>{K||(K=!0,Ka(Ye,`RPC '${t}' stream ${l} transport errored. Name:`,J.name,"Message:",J.message),W.a_(new ot(Z.UNAVAILABLE,"The operation could not be completed")))})),nt(b,ml.EventType.MESSAGE,(J=>{if(!K){const ht=J.data[0];qt(!!ht,16349);const gt=ht,dt=gt?.error||gt[0]?.error;if(dt){it(Ye,`RPC '${t}' stream ${l} received error:`,dt);const Bt=dt.status;let Jt=(function(S){const w=we[S];if(w!==void 0)return UE(w)})(Bt),Mt=dt.message;Jt===void 0&&(Jt=Z.INTERNAL,Mt="Unknown error status: "+Bt+" with message "+dt.message),K=!0,W.a_(new ot(Jt,Mt)),b.close()}else it(Ye,`RPC '${t}' stream ${l} received:`,ht),W.u_(ht)}})),nt(p,W0.STAT_EVENT,(J=>{J.stat===Fd.PROXY?it(Ye,`RPC '${t}' stream ${l} detected buffering proxy`):J.stat===Fd.NOPROXY&&it(Ye,`RPC '${t}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{W.__()}),0),W}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((i=>i===t))}}function xd(){return typeof document<"u"?document:null}function mh(a){return new o2(a,!0)}class XE{constructor(t,i,r=1e3,l=1.5,c=6e4){this.Mi=t,this.timerId=i,this.d_=r,this.A_=l,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const i=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-r);l>0&&it("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const Uv="PersistentStream";class ZE{constructor(t,i,r,l,c,d,p,_){this.Mi=t,this.S_=r,this.b_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=_,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new XE(t,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():i&&i.code===Z.RESOURCE_EXHAUSTED?(Wi(i.toString()),Wi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===Z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(i)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,l])=>{this.D_===i&&this.G_(r,l)}),(r=>{t((()=>{const l=new ot(Z.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(l)}))}))}G_(t,i){const r=this.W_(this.D_);this.stream=this.j_(t,i),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{r((()=>this.z_(l)))})),this.stream.onMessage((l=>{r((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return it(Uv,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return i=>{this.Mi.enqueueAndForget((()=>this.D_===t?i():(it(Uv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class sC extends ZE{constructor(t,i,r,l,c,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,r,l,d),this.serializer=c}j_(t,i){return this.connection.T_("Listen",t,i)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const i=c2(this.serializer,t),r=(function(c){if(!("targetChange"in c))return _t.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?_t.min():d.readTime?Si(d.readTime):_t.min()})(t);return this.listener.H_(i,r)}Y_(t){const i={};i.database=em(this.serializer),i.addTarget=(function(c,d){let p;const _=d.target;if(p=Zd(_)?{documents:d2(c,_)}:{query:m2(c,_).ft},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=PE(c,d.resumeToken);const y=$d(c,d.expectedCount);y!==null&&(p.expectedCount=y)}else if(d.snapshotVersion.compareTo(_t.min())>0){p.readTime=Yc(c,d.snapshotVersion.toTimestamp());const y=$d(c,d.expectedCount);y!==null&&(p.expectedCount=y)}return p})(this.serializer,t);const r=p2(this.serializer,t);r&&(i.labels=r),this.q_(i)}Z_(t){const i={};i.database=em(this.serializer),i.removeTarget=t,this.q_(i)}}class rC extends ZE{constructor(t,i,r,l,c,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,r,l,d),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,i){return this.connection.T_("Write",t,i)}J_(t){return qt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,qt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){qt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const i=f2(t.writeResults,t.commitTime),r=Si(t.commitTime);return this.listener.na(r,i)}ra(){const t={};t.database=em(this.serializer),this.q_(t)}ea(t){const i={streamToken:this.lastStreamToken,writes:t.map((r=>h2(this.serializer,r)))};this.q_(i)}}class aC{}class oC extends aC{constructor(t,i,r,l){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=r,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new ot(Z.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,i,r,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Go(t,Wd(i,r),l,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ot(Z.UNKNOWN,c.toString())}))}Ho(t,i,r,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,p])=>this.connection.Ho(t,Wd(i,r),l,d,p,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ot(Z.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class lC{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Wi(i),this.aa=!1):it("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const zr="RemoteStore";class uC{constructor(t,i,r,l,c){this.localStore=t,this.datastore=i,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((d=>{r.enqueueAndForget((async()=>{Hr(this)&&(it(zr,"Restarting streams for network reachability change."),await(async function(_){const y=Et(_);y.Ea.add(4),await Bl(y),y.Ra.set("Unknown"),y.Ea.delete(4),await gh(y)})(this))}))})),this.Ra=new lC(r,l)}}async function gh(a){if(Hr(a))for(const t of a.da)await t(!0)}async function Bl(a){for(const t of a.da)await t(!1)}function JE(a,t){const i=Et(a);i.Ia.has(t.targetId)||(i.Ia.set(t.targetId,t),Pm(i)?km(i):ro(i).O_()&&Lm(i,t))}function Um(a,t){const i=Et(a),r=ro(i);i.Ia.delete(t),r.O_()&&$E(i,t),i.Ia.size===0&&(r.O_()?r.L_():Hr(i)&&i.Ra.set("Unknown"))}function Lm(a,t){if(a.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(_t.min())>0){const i=a.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}ro(a).Y_(t)}function $E(a,t){a.Va.Ue(t),ro(a).Z_(t)}function km(a){a.Va=new i2({getRemoteKeysForTarget:t=>a.remoteSyncer.getRemoteKeysForTarget(t),At:t=>a.Ia.get(t)||null,ht:()=>a.datastore.serializer.databaseId}),ro(a).start(),a.Ra.ua()}function Pm(a){return Hr(a)&&!ro(a).x_()&&a.Ia.size>0}function Hr(a){return Et(a).Ea.size===0}function WE(a){a.Va=void 0}async function cC(a){a.Ra.set("Online")}async function hC(a){a.Ia.forEach(((t,i)=>{Lm(a,t)}))}async function fC(a,t){WE(a),Pm(a)?(a.Ra.ha(t),km(a)):a.Ra.set("Unknown")}async function dC(a,t,i){if(a.Ra.set("Online"),t instanceof kE&&t.state===2&&t.cause)try{await(async function(l,c){const d=c.cause;for(const p of c.targetIds)l.Ia.has(p)&&(await l.remoteSyncer.rejectListen(p,d),l.Ia.delete(p),l.Va.removeTarget(p))})(a,t)}catch(r){it(zr,"Failed to remove targets %s: %s ",t.targetIds.join(","),r),await Zc(a,r)}else if(t instanceof Mc?a.Va.Ze(t):t instanceof LE?a.Va.st(t):a.Va.tt(t),!i.isEqual(_t.min()))try{const r=await YE(a.localStore);i.compareTo(r)>=0&&await(function(c,d){const p=c.Va.Tt(d);return p.targetChanges.forEach(((_,y)=>{if(_.resumeToken.approximateByteSize()>0){const A=c.Ia.get(y);A&&c.Ia.set(y,A.withResumeToken(_.resumeToken,d))}})),p.targetMismatches.forEach(((_,y)=>{const A=c.Ia.get(_);if(!A)return;c.Ia.set(_,A.withResumeToken(Qe.EMPTY_BYTE_STRING,A.snapshotVersion)),$E(c,_);const b=new js(A.target,_,y,A.sequenceNumber);Lm(c,b)})),c.remoteSyncer.applyRemoteEvent(p)})(a,i)}catch(r){it(zr,"Failed to raise snapshot:",r),await Zc(a,r)}}async function Zc(a,t,i){if(!so(t))throw t;a.Ea.add(1),await Bl(a),a.Ra.set("Offline"),i||(i=()=>YE(a.localStore)),a.asyncQueue.enqueueRetryable((async()=>{it(zr,"Retrying IndexedDB access"),await i(),a.Ea.delete(1),await gh(a)}))}function tT(a,t){return t().catch((i=>Zc(a,i,t)))}async function ph(a){const t=Et(a),i=$s(t);let r=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Tm;for(;mC(t);)try{const l=await X2(t.localStore,r);if(l===null){t.Ta.length===0&&i.L_();break}r=l.batchId,gC(t,l)}catch(l){await Zc(t,l)}eT(t)&&nT(t)}function mC(a){return Hr(a)&&a.Ta.length<10}function gC(a,t){a.Ta.push(t);const i=$s(a);i.O_()&&i.X_&&i.ea(t.mutations)}function eT(a){return Hr(a)&&!$s(a).x_()&&a.Ta.length>0}function nT(a){$s(a).start()}async function pC(a){$s(a).ra()}async function yC(a){const t=$s(a);for(const i of a.Ta)t.ea(i.mutations)}async function _C(a,t,i){const r=a.Ta.shift(),l=Im.from(r,t,i);await tT(a,(()=>a.remoteSyncer.applySuccessfulWrite(l))),await ph(a)}async function vC(a,t){t&&$s(a).X_&&await(async function(r,l){if((function(d){return t2(d)&&d!==Z.ABORTED})(l.code)){const c=r.Ta.shift();$s(r).B_(),await tT(r,(()=>r.remoteSyncer.rejectFailedWrite(c.batchId,l))),await ph(r)}})(a,t),eT(a)&&nT(a)}async function Lv(a,t){const i=Et(a);i.asyncQueue.verifyOperationInProgress(),it(zr,"RemoteStore received new credentials");const r=Hr(i);i.Ea.add(3),await Bl(i),r&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.Ea.delete(3),await gh(i)}async function EC(a,t){const i=Et(a);t?(i.Ea.delete(2),await gh(i)):t||(i.Ea.add(2),await Bl(i),i.Ra.set("Unknown"))}function ro(a){return a.ma||(a.ma=(function(i,r,l){const c=Et(i);return c.sa(),new sC(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(a.datastore,a.asyncQueue,{Xo:cC.bind(null,a),t_:hC.bind(null,a),r_:fC.bind(null,a),H_:dC.bind(null,a)}),a.da.push((async t=>{t?(a.ma.B_(),Pm(a)?km(a):a.Ra.set("Unknown")):(await a.ma.stop(),WE(a))}))),a.ma}function $s(a){return a.fa||(a.fa=(function(i,r,l){const c=Et(i);return c.sa(),new rC(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(a.datastore,a.asyncQueue,{Xo:()=>Promise.resolve(),t_:pC.bind(null,a),r_:vC.bind(null,a),ta:yC.bind(null,a),na:_C.bind(null,a)}),a.da.push((async t=>{t?(a.fa.B_(),await ph(a)):(await a.fa.stop(),a.Ta.length>0&&(it(zr,`Stopping write stream with ${a.Ta.length} pending writes`),a.Ta=[]))}))),a.fa}class zm{constructor(t,i,r,l,c){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=r,this.op=l,this.removalCallback=c,this.deferred=new Vr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,i,r,l,c){const d=Date.now()+r,p=new zm(t,i,d,l,c);return p.start(r),p}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ot(Z.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function jm(a,t){if(Wi("AsyncQueue",`${t}: ${a}`),so(a))return new ot(Z.UNAVAILABLE,`${t}: ${a}`);throw a}class Ga{static emptySet(t){return new Ga(t.comparator)}constructor(t){this.comparator=t?(i,r)=>t(i,r)||ct.comparator(i.key,r.key):(i,r)=>ct.comparator(i.key,r.key),this.keyedMap=gl(),this.sortedSet=new le(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((i,r)=>(t(i),!1)))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof Ga)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=r.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach((i=>{t.push(i.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const r=new Ga;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=i,r}}class kv{constructor(){this.ga=new le(ct.comparator)}track(t){const i=t.doc.key,r=this.ga.get(i);r?t.type!==0&&r.type===3?this.ga=this.ga.insert(i,t):t.type===3&&r.type!==1?this.ga=this.ga.insert(i,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.ga=this.ga.insert(i,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.ga=this.ga.remove(i):t.type===1&&r.type===2?this.ga=this.ga.insert(i,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):mt(63341,{Rt:t,pa:r}):this.ga=this.ga.insert(i,t)}ya(){const t=[];return this.ga.inorderTraversal(((i,r)=>{t.push(r)})),t}}class $a{constructor(t,i,r,l,c,d,p,_,y){this.query=t,this.docs=i,this.oldDocs=r,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=_,this.hasCachedResults=y}static fromInitialDocuments(t,i,r,l,c){const d=[];return i.forEach((p=>{d.push({type:0,doc:p})})),new $a(t,i,Ga.emptySet(i),d,r,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&uh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,r=t.docChanges;if(i.length!==r.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==r[l].type||!i[l].doc.isEqual(r[l].doc))return!1;return!0}}class TC{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class AC{constructor(){this.queries=Pv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,r){const l=Et(i),c=l.queries;l.queries=Pv(),c.forEach(((d,p)=>{for(const _ of p.Sa)_.onError(r)}))})(this,new ot(Z.ABORTED,"Firestore shutting down"))}}function Pv(){return new Br((a=>AE(a)),uh)}async function SC(a,t){const i=Et(a);let r=3;const l=t.query;let c=i.queries.get(l);c?!c.ba()&&t.Da()&&(r=2):(c=new TC,r=t.Da()?0:1);try{switch(r){case 0:c.wa=await i.onListen(l,!0);break;case 1:c.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const p=jm(d,`Initialization of query '${La(t.query)}' failed`);return void t.onError(p)}i.queries.set(l,c),c.Sa.push(t),t.va(i.onlineState),c.wa&&t.Fa(c.wa)&&Bm(i)}async function bC(a,t){const i=Et(a),r=t.query;let l=3;const c=i.queries.get(r);if(c){const d=c.Sa.indexOf(t);d>=0&&(c.Sa.splice(d,1),c.Sa.length===0?l=t.Da()?0:1:!c.ba()&&t.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(r),i.onUnlisten(r,!0);case 1:return i.queries.delete(r),i.onUnlisten(r,!1);case 2:return i.onLastRemoteStoreUnlisten(r);default:return}}function wC(a,t){const i=Et(a);let r=!1;for(const l of t){const c=l.query,d=i.queries.get(c);if(d){for(const p of d.Sa)p.Fa(l)&&(r=!0);d.wa=l}}r&&Bm(i)}function RC(a,t,i){const r=Et(a),l=r.queries.get(t);if(l)for(const c of l.Sa)c.onError(i);r.queries.delete(t)}function Bm(a){a.Ca.forEach((t=>{t.next()}))}var sm,zv;(zv=sm||(sm={})).Ma="default",zv.Cache="cache";class CC{constructor(t,i,r){this.query=t,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(t){if(!this.options.includeMetadataChanges){const r=[];for(const l of t.docChanges)l.type!==3&&r.push(l);t=new $a(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),i=!0):this.La(t,this.onlineState)&&(this.ka(t),i=!0),this.Na=t,i}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),i=!0),i}La(t,i){if(!t.fromCache||!this.Da())return!0;const r=i!=="Offline";return(!this.options.qa||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(t){t=$a.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==sm.Cache}}class iT{constructor(t){this.key=t}}class sT{constructor(t){this.key=t}}class IC{constructor(t,i){this.query=t,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ot(),this.mutatedKeys=Ot(),this.eu=SE(t),this.tu=new Ga(this.eu)}get nu(){return this.Ya}ru(t,i){const r=i?i.iu:new kv,l=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=l,p=!1;const _=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,y=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal(((A,b)=>{const U=l.get(A),K=ch(this.query,b)?b:null,W=!!U&&this.mutatedKeys.has(U.key),nt=!!K&&(K.hasLocalMutations||this.mutatedKeys.has(K.key)&&K.hasCommittedMutations);let J=!1;U&&K?U.data.isEqual(K.data)?W!==nt&&(r.track({type:3,doc:K}),J=!0):this.su(U,K)||(r.track({type:2,doc:K}),J=!0,(_&&this.eu(K,_)>0||y&&this.eu(K,y)<0)&&(p=!0)):!U&&K?(r.track({type:0,doc:K}),J=!0):U&&!K&&(r.track({type:1,doc:U}),J=!0,(_||y)&&(p=!0)),J&&(K?(d=d.add(K),c=nt?c.add(A):c.delete(A)):(d=d.delete(A),c=c.delete(A)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const A=this.query.limitType==="F"?d.last():d.first();d=d.delete(A.key),c=c.delete(A.key),r.track({type:1,doc:A})}return{tu:d,iu:r,Cs:p,mutatedKeys:c}}su(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,r,l){const c=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const d=t.iu.ya();d.sort(((A,b)=>(function(K,W){const nt=J=>{switch(J){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return mt(20277,{Rt:J})}};return nt(K)-nt(W)})(A.type,b.type)||this.eu(A.doc,b.doc))),this.ou(r),l=l??!1;const p=i&&!l?this._u():[],_=this.Xa.size===0&&this.current&&!l?1:0,y=_!==this.Za;return this.Za=_,d.length!==0||y?{snapshot:new $a(this.query,t.tu,c,d,t.mutatedKeys,_===0,y,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new kv,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),t.modifiedDocuments.forEach((i=>{})),t.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=Ot(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const i=[];return t.forEach((r=>{this.Xa.has(r)||i.push(new sT(r))})),this.Xa.forEach((r=>{t.has(r)||i.push(new iT(r))})),i}cu(t){this.Ya=t.Qs,this.Xa=Ot();const i=this.ru(t.documents);return this.applyChanges(i,!0)}lu(){return $a.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const qm="SyncEngine";class NC{constructor(t,i,r){this.query=t,this.targetId=i,this.view=r}}class DC{constructor(t){this.key=t,this.hu=!1}}class OC{constructor(t,i,r,l,c,d){this.localStore=t,this.remoteStore=i,this.eventManager=r,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new Br((p=>AE(p)),uh),this.Iu=new Map,this.Eu=new Set,this.du=new le(ct.comparator),this.Au=new Map,this.Ru=new Om,this.Vu={},this.mu=new Map,this.fu=Ja.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function MC(a,t,i=!0){const r=cT(a);let l;const c=r.Tu.get(t);return c?(r.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await rT(r,t,i,!0),l}async function VC(a,t){const i=cT(a);await rT(i,t,!0,!1)}async function rT(a,t,i,r){const l=await Z2(a.localStore,Ai(t)),c=l.targetId,d=a.sharedClientState.addLocalQueryTarget(c,i);let p;return r&&(p=await xC(a,t,c,d==="current",l.resumeToken)),a.isPrimaryClient&&i&&JE(a.remoteStore,l),p}async function xC(a,t,i,r,l){a.pu=(b,U,K)=>(async function(nt,J,ht,gt){let dt=J.view.ru(ht);dt.Cs&&(dt=await Ov(nt.localStore,J.query,!1).then((({documents:I})=>J.view.ru(I,dt))));const Bt=gt&&gt.targetChanges.get(J.targetId),Jt=gt&&gt.targetMismatches.get(J.targetId)!=null,Mt=J.view.applyChanges(dt,nt.isPrimaryClient,Bt,Jt);return Bv(nt,J.targetId,Mt.au),Mt.snapshot})(a,b,U,K);const c=await Ov(a.localStore,t,!0),d=new IC(t,c.Qs),p=d.ru(c.documents),_=jl.createSynthesizedTargetChangeForCurrentChange(i,r&&a.onlineState!=="Offline",l),y=d.applyChanges(p,a.isPrimaryClient,_);Bv(a,i,y.au);const A=new NC(t,i,d);return a.Tu.set(t,A),a.Iu.has(i)?a.Iu.get(i).push(t):a.Iu.set(i,[t]),y.snapshot}async function UC(a,t,i){const r=Et(a),l=r.Tu.get(t),c=r.Iu.get(l.targetId);if(c.length>1)return r.Iu.set(l.targetId,c.filter((d=>!uh(d,t)))),void r.Tu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(l.targetId),r.sharedClientState.isActiveQueryTarget(l.targetId)||await nm(r.localStore,l.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(l.targetId),i&&Um(r.remoteStore,l.targetId),rm(r,l.targetId)})).catch(io)):(rm(r,l.targetId),await nm(r.localStore,l.targetId,!0))}async function LC(a,t){const i=Et(a),r=i.Tu.get(t),l=i.Iu.get(r.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(r.targetId),Um(i.remoteStore,r.targetId))}async function kC(a,t,i){const r=GC(a);try{const l=await(function(d,p){const _=Et(d),y=ne.now(),A=p.reduce(((K,W)=>K.add(W.key)),Ot());let b,U;return _.persistence.runTransaction("Locally write mutations","readwrite",(K=>{let W=ts(),nt=Ot();return _.Ns.getEntries(K,A).next((J=>{W=J,W.forEach(((ht,gt)=>{gt.isValidDocument()||(nt=nt.add(ht))}))})).next((()=>_.localDocuments.getOverlayedDocuments(K,W))).next((J=>{b=J;const ht=[];for(const gt of p){const dt=XR(gt,b.get(gt.key).overlayedDocument);dt!=null&&ht.push(new qr(gt.key,dt,gE(dt.value.mapValue),Xi.exists(!0)))}return _.mutationQueue.addMutationBatch(K,y,ht,p)})).next((J=>{U=J;const ht=J.applyToLocalDocumentSet(b,nt);return _.documentOverlayCache.saveOverlays(K,J.batchId,ht)}))})).then((()=>({batchId:U.batchId,changes:wE(b)})))})(r.localStore,t);r.sharedClientState.addPendingMutation(l.batchId),(function(d,p,_){let y=d.Vu[d.currentUser.toKey()];y||(y=new le(Dt)),y=y.insert(p,_),d.Vu[d.currentUser.toKey()]=y})(r,l.batchId,i),await ql(r,l.changes),await ph(r.remoteStore)}catch(l){const c=jm(l,"Failed to persist write");i.reject(c)}}async function aT(a,t){const i=Et(a);try{const r=await K2(i.localStore,t);t.targetChanges.forEach(((l,c)=>{const d=i.Au.get(c);d&&(qt(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?qt(d.hu,14607):l.removedDocuments.size>0&&(qt(d.hu,42227),d.hu=!1))})),await ql(i,r,t)}catch(r){await io(r)}}function jv(a,t,i){const r=Et(a);if(r.isPrimaryClient&&i===0||!r.isPrimaryClient&&i===1){const l=[];r.Tu.forEach(((c,d)=>{const p=d.view.va(t);p.snapshot&&l.push(p.snapshot)})),(function(d,p){const _=Et(d);_.onlineState=p;let y=!1;_.queries.forEach(((A,b)=>{for(const U of b.Sa)U.va(p)&&(y=!0)})),y&&Bm(_)})(r.eventManager,t),l.length&&r.Pu.H_(l),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function PC(a,t,i){const r=Et(a);r.sharedClientState.updateQueryState(t,"rejected",i);const l=r.Au.get(t),c=l&&l.key;if(c){let d=new le(ct.comparator);d=d.insert(c,Ze.newNoDocument(c,_t.min()));const p=Ot().add(c),_=new dh(_t.min(),new Map,new le(Dt),d,p);await aT(r,_),r.du=r.du.remove(c),r.Au.delete(t),Hm(r)}else await nm(r.localStore,t,!1).then((()=>rm(r,t,i))).catch(io)}async function zC(a,t){const i=Et(a),r=t.batch.batchId;try{const l=await Q2(i.localStore,t);lT(i,r,null),oT(i,r),i.sharedClientState.updateMutationState(r,"acknowledged"),await ql(i,l)}catch(l){await io(l)}}async function jC(a,t,i){const r=Et(a);try{const l=await(function(d,p){const _=Et(d);return _.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let A;return _.mutationQueue.lookupMutationBatch(y,p).next((b=>(qt(b!==null,37113),A=b.keys(),_.mutationQueue.removeMutationBatch(y,b)))).next((()=>_.mutationQueue.performConsistencyCheck(y))).next((()=>_.documentOverlayCache.removeOverlaysForBatchId(y,A,p))).next((()=>_.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,A))).next((()=>_.localDocuments.getDocuments(y,A)))}))})(r.localStore,t);lT(r,t,i),oT(r,t),r.sharedClientState.updateMutationState(t,"rejected",i),await ql(r,l)}catch(l){await io(l)}}function oT(a,t){(a.mu.get(t)||[]).forEach((i=>{i.resolve()})),a.mu.delete(t)}function lT(a,t,i){const r=Et(a);let l=r.Vu[r.currentUser.toKey()];if(l){const c=l.get(t);c&&(i?c.reject(i):c.resolve(),l=l.remove(t)),r.Vu[r.currentUser.toKey()]=l}}function rm(a,t,i=null){a.sharedClientState.removeLocalQueryTarget(t);for(const r of a.Iu.get(t))a.Tu.delete(r),i&&a.Pu.yu(r,i);a.Iu.delete(t),a.isPrimaryClient&&a.Ru.jr(t).forEach((r=>{a.Ru.containsKey(r)||uT(a,r)}))}function uT(a,t){a.Eu.delete(t.path.canonicalString());const i=a.du.get(t);i!==null&&(Um(a.remoteStore,i),a.du=a.du.remove(t),a.Au.delete(i),Hm(a))}function Bv(a,t,i){for(const r of i)r instanceof iT?(a.Ru.addReference(r.key,t),BC(a,r)):r instanceof sT?(it(qm,"Document no longer in limbo: "+r.key),a.Ru.removeReference(r.key,t),a.Ru.containsKey(r.key)||uT(a,r.key)):mt(19791,{wu:r})}function BC(a,t){const i=t.key,r=i.path.canonicalString();a.du.get(i)||a.Eu.has(r)||(it(qm,"New document in limbo: "+i),a.Eu.add(r),Hm(a))}function Hm(a){for(;a.Eu.size>0&&a.du.size<a.maxConcurrentLimboResolutions;){const t=a.Eu.values().next().value;a.Eu.delete(t);const i=new ct(ee.fromString(t)),r=a.fu.next();a.Au.set(r,new DC(i)),a.du=a.du.insert(i,r),JE(a.remoteStore,new js(Ai(Rm(i.path)),r,"TargetPurposeLimboResolution",rh.ce))}}async function ql(a,t,i){const r=Et(a),l=[],c=[],d=[];r.Tu.isEmpty()||(r.Tu.forEach(((p,_)=>{d.push(r.pu(_,t,i).then((y=>{if((y||i)&&r.isPrimaryClient){const A=y?!y.fromCache:i?.targetChanges.get(_.targetId)?.current;r.sharedClientState.updateQueryState(_.targetId,A?"current":"not-current")}if(y){l.push(y);const A=Vm.As(_.targetId,y);c.push(A)}})))})),await Promise.all(d),r.Pu.H_(l),await(async function(_,y){const A=Et(_);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",(b=>X.forEach(y,(U=>X.forEach(U.Es,(K=>A.persistence.referenceDelegate.addReference(b,U.targetId,K))).next((()=>X.forEach(U.ds,(K=>A.persistence.referenceDelegate.removeReference(b,U.targetId,K)))))))))}catch(b){if(!so(b))throw b;it(xm,"Failed to update sequence numbers: "+b)}for(const b of y){const U=b.targetId;if(!b.fromCache){const K=A.Ms.get(U),W=K.snapshotVersion,nt=K.withLastLimboFreeSnapshotVersion(W);A.Ms=A.Ms.insert(U,nt)}}})(r.localStore,c))}async function qC(a,t){const i=Et(a);if(!i.currentUser.isEqual(t)){it(qm,"User change. New user:",t.toKey());const r=await KE(i.localStore,t);i.currentUser=t,(function(c,d){c.mu.forEach((p=>{p.forEach((_=>{_.reject(new ot(Z.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await ql(i,r.Ls)}}function HC(a,t){const i=Et(a),r=i.Au.get(t);if(r&&r.hu)return Ot().add(r.key);{let l=Ot();const c=i.Iu.get(t);if(!c)return l;for(const d of c){const p=i.Tu.get(d);l=l.unionWith(p.view.nu)}return l}}function cT(a){const t=Et(a);return t.remoteStore.remoteSyncer.applyRemoteEvent=aT.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=HC.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=PC.bind(null,t),t.Pu.H_=wC.bind(null,t.eventManager),t.Pu.yu=RC.bind(null,t.eventManager),t}function GC(a){const t=Et(a);return t.remoteStore.remoteSyncer.applySuccessfulWrite=zC.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=jC.bind(null,t),t}class Jc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=mh(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,i){return null}Mu(t,i){return null}vu(t){return F2(this.persistence,new q2,t.initialUser,this.serializer)}Cu(t){return new QE(Mm.mi,this.serializer)}Du(t){return new $2}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Jc.provider={build:()=>new Jc};class FC extends Jc{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,i){qt(this.persistence.referenceDelegate instanceof Xc,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new C2(r,t.asyncQueue,i)}Cu(t){const i=this.cacheSizeBytes!==void 0?un.withCacheSize(this.cacheSizeBytes):un.DEFAULT;return new QE((r=>Xc.mi(r,i)),this.serializer)}}class am{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>jv(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=qC.bind(null,this.syncEngine),await EC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new AC})()}createDatastore(t){const i=mh(t.databaseInfo.databaseId),r=(function(c){return new iC(c)})(t.databaseInfo);return(function(c,d,p,_){return new oC(c,d,p,_)})(t.authCredentials,t.appCheckCredentials,r,i)}createRemoteStore(t){return(function(r,l,c,d,p){return new uC(r,l,c,d,p)})(this.localStore,this.datastore,t.asyncQueue,(i=>jv(this.syncEngine,i,0)),(function(){return xv.v()?new xv:new W2})())}createSyncEngine(t,i){return(function(l,c,d,p,_,y,A){const b=new OC(l,c,d,p,_,y);return A&&(b.gu=!0),b})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const r=Et(i);it(zr,"RemoteStore shutting down."),r.Ea.add(5),await Bl(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}am.provider={build:()=>new am};class QC{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):Wi("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,i){setTimeout((()=>{this.muted||t(i)}),0)}}const Ws="FirestoreClient";class KC{constructor(t,i,r,l,c){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=r,this.databaseInfo=l,this.user=Xe.UNAUTHENTICATED,this.clientId=vm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(r,(async d=>{it(Ws,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(r,(d=>(it(Ws,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Vr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const r=jm(i,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}async function Ud(a,t){a.asyncQueue.verifyOperationInProgress(),it(Ws,"Initializing OfflineComponentProvider");const i=a.configuration;await t.initialize(i);let r=i.initialUser;a.setCredentialChangeListener((async l=>{r.isEqual(l)||(await KE(t.localStore,l),r=l)})),t.persistence.setDatabaseDeletedListener((()=>a.terminate())),a._offlineComponents=t}async function qv(a,t){a.asyncQueue.verifyOperationInProgress();const i=await YC(a);it(Ws,"Initializing OnlineComponentProvider"),await t.initialize(i,a.configuration),a.setCredentialChangeListener((r=>Lv(t.remoteStore,r))),a.setAppCheckTokenChangeListener(((r,l)=>Lv(t.remoteStore,l))),a._onlineComponents=t}async function YC(a){if(!a._offlineComponents)if(a._uninitializedComponentsProvider){it(Ws,"Using user provided OfflineComponentProvider");try{await Ud(a,a._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!(function(l){return l.name==="FirebaseError"?l.code===Z.FAILED_PRECONDITION||l.code===Z.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;Ka("Error using user provided cache. Falling back to memory cache: "+i),await Ud(a,new Jc)}}else it(Ws,"Using default OfflineComponentProvider"),await Ud(a,new FC(void 0));return a._offlineComponents}async function hT(a){return a._onlineComponents||(a._uninitializedComponentsProvider?(it(Ws,"Using user provided OnlineComponentProvider"),await qv(a,a._uninitializedComponentsProvider._online)):(it(Ws,"Using default OnlineComponentProvider"),await qv(a,new am))),a._onlineComponents}function XC(a){return hT(a).then((t=>t.syncEngine))}async function Hv(a){const t=await hT(a),i=t.eventManager;return i.onListen=MC.bind(null,t.syncEngine),i.onUnlisten=UC.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=VC.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=LC.bind(null,t.syncEngine),i}function fT(a){const t={};return a.timeoutSeconds!==void 0&&(t.timeoutSeconds=a.timeoutSeconds),t}const Gv=new Map;const dT="firestore.googleapis.com",Fv=!0;class Qv{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new ot(Z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=dT,this.ssl=Fv}else this.host=t.host,this.ssl=t.ssl??Fv;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=FE;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<w2)throw new ot(Z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}oR("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=fT(t.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new ot(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new ot(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new ot(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(r,l){return r.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class yh{constructor(t,i,r,l){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=r,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Qv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ot(Z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ot(Z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Qv(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new Jw;switch(r.type){case"firstParty":return new eR(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ot(Z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const r=Gv.get(i);r&&(it("ComponentProvider","Removing Datastore"),Gv.delete(i),r.terminate())})(this),Promise.resolve()}}function ZC(a,t,i,r={}){a=Ha(a,yh);const l=Wa(t),c=a._getSettings(),d={...c,emulatorOptions:a._getEmulatorOptions()},p=`${t}:${i}`;l&&(c0(`https://${p}`),h0("Firestore",!0)),c.host!==dT&&c.host!==p&&Ka("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const _={...c,host:p,ssl:l,emulatorOptions:r};if(!Ur(_,d)&&(a._setSettings(_),r.mockUserToken)){let y,A;if(typeof r.mockUserToken=="string")y=r.mockUserToken,A=Xe.MOCK_USER;else{y=SA(r.mockUserToken,a._app?.options.projectId);const b=r.mockUserToken.sub||r.mockUserToken.user_id;if(!b)throw new ot(Z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new Xe(b)}a._authCredentials=new $w(new iE(y,A))}}class _h{constructor(t,i,r){this.converter=i,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new _h(this.firestore,t,this._query)}}class Me{constructor(t,i,r){this.converter=i,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Qs(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Me(this.firestore,t,this._key)}toJSON(){return{type:Me._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,i,r){if(Pl(i,Me._jsonSchema))return new Me(t,r||null,new ct(ee.fromString(i.referencePath)))}}Me._jsonSchemaVersion="firestore/documentReference/1.0",Me._jsonSchema={type:Re("string",Me._jsonSchemaVersion),referencePath:Re("string")};class Qs extends _h{constructor(t,i,r){super(t,i,Rm(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Me(this.firestore,null,new ct(t))}withConverter(t){return new Qs(this.firestore,t,this._path)}}function JC(a,t,...i){if(a=vn(a),sE("collection","path",t),a instanceof yh){const r=ee.fromString(t,...i);return rv(r),new Qs(a,null,r)}{if(!(a instanceof Me||a instanceof Qs))throw new ot(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=a._path.child(ee.fromString(t,...i));return rv(r),new Qs(a.firestore,null,r)}}function $C(a,t,...i){if(a=vn(a),arguments.length===1&&(t=vm.newId()),sE("doc","path",t),a instanceof yh){const r=ee.fromString(t,...i);return sv(r),new Me(a,null,new ct(r))}{if(!(a instanceof Me||a instanceof Qs))throw new ot(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=a._path.child(ee.fromString(t,...i));return sv(r),new Me(a.firestore,a instanceof Qs?a.converter:null,new ct(r))}}const Kv="AsyncQueue";class Yv{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new XE(this,"async_queue_retry"),this._c=()=>{const r=xd();r&&it(Kv,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=t;const i=xd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const i=xd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new Vr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!so(t))throw t;it(Kv,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const i=this.ac.then((()=>(this.rc=!0,t().catch((r=>{throw this.nc=r,this.rc=!1,Wi("INTERNAL UNHANDLED ERROR: ",Xv(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=i,i}enqueueAfterDelay(t,i,r){this.uc(),this.oc.indexOf(t)>-1&&(i=0);const l=zm.createAndSchedule(this,t,i,r,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&mt(47125,{Pc:Xv(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const i of this.tc)if(i.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((i,r)=>i.targetTimeMs-r.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const i=this.tc.indexOf(t);this.tc.splice(i,1)}}function Xv(a){let t=a.message||"";return a.stack&&(t=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),t}function Zv(a){return(function(i,r){if(typeof i!="object"||i===null)return!1;const l=i;for(const c of r)if(c in l&&typeof l[c]=="function")return!0;return!1})(a,["next","error","complete"])}class $c extends yh{constructor(t,i,r,l){super(t,i,r,l),this.type="firestore",this._queue=new Yv,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new Yv(t),this._firestoreClient=void 0,await t}}}function WC(a,t){const i=typeof a=="object"?a:g0(),r=typeof a=="string"?a:Hc,l=cm(i,"firestore").getImmediate({identifier:r});if(!l._initialized){const c=TA("firestore");c&&ZC(l,...c)}return l}function mT(a){if(a._terminated)throw new ot(Z.FAILED_PRECONDITION,"The client has already been terminated.");return a._firestoreClient||tI(a),a._firestoreClient}function tI(a){const t=a._freezeSettings(),i=(function(l,c,d,p){return new _R(l,c,d,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,fT(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(a._databaseId,a._app?.options.appId||"",a._persistenceKey,t);a._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(a._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),a._firestoreClient=new KC(a._authCredentials,a._appCheckCredentials,a._queue,i,a._componentsProvider&&(function(l){const c=l?._online.build();return{_offline:l?._offline.build(c),_online:c}})(a._componentsProvider))}class xn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new xn(Qe.fromBase64String(t))}catch(i){throw new ot(Z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new xn(Qe.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:xn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Pl(t,xn._jsonSchema))return xn.fromBase64String(t.bytes)}}xn._jsonSchemaVersion="firestore/bytes/1.0",xn._jsonSchema={type:Re("string",xn._jsonSchemaVersion),bytes:Re("string")};class Gm{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new ot(Z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Fe(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class Fm{constructor(t){this._methodName=t}}class bi{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new ot(Z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new ot(Z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Dt(this._lat,t._lat)||Dt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:bi._jsonSchemaVersion}}static fromJSON(t){if(Pl(t,bi._jsonSchema))return new bi(t.latitude,t.longitude)}}bi._jsonSchemaVersion="firestore/geoPoint/1.0",bi._jsonSchema={type:Re("string",bi._jsonSchemaVersion),latitude:Re("number"),longitude:Re("number")};class wi{constructor(t){this._values=(t||[]).map((i=>i))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(r,l){if(r.length!==l.length)return!1;for(let c=0;c<r.length;++c)if(r[c]!==l[c])return!1;return!0})(this._values,t._values)}toJSON(){return{type:wi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Pl(t,wi._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((i=>typeof i=="number")))return new wi(t.vectorValues);throw new ot(Z.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}wi._jsonSchemaVersion="firestore/vectorValue/1.0",wi._jsonSchema={type:Re("string",wi._jsonSchemaVersion),vectorValues:Re("object")};const eI=/^__.*__$/;class nI{constructor(t,i,r){this.data=t,this.fieldMask=i,this.fieldTransforms=r}toMutation(t,i){return this.fieldMask!==null?new qr(t,this.data,this.fieldMask,i,this.fieldTransforms):new zl(t,this.data,i,this.fieldTransforms)}}function gT(a){switch(a){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw mt(40011,{Ac:a})}}class Qm{constructor(t,i,r,l,c,d){this.settings=t,this.databaseId=i,this.serializer=r,this.ignoreUndefinedProperties=l,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new Qm({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const i=this.path?.child(t),r=this.Vc({path:i,fc:!1});return r.gc(t),r}yc(t){const i=this.path?.child(t),r=this.Vc({path:i,fc:!1});return r.Rc(),r}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return Wc(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((i=>t.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>t.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(gT(this.Ac)&&eI.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class iI{constructor(t,i,r){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=r||mh(t)}Cc(t,i,r,l=!1){return new Qm({Ac:t,methodName:i,Dc:r,path:Fe.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function sI(a){const t=a._freezeSettings(),i=mh(a._databaseId);return new iI(a._databaseId,!!t.ignoreUndefinedProperties,i)}function rI(a,t,i,r,l,c={}){const d=a.Cc(c.merge||c.mergeFields?2:0,t,i,l);vT("Data must be an object, but it was:",d,r);const p=yT(r,d);let _,y;if(c.merge)_=new Xn(d.fieldMask),y=d.fieldTransforms;else if(c.mergeFields){const A=[];for(const b of c.mergeFields){const U=aI(t,b,i);if(!d.contains(U))throw new ot(Z.INVALID_ARGUMENT,`Field '${U}' is specified in your field mask but missing from your input data.`);lI(A,U)||A.push(U)}_=new Xn(A),y=d.fieldTransforms.filter((b=>_.covers(b.field)))}else _=null,y=d.fieldTransforms;return new nI(new Vn(p),_,y)}class Km extends Fm{_toFieldTransform(t){return new FR(t.path,new Dl)}isEqual(t){return t instanceof Km}}function pT(a,t){if(_T(a=vn(a)))return vT("Unsupported field value:",t,a),yT(a,t);if(a instanceof Fm)return(function(r,l){if(!gT(l.Ac))throw l.Sc(`${r._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${r._methodName}() is not currently supported inside arrays`);const c=r._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(a,t),null;if(a===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),a instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(r,l){const c=[];let d=0;for(const p of r){let _=pT(p,l.wc(d));_==null&&(_={nullValue:"NULL_VALUE"}),c.push(_),d++}return{arrayValue:{values:c}}})(a,t)}return(function(r,l){if((r=vn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return qR(l.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const c=ne.fromDate(r);return{timestampValue:Yc(l.serializer,c)}}if(r instanceof ne){const c=new ne(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Yc(l.serializer,c)}}if(r instanceof bi)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof xn)return{bytesValue:PE(l.serializer,r._byteString)};if(r instanceof Me){const c=l.databaseId,d=r.firestore._databaseId;if(!d.isEqual(c))throw l.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Dm(r.firestore._databaseId||l.databaseId,r._key.path)}}if(r instanceof wi)return(function(d,p){return{mapValue:{fields:{[dE]:{stringValue:mE},[Gc]:{arrayValue:{values:d.toArray().map((y=>{if(typeof y!="number")throw p.Sc("VectorValues must only contain numeric values.");return Cm(p.serializer,y)}))}}}}}})(r,l);throw l.Sc(`Unsupported field value: ${Em(r)}`)})(a,t)}function yT(a,t){const i={};return oE(a)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):jr(a,((r,l)=>{const c=pT(l,t.mc(r));c!=null&&(i[r]=c)})),{mapValue:{fields:i}}}function _T(a){return!(typeof a!="object"||a===null||a instanceof Array||a instanceof Date||a instanceof ne||a instanceof bi||a instanceof xn||a instanceof Me||a instanceof Fm||a instanceof wi)}function vT(a,t,i){if(!_T(i)||!rE(i)){const r=Em(i);throw r==="an object"?t.Sc(a+" a custom object"):t.Sc(a+" "+r)}}function aI(a,t,i){if((t=vn(t))instanceof Gm)return t._internalPath;if(typeof t=="string")return ET(a,t);throw Wc("Field path arguments must be of type string or ",a,!1,void 0,i)}const oI=new RegExp("[~\\*/\\[\\]]");function ET(a,t,i){if(t.search(oI)>=0)throw Wc(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,a,!1,void 0,i);try{return new Gm(...t.split("."))._internalPath}catch{throw Wc(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,a,!1,void 0,i)}}function Wc(a,t,i,r,l){const c=r&&!r.isEmpty(),d=l!==void 0;let p=`Function ${t}() called with invalid data`;i&&(p+=" (via `toFirestore()`)"),p+=". ";let _="";return(c||d)&&(_+=" (found",c&&(_+=` in field ${r}`),d&&(_+=` in document ${l}`),_+=")"),new ot(Z.INVALID_ARGUMENT,p+a+_)}function lI(a,t){return a.some((i=>i.isEqual(t)))}class TT{constructor(t,i,r,l,c){this._firestore=t,this._userDataWriter=i,this._key=r,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Me(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new uI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const i=this._document.data.field(AT("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class uI extends TT{data(){return super.data()}}function AT(a,t){return typeof t=="string"?ET(a,t):t instanceof Gm?t._internalPath:t._delegate._internalPath}function cI(a){if(a.limitType==="L"&&a.explicitOrderBy.length===0)throw new ot(Z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class hI{convertValue(t,i="none"){switch(Js(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ge(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(Zs(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw mt(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const r={};return jr(t,((l,c)=>{r[l]=this.convertValue(c,i)})),r}convertVectorValue(t){const i=t.fields?.[Gc].arrayValue?.values?.map((r=>ge(r.doubleValue)));return new wi(i)}convertGeoPoint(t){return new bi(ge(t.latitude),ge(t.longitude))}convertArray(t,i){return(t.values||[]).map((r=>this.convertValue(r,i)))}convertServerTimestamp(t,i){switch(i){case"previous":const r=oh(t);return r==null?null:this.convertValue(r,i);case"estimate":return this.convertTimestamp(Cl(t));default:return null}}convertTimestamp(t){const i=Xs(t);return new ne(i.seconds,i.nanos)}convertDocumentKey(t,i){const r=ee.fromString(t);qt(GE(r),9688,{name:t});const l=new Il(r.get(1),r.get(3)),c=new ct(r.popFirst(5));return l.isEqual(i)||Wi(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}function fI(a,t,i){let r;return r=a?i&&(i.merge||i.mergeFields)?a.toFirestore(t,i):a.toFirestore(t):t,r}class yl{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class xr extends TT{constructor(t,i,r,l,c,d){super(t,i,r,l,d),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new Vc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const r=this._document.data.field(AT("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ot(Z.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,i={};return i.type=xr._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}xr._jsonSchemaVersion="firestore/documentSnapshot/1.0",xr._jsonSchema={type:Re("string",xr._jsonSchemaVersion),bundleSource:Re("string","DocumentSnapshot"),bundleName:Re("string"),bundle:Re("string")};class Vc extends xr{data(t={}){return super.data(t)}}class Fa{constructor(t,i,r,l){this._firestore=t,this._userDataWriter=i,this._snapshot=l,this.metadata=new yl(l.hasPendingWrites,l.fromCache),this.query=r}get docs(){const t=[];return this.forEach((i=>t.push(i))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach((r=>{t.call(i,new Vc(this._firestore,this._userDataWriter,r.key,r,new yl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ot(Z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((p=>{const _=new Vc(l._firestore,l._userDataWriter,p.doc.key,p.doc,new yl(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);return p.doc,{type:"added",doc:_,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((p=>c||p.type!==3)).map((p=>{const _=new Vc(l._firestore,l._userDataWriter,p.doc.key,p.doc,new yl(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);let y=-1,A=-1;return p.type!==0&&(y=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),A=d.indexOf(p.doc.key)),{type:dI(p.type),doc:_,oldIndex:y,newIndex:A}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ot(Z.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Fa._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=vm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],r=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),r.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function dI(a){switch(a){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return mt(61501,{type:a})}}Fa._jsonSchemaVersion="firestore/querySnapshot/1.0",Fa._jsonSchema={type:Re("string",Fa._jsonSchemaVersion),bundleSource:Re("string","QuerySnapshot"),bundleName:Re("string"),bundle:Re("string")};class ST extends hI{constructor(t){super(),this.firestore=t}convertBytes(t){return new xn(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new Me(this.firestore,null,i)}}function mI(a,t,i){a=Ha(a,Me);const r=Ha(a.firestore,$c),l=fI(a.converter,t,i);return pI(r,[rI(sI(r),"setDoc",a._key,l,a.converter!==null,i).toMutation(a._key,Xi.none())])}function gI(a,...t){a=vn(a);let i={includeMetadataChanges:!1,source:"default"},r=0;typeof t[r]!="object"||Zv(t[r])||(i=t[r++]);const l={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(Zv(t[r])){const _=t[r];t[r]=_.next?.bind(_),t[r+1]=_.error?.bind(_),t[r+2]=_.complete?.bind(_)}let c,d,p;if(a instanceof Me)d=Ha(a.firestore,$c),p=Rm(a._key.path),c={next:_=>{t[r]&&t[r](yI(d,a,_))},error:t[r+1],complete:t[r+2]};else{const _=Ha(a,_h);d=Ha(_.firestore,$c),p=_._query;const y=new ST(d);c={next:A=>{t[r]&&t[r](new Fa(d,y,_,A))},error:t[r+1],complete:t[r+2]},cI(a._query)}return(function(y,A,b,U){const K=new QC(U),W=new CC(A,K,b);return y.asyncQueue.enqueueAndForget((async()=>SC(await Hv(y),W))),()=>{K.Nu(),y.asyncQueue.enqueueAndForget((async()=>bC(await Hv(y),W)))}})(mT(d),p,l,c)}function pI(a,t){return(function(r,l){const c=new Vr;return r.asyncQueue.enqueueAndForget((async()=>kC(await XC(r),l,c))),c.promise})(mT(a),t)}function yI(a,t,i){const r=i.docs.get(t._key),l=new ST(a);return new xr(a,l,t._key,r,new yl(i.hasPendingWrites,i.fromCache),t.converter)}function _I(){return new Km("serverTimestamp")}(function(t,i=!0){(function(l){no=l})(to),Qa(new Lr("firestore",((r,{instanceIdentifier:l,options:c})=>{const d=r.getProvider("app").getImmediate(),p=new $c(new Ww(r.getProvider("auth-internal")),new nR(d,r.getProvider("app-check-internal")),(function(y,A){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new ot(Z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Il(y.options.projectId,A)})(d,l),d);return c={useFetchStreams:i,...c},p._setSettings(c),p}),"PUBLIC").setMultipleInstances(!0)),Hs(tv,ev,t),Hs(tv,ev,"esm2020")})();const vI=a=>a.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),EI=a=>a.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,i,r)=>r?r.toUpperCase():i.toLowerCase()),Jv=a=>{const t=EI(a);return t.charAt(0).toUpperCase()+t.slice(1)},bT=(...a)=>a.filter((t,i,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===i).join(" ").trim(),TI=a=>{for(const t in a)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};var AI={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const SI=oe.forwardRef(({color:a="currentColor",size:t=24,strokeWidth:i=2,absoluteStrokeWidth:r,className:l="",children:c,iconNode:d,...p},_)=>oe.createElement("svg",{ref:_,...AI,width:t,height:t,stroke:a,strokeWidth:r?Number(i)*24/Number(t):i,className:bT("lucide",l),...!c&&!TI(p)&&{"aria-hidden":"true"},...p},[...d.map(([y,A])=>oe.createElement(y,A)),...Array.isArray(c)?c:[c]]));const Zn=(a,t)=>{const i=oe.forwardRef(({className:r,...l},c)=>oe.createElement(SI,{ref:c,iconNode:t,className:bT(`lucide-${vI(Jv(a))}`,`lucide-${a}`,r),...l}));return i.displayName=Jv(a),i};const bI=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],wI=Zn("heart",bI);const RI=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],CI=Zn("layout-grid",RI);const II=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],NI=Zn("lock",II);const DI=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],OI=Zn("log-in",DI);const MI=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],VI=Zn("log-out",MI);const xI=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],$v=Zn("map-pin",xI);const UI=[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]],Wv=Zn("navigation",UI);const LI=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],kI=Zn("refresh-cw",LI);const PI=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],zI=Zn("send",PI);const jI=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],BI=Zn("settings",jI);const qI=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],t0=Zn("user",qI),HI={apiKey:"AIzaSyDse4kjmrO-N8jqHV5sKHQ3T_UrS0eFpYo",authDomain:"friend-map-app.firebaseapp.com",projectId:"friend-map-app",storageBucket:"friend-map-app.firebasestorage.app",messagingSenderId:"366133879234",appId:"1:366133879234:web:70d61c54e8767b1a6ef65b"},wT=m0(HI),Ld=Xw(wT),e0=WC(wT),n0=typeof __app_id<"u"?__app_id:"default-app-id",GI=["7KC07Iuc6riw","7Jik7Iqk7Yu0","7J207KeE64iE","7ISx7JuQ7KCc","66WY7Kex","7ZmN67CV7IKs"],RT=a=>{try{const t=btoa(unescape(encodeURIComponent(a.trim())));return GI.includes(t)}catch{return!1}},i0=({text:a,color:t="bg-green-500"})=>B.jsx("span",{className:`${t} text-white text-[10px] font-bold px-2 py-0.5 rounded-full ml-2 shadow-sm`,children:a}),xa=({children:a,className:t="",onClick:i})=>B.jsx("div",{onClick:i,className:`bg-white/70 backdrop-blur-md border border-white/50 shadow-lg shadow-blue-100/50 rounded-[32px] p-6 transition-all active:scale-95 duration-200 ${t}`,children:a}),dl=({icon:a,label:t,active:i})=>B.jsxs("button",{className:`flex flex-col items-center justify-center space-y-1 w-full ${i?"text-gray-900":"text-gray-400"}`,children:[B.jsx("div",{className:`p-1 rounded-xl transition-all ${i?"bg-white shadow-sm":""}`,children:B.jsx(a,{size:20,strokeWidth:i?2.5:2})}),B.jsx("span",{className:"text-[9px] font-medium",children:t})]}),FI=({onLogin:a})=>{const[t,i]=oe.useState(""),[r,l]=oe.useState(""),c=d=>{d.preventDefault(),RT(t)?a(t.trim()):(l("  .   ."),setTimeout(()=>l(""),2e3))};return B.jsx("div",{className:"fixed inset-0 z-[999] bg-gray-900/40 backdrop-blur-xl flex items-center justify-center p-6 animate-in fade-in duration-500",children:B.jsxs("div",{className:"bg-white/90 w-full max-w-sm rounded-[32px] p-8 shadow-2xl border border-white",children:[B.jsxs("div",{className:"flex flex-col items-center mb-6",children:[B.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mb-4 shadow-inner",children:B.jsx(NI,{className:"text-blue-500",size:32})}),B.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:" ?"}),B.jsxs("p",{className:"text-gray-500 text-sm mt-2 text-center",children:[" 6   .",B.jsx("br",{}),"(    )"]})]}),B.jsxs("form",{onSubmit:c,className:"space-y-4",children:[B.jsx("div",{children:B.jsx("input",{type:"text",value:t,onChange:d=>i(d.target.value),placeholder:" ",className:"w-full bg-gray-100 border-none rounded-2xl px-5 py-4 text-center text-lg font-bold focus:ring-2 focus:ring-blue-500 outline-none transition-all placeholder-gray-400",autoFocus:!0})}),r&&B.jsx("div",{className:"text-red-500 text-xs text-center font-bold animate-pulse",children:r}),B.jsxs("button",{type:"submit",className:"w-full bg-gray-900 text-white font-bold py-4 rounded-2xl shadow-lg hover:bg-black active:scale-95 transition-all flex items-center justify-center gap-2",children:[" ",B.jsx(OI,{size:18})]})]})]})})},QI=({locations:a,center:t})=>{const i=oe.useRef(null),r=oe.useRef(null),l=oe.useRef({});oe.useEffect(()=>{if(document.querySelector('script[src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"]')){c();return}const p=document.createElement("link");p.rel="stylesheet",p.href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css",document.head.appendChild(p);const _=document.createElement("script");return _.src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js",_.async=!0,_.onload=()=>c(),document.body.appendChild(_),()=>{r.current&&(r.current.remove(),r.current=null)}},[]);const c=()=>{if(!window.L||r.current||!i.current)return;const p=t?[t.latitude,t.longitude]:[37.5665,126.978],_=window.L.map(i.current,{zoomControl:!1,attributionControl:!1}).setView(p,15);window.L.tileLayer("https://{s}.basemaps.cartocdn.com/rastertiles/voyager/{z}/{x}/{y}{r}.png",{attribution:"&copy; OpenStreetMap contributors &copy; CARTO",maxZoom:20}).addTo(_),r.current=_,d()};oe.useEffect(()=>{d()},[a]),oe.useEffect(()=>{r.current&&t&&r.current.setView([t.latitude,t.longitude],15)},[t]);const d=()=>{if(!r.current||!window.L)return;const p=r.current,_=a.map(y=>y.uid);a.forEach(y=>{if(!y.latitude||!y.longitude)return;const A=[y.latitude,y.longitude],b=window.L.divIcon({className:"custom-div-icon",html:`<div style="background-color: white; border-radius: 50%; width: 40px; height: 40px; display: flex; justify-content: center; align-items: center; box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1); font-size: 24px;">${y.emoji||""}</div><div style="text-align:center; font-size: 10px; font-weight:bold; background: rgba(255,255,255,0.8); padding: 2px 4px; border-radius: 4px; margin-top: 4px; white-space: nowrap;">${y.displayName}</div>`,iconSize:[40,40],iconAnchor:[20,20]});if(l.current[y.uid])l.current[y.uid].setLatLng(A),l.current[y.uid].setIcon(b);else{const U=window.L.marker(A,{icon:b}).addTo(p);l.current[y.uid]=U}}),Object.keys(l.current).forEach(y=>{_.includes(y)||(r.current.removeLayer(l.current[y]),delete l.current[y])})};return B.jsxs("div",{className:"w-full h-full rounded-[32px] overflow-hidden shadow-inner border border-white/50 relative",children:[B.jsx("div",{id:"map",ref:i,style:{width:"100%",height:"100%",minHeight:"60vh"},className:"z-0"}),B.jsx("div",{className:"absolute top-4 left-4 right-4 z-[400] pointer-events-none",children:B.jsx("div",{className:"bg-white/80 backdrop-blur-md rounded-2xl p-3 shadow-sm inline-block",children:B.jsx("span",{className:"text-xs font-bold text-gray-600",children:" / "})})})]})};function KI(){const[a,t]=oe.useState(null),[i,r]=oe.useState([]),[l,c]=oe.useState(!1),[d,p]=oe.useState(""),[_,y]=oe.useState("home"),[A,b]=oe.useState(!1),[U,K]=oe.useState(""),[W,nt]=oe.useState("");oe.useEffect(()=>{const S=localStorage.getItem("friendMapUserName");S&&RT(S)&&(nt(S),b(!0),H_(Ld).catch(console.error));const w=Pb(Ld,M=>{t(M)});return()=>w()},[]);const J=async S=>{try{nt(S),localStorage.setItem("friendMapUserName",S),b(!0),await H_(Ld)}catch(w){console.error("Login failed:",w),alert("   .")}},ht=()=>{window.location.href="index.html"};oe.useEffect(()=>{if(!a||!A)return;const S=JC(e0,"artifacts",n0,"public","data","user_locations"),w=gI(S,M=>{const N=M.docs.map(x=>({id:x.id,...x.data()}));N.sort((x,R)=>x.uid===a.uid?-1:R.uid===a.uid?1:(R.timestamp?.seconds||0)-(x.timestamp?.seconds||0)),r(N)},M=>{console.error("Error fetching locations:",M)});return()=>w()},[a,A]);const gt=()=>{if(!(!a||!A)){if(c(!0),!navigator.geolocation){alert("    ."),c(!1);return}navigator.geolocation.getCurrentPosition(async S=>{const{latitude:w,longitude:M}=S.coords;try{const N=$C(e0,"artifacts",n0,"public","data","user_locations",a.uid);await mI(N,{uid:a.uid,latitude:w,longitude:M,statusMessage:d||"  ! ",timestamp:_I(),emoji:U,displayName:W},{merge:!0}),c(!1)}catch(N){console.error("Error updating location:",N),c(!1)}},S=>{console.error("Geolocation error:",S),alert("    .     ."),c(!1)})}},dt=S=>S?S.toDate().toLocaleTimeString("ko-KR",{hour:"2-digit",minute:"2-digit"}):"",Bt=()=>i.find(S=>S.uid===a?.uid);if(!A)return B.jsx(FI,{onLogin:J});const Jt=()=>B.jsxs("div",{className:"space-y-4 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[B.jsxs("div",{className:"bg-blue-50/50 p-4 rounded-2xl border border-blue-100 flex items-center justify-between",children:[B.jsxs("div",{children:[B.jsx("span",{className:"text-xs font-bold text-blue-500 block",children:"!"}),B.jsxs("span",{className:"text-lg font-bold text-gray-800",children:[W," "]})]}),B.jsx("div",{className:"text-2xl",children:U})]}),B.jsxs(xa,{className:"flex flex-row items-center justify-between min-h-[100px] cursor-pointer",onClick:gt,children:[B.jsxs("div",{className:"flex items-center space-x-4",children:[B.jsx("div",{className:"w-12 h-12 rounded-full bg-blue-100 flex items-center justify-center text-blue-500 shadow-inner",children:l?B.jsx(kI,{className:"animate-spin"}):B.jsx(Wv,{fill:"currentColor"})}),B.jsxs("div",{className:"flex flex-col",children:[B.jsx("span",{className:"font-bold text-lg text-gray-800",children:"  "}),B.jsx("span",{className:"text-sm text-gray-500",children:l?"  ...":"   "})]})]}),B.jsx("div",{className:"bg-gray-100 rounded-full p-2",children:B.jsx(zI,{size:20,className:"text-gray-400"})})]}),B.jsxs(xa,{className:"min-h-[100px] relative overflow-hidden",children:[B.jsxs("div",{className:"flex items-center justify-between mb-2",children:[B.jsxs("div",{className:"flex items-center space-x-3",children:[B.jsx("div",{className:"w-10 h-10 rounded-full bg-green-100 flex items-center justify-center text-green-600 shadow-inner",children:B.jsx(wI,{size:20,fill:"currentColor"})}),B.jsx("span",{className:"font-bold text-gray-800 text-lg",children:" "})]}),B.jsx(i0,{text:"UPDATE",color:"bg-green-500"})]}),B.jsx("input",{type:"text",value:d,onChange:S=>p(S.target.value),placeholder:"  ...",className:"w-full mt-2 bg-gray-50/50 border-none rounded-xl px-4 py-3 text-sm focus:ring-2 focus:ring-green-200 outline-none transition-all placeholder-gray-400 text-gray-700"})]}),B.jsx("div",{className:"pt-4 pb-2",children:B.jsx("h2",{className:"text-lg font-bold text-gray-800",children:"  "})}),B.jsxs(xa,{className:"bg-gradient-to-r from-blue-50/80 to-indigo-50/80 min-h-[120px] flex items-center justify-between relative overflow-hidden group",onClick:()=>y("friends"),children:[B.jsxs("div",{className:"z-10 relative",children:[B.jsx("div",{className:"flex items-center gap-2 mb-1",children:B.jsx("span",{className:"text-[10px] font-bold text-blue-500 bg-blue-100 px-1.5 py-0.5 rounded",children:"LIVE"})}),B.jsxs("h3",{className:"text-xl font-bold text-gray-800 leading-tight",children:[" ",B.jsx("br",{})," ",B.jsxs("span",{className:"text-blue-600",children:[i.length,""]})," "]})]}),B.jsx("div",{className:"w-16 h-16 rounded-full bg-white shadow-lg flex items-center justify-center z-10",children:B.jsx(t0,{size:32,className:"text-blue-500",fill:"currentColor"})})]})]}),Mt=()=>B.jsxs("div",{className:"space-y-4 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[B.jsx("div",{className:"pt-2 pb-2",children:B.jsxs("h2",{className:"text-lg font-bold text-gray-800",children:["  (",i.length,")"]})}),B.jsx("div",{className:"grid grid-cols-2 gap-4",children:i.length===0?B.jsx("div",{className:"col-span-2 text-center py-10 text-gray-400 bg-white/40 rounded-[32px]",children:"     "}):i.map((S,w)=>B.jsxs(xa,{className:`flex flex-col justify-between min-h-[160px] relative ${S.uid===a?.uid?"border-blue-300 bg-blue-50/60":w%2===0?"bg-red-50/40":"bg-green-50/40"}`,children:[B.jsxs("div",{className:"flex justify-between items-start",children:[B.jsx("div",{className:"w-10 h-10 rounded-2xl bg-white shadow-sm flex items-center justify-center text-2xl",children:S.emoji||""}),S.uid===a?.uid&&B.jsx(i0,{text:"ME",color:"bg-blue-500"})]}),B.jsxs("div",{className:"mt-4",children:[B.jsx("h4",{className:"font-bold text-gray-800 text-lg line-clamp-1",children:S.displayName}),B.jsx("p",{className:"text-xs text-gray-500 font-medium mt-1 line-clamp-1",children:S.statusMessage}),B.jsxs("div",{className:"mt-3 flex items-center justify-between",children:[B.jsx("span",{className:"text-xs text-gray-400",children:dt(S.timestamp)}),B.jsx("button",{onClick:M=>{M.stopPropagation(),y("map")},className:"p-1.5 bg-white rounded-full text-gray-500 shadow-sm active:scale-90 transition-transform",children:B.jsx($v,{size:14})})]})]})]},S.id))})]}),I=()=>B.jsxs("div",{className:"space-y-4 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[B.jsx("div",{className:"pt-2 pb-2",children:B.jsx("h2",{className:"text-lg font-bold text-gray-800",children:" "})}),B.jsxs(xa,{className:"space-y-4",children:[B.jsxs("div",{children:[B.jsx("label",{className:"text-xs font-bold text-gray-500 ml-1",children:"  ( )"}),B.jsx("div",{className:"w-full mt-1 bg-gray-100 border border-gray-100 rounded-xl px-4 py-3 text-sm text-gray-500",children:W})]}),B.jsxs("div",{children:[B.jsx("label",{className:"text-xs font-bold text-gray-500 ml-1",children:" ( )"}),B.jsx("div",{className:"flex gap-2 mt-2 overflow-x-auto pb-2",children:["","","","","","","","","","","","",""].map(S=>B.jsx("button",{onClick:()=>K(S),className:`text-2xl p-3 rounded-xl transition-all ${U===S?"bg-blue-100 scale-110 shadow-sm":"bg-gray-50 hover:bg-gray-100"}`,children:S},S))})]}),B.jsx("button",{onClick:gt,className:"w-full bg-blue-500 text-white font-bold py-3 rounded-xl shadow-lg shadow-blue-200 active:scale-95 transition-all mt-2",children:"  "}),B.jsx("div",{className:"pt-4 border-t border-gray-100",children:B.jsx("button",{onClick:()=>{localStorage.removeItem("friendMapUserName"),b(!1),nt("")},className:"w-full bg-gray-200 text-gray-600 font-bold py-3 rounded-xl active:scale-95 transition-all text-sm",children:" (  )"})})]})]});return B.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-[#E8F0FE] via-[#F3E8FF] to-[#E8F8F5] pb-28 font-sans select-none overflow-x-hidden",children:[B.jsx("div",{className:"px-6 pt-12 pb-6",children:B.jsxs("div",{className:"flex justify-between items-start",children:[B.jsx("div",{children:B.jsxs("h1",{className:"text-2xl font-bold text-gray-800 leading-snug",children:[_==="home"&&B.jsxs(B.Fragment,{children:[" ,",B.jsx("br",{}),"  ? "]}),_==="map"&&B.jsxs(B.Fragment,{children:[" ",B.jsx("br",{}),"  "]}),_==="friends"&&B.jsxs(B.Fragment,{children:[" ",B.jsx("br",{}),"  "]}),_==="settings"&&B.jsxs(B.Fragment,{children:[" ",B.jsx("br",{}),"  "]})]})}),B.jsx("div",{className:"flex space-x-2 mt-1",children:B.jsx("div",{className:"opacity-50",children:B.jsx("img",{src:"https://cdn-icons-png.flaticon.com/512/740/740878.png",alt:"star",className:"w-10 h-10 drop-shadow-md animate-pulse",style:{filter:"sepia(0.2) hue-rotate(10deg)"}})})})]})}),B.jsxs("div",{className:"px-5",children:[_==="home"&&B.jsx(Jt,{}),_==="friends"&&B.jsx(Mt,{}),_==="settings"&&B.jsx(I,{}),_==="map"&&B.jsxs("div",{className:"space-y-4 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[B.jsx("div",{className:"h-[60vh] relative",children:B.jsx(QI,{locations:i,center:Bt()})}),B.jsxs(xa,{className:"py-4 flex items-center justify-between",children:[B.jsxs("div",{className:"flex items-center space-x-3",children:[B.jsx("div",{className:"w-10 h-10 rounded-full bg-blue-100 flex items-center justify-center text-blue-600 font-bold",children:i.length}),B.jsxs("div",{className:"flex flex-col",children:[B.jsx("span",{className:"font-bold text-sm text-gray-800",children:"  "}),B.jsx("span",{className:"text-[10px] text-gray-500",children:"  !"})]})]}),B.jsx("button",{onClick:gt,className:"bg-gray-900 text-white px-4 py-2 rounded-full text-xs font-bold shadow-md active:scale-95 transition-transform",children:"  "})]})]})]}),B.jsx("div",{className:"fixed bottom-6 left-1/2 transform -translate-x-1/2 w-[95%] max-w-lg z-[500]",children:B.jsxs("div",{className:"bg-white/80 backdrop-blur-xl rounded-[28px] shadow-2xl shadow-gray-200/50 p-1 flex justify-between items-center h-[72px] border border-white/50 px-1",children:[B.jsx("div",{onClick:()=>y("home"),className:"flex-1",children:B.jsx(dl,{icon:CI,label:"",active:_==="home"})}),B.jsx("div",{onClick:()=>y("map"),className:"flex-1",children:B.jsx(dl,{icon:$v,label:"",active:_==="map"})}),B.jsx("div",{className:"-mt-8 mx-1",onClick:gt,children:B.jsx("div",{className:"w-14 h-14 bg-gray-900 rounded-full shadow-xl shadow-gray-400/50 flex items-center justify-center text-white active:scale-90 transition-transform cursor-pointer ring-4 ring-white/50",children:B.jsx(Wv,{fill:"currentColor",size:24})})}),B.jsx("div",{onClick:()=>y("friends"),className:"flex-1",children:B.jsx(dl,{icon:t0,label:"",active:_==="friends"})}),B.jsx("div",{onClick:()=>y("settings"),className:"flex-1",children:B.jsx(dl,{icon:BI,label:"",active:_==="settings"})}),B.jsx("div",{onClick:ht,className:"flex-1",children:B.jsx(dl,{icon:VI,label:"",active:!1})})]})})]})}fA.createRoot(document.getElementById("root")).render(B.jsx(oe.StrictMode,{children:B.jsx(KI,{})}));
